if (self.CavalryLogger) { CavalryLogger.start_js(["Hav5X"]); }

__d("AdsInstagramPreviewStrings",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a={VIEW_PRODUCTS:h._("View Products"),IN_THIS_PHOTO:h._("In This Photo"),MORE_FROM_MERCHANT:function(a){return h._("More from {merchantUsername}",[h._param("merchantUsername",a)])},VIEW_ALL_PRODUCTS:h._("View All Products")};c={PAID_PARTNERSHIP_WITH:function(a){return h._("Paid partnership with {=[sponsor name]}",[h._param("=[sponsor name]",i.jsx("div",{className:"_843s",children:h._("{sponsor name}",[h._param("sponsor name",a)])}))])}};d={SPONSORED:h._("Sponsored"),KEEP_WATCHING:h._("Keep Watching")};e.exports={BRANDED_CONTENT_AD_STRINGS:c,COMMON_STRINGS:d,SHOPPING_AD_STRINGS:a}}),null);
__d("AdsInstagramStoryProgressBar",["Event","Style","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=5e3,h=25;a={init:function(a,c,d){var e,f=Date.now(),i=0,j,k=0,l=function a(){e&&(i=(Date.now()-f+i)%e,f=Date.now(),k=Math.max(0,i/e*100),b("Style").set(c,"width",k+"%")),j=b("setTimeout")(a,h)};if(a instanceof HTMLVideoElement){var m=a;d!=null&&typeof d==="number"&&d>0?e=d*1e3:m.readyState>=m.HAVE_METADATA?e=m.duration*1e3:b("Event").listen(m,"loadedmetadata",function(){e=m.duration*1e3});b("Event").listen(m,"timeupdate",function(){f=Date.now(),i=m.currentTime*1e3})}else e=g;j=b("setTimeout")(l,h);b("Event").listen(a,"DOMNodeRemoved",function(){return b("clearTimeout")(j)})}};e.exports=a}),null);
__d("AdsInstagramPreviewCommonUtils",["cx","fbt","AdsInstagramStoryProgressBar","DOM","DOMContainer.react","Image.react","Locale","React","UnicodeBidi"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(){return i.jsx(b("Image.react"),{className:"_86t",src:"/images/instagram/ads/preview/story-close.png"})}function c(a){a=b("UnicodeBidi").isDirectionRTL(a);var c=b("Locale").isRTL(),d="";a&&!c?d="rtl":!a&&c&&(d="ltr");return d}function d(a){var c=b("DOM").create("div",{className:a.fillClass});b("AdsInstagramStoryProgressBar").init(a.media,c);c=i.jsx(b("DOMContainer.react"),{children:c});return i.jsxs("div",{className:a.barClass,children:[" ",c," "]})}function f(a){return i.jsxs("div",{className:"_6m_u",children:[i.jsx(b("Image.react"),{className:"_6m_v",src:a.profilePicUrl}),i.jsx("div",{className:"_6m_w",children:a.username}),i.jsx("div",{className:"_6m_x",children:h._("Sponsored")})]})}function j(a,b,c){var d=j.canvas=document.createElement("canvas");d=d.getContext("2d");d.font=b;b=c?a.replace(" ","").length*c:0;c=d.measureText(a);return c.width+b}e.exports={AdsInstagramCloseButton:a,AdsInstagramGetTextDirection:c,AdsInstagramProgressBar:d,AdsInstagramUserMetadata:f,getTextWidthForAdPreviewCaption:j}}),null);
__d("AdsPreviewDynamicCaption",["cx","AdsInstagramPreviewCommonUtils","InstagramAdsPreview","React","useBoolean"],(function(a,b,c,d,e,f,g){var h=b("AdsInstagramPreviewCommonUtils").AdsInstagramGetTextDirection,i=b("AdsInstagramPreviewCommonUtils").getTextWidthForAdPreviewCaption,j=b("React"),k="... ",l=3e3,m="";function n(a,b,c,d){var e=0,f=a.length-1;while(e<=f){var g=Math.floor((e+f)/2),h=a.slice(0,g+1).join(m);i(h,b,c)<=d?e=g+1:f=g-1}return e}function o(a,b,c,d,e){var f=[],g=[],h=0,i=0;while(h<a.length||g.length>0){i++;if(i>l)throw new Error("something went wrong while rendering caption. please report this issue.");var j=void 0;g.length>0?j=g:j=a[h];if(j.length===0){f.push("");h++;continue}var k=h===0&&g.length===0&&e!=null?d-e:d;k=n(j,b,c,k);if(k===0){var o=j[0];f.push(o);g=j.slice(1,j.length)}else{o=j.slice(0,k).join(m);f.push(o);g=j.slice(k)}if(g.length>0)continue;h++}return f}function p(a){var b=a.inlineSentencesList[a.maxLines-1].split(m),c=i(k+a.ellipsis,a.font,a.letterSpacing);c=n(b,a.font,a.letterSpacing,a.maxWidth-c);b=b.slice(0,c).join(m);return j.jsxs("span",{className:"_8rs5",direction:a.textDirection,id:"inner-caption",children:[a.inlineSentencesList.slice(0,a.maxLines-1).map(function(a,b){return j.jsxs("span",{children:[a,j.jsx("br",{})]},b)}),j.jsxs("span",{direction:a.textDirection,children:[b,k,j.jsx("button",{className:"_8hfd",style:a.ellipsisStyle,onClick:a.isDynamicPlacement!==!0&&a.toggleShowMore,children:a.ellipsis})]},"lastCaption")]})}function a(a){var c=b("useBoolean")(!1),d=c.value;c=c.toggle;var e=a.text.split("\n").map(b("InstagramAdsPreview").tokenizeCaption);e=o(e,a.font,a.letterSpacing,a.maxWidth,a.offsetWidth);var f=h(e[0]);return e.length>a.maxLines&&!d?j.jsx(p,{ellipsis:a.ellipsis,ellipsisStyle:a.ellipsisStyle,font:a.font,inlineSentencesList:e,isDynamicPlacement:a.isDynamicPlacement,letterSpacing:a.letterSpacing,maxLines:a.maxLines,maxWidth:a.maxWidth,textDirection:f,toggleShowMore:c}):j.jsx("span",{className:"_8rs5","data-ad-preview":"ig-message",direction:f,id:"inner-caption",children:e.map(function(a,b){return j.jsx("span",{children:a},b)})})}e.exports=a}),null);
__d("AdsInstagramStoryPreviewConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={BOTTOM_MARGIN_BASE:18,BOTTOM_MARGIN_BASE_V2:42,BOTTOM_MARGIN_HAS_CTA:63,BOTTOM_MARGIN_HAS_DISCLAIMER:86,BOTTOM_MARGIN_HAS_CTA_HAS_DISCLAIMER:107,CAPTION_MAX_WIDTH:282,CAROUSEL_DURATION_IN_MS:5e3,CAROUSEL_INITIAL_SPACE:4,CAROUSEL_NON_9_BY_16_MEDIA_HEIGHT:318,CAROUSEL_NON_9_BY_16_DYNAMIC_MEDIA_HEIGHT:342,CAROUSEL_PRE_OPT_IN_VIDEO_MAX_DURATION_IN_MS:15e3,CAROUSEL_SEGMENT_BAR_WIDTH:312,DEFAULT_MEDIA_DURATION_IN_MS:5e3,DYNAMIC_MEDIA_OFFSET_HEIGHT:68,DYNAMIC_MEDIA_OFFSET_HEIGHT_ONE_LINE:50,DYNAMIC_MEDIA_SCALED_OFFSET_HEIGHT:48,DYNAMIC_MEDIA_SCALED_OFFSET_HEIGHT_ONE_LINE:24,FORCE_DELIVERY_LIMIT:3,FRAME_HEIGHT:565,FRAME_WIDTH:318,HORIZONTAL_MARGIN_CAPTION:48,VERTICAL_MARGIN_CAPTION:48,LINE_HEIGHT:18,MAX_CAPTION_HEIGHT_WITH_FLAT_MEDIA:113,MAX_CAPTION_LINE_COUNT:6,MAX_FONT_SIZE:20,MIN_FONT_SIZE:13,MIN_SPACE:11,PROGRESS_BAR_ANIMATION_DURATION_IN_MS:250,TIMER_UPDATE_INTERVAL_IN_MS:250,TOP_MARGIN:44,UPDATE_TIMEOUT_IN_MS:25,VIDEO_STORY_TRUNCATION_LENGTH_IN_SEC:15,INITIAL_MEDIA_CARD_INDEX:0,OPT_IN_BUTTON_CLICK_ACTION:"OPT_IN_BUTTON_CLICK_ACTION",REPEAT_OPT_IN_FIRST_FRAME_ACTION:"REPEAT_OPT_IN_FIRST_FRAME_ACTION",PLAY_PREV_MEDIA_ACTION:"PLAY_PREV_MEDIA_ACTION",PLAY_NEXT_MEDIA_ACTION:"PLAY_NEXT_MEDIA_ACTION",SCHEDULE_AUTOPLAY:"SCHEDULE_AUTOPLAY",FIRST_REF_READY:"FIRST_REF_READY",REFS_READY:"REFS_READY"}}),null);
__d("AdsInstagramPollingSticker.react",["cx","AdsInstagramInteractiveComponentConstants","AdsInstagramStoryPreviewConstants","EmojiRenderer","InstagramAdsPreview","React","Style"],(function(a,b,c,d,e,f,g){"use strict";var h=(c=b("AdsInstagramInteractiveComponentConstants")).DEFAULT_OPTION_TEXT_SIZE,i=c.DEFAULT_POLLING_STICKER_WIDTH,j=c.MAX_OPTION_TEXT_LINE_COUNT,k=c.MAX_OPTION_TEXT_SIZE,l=c.MIN_OPTION_TEXT_SIZE,m=c.OPTION_BOX_TEXT_BLOCK_HEIGHT,n=c.OPTION_BOX_TEXT_BLOCK_WIDTH,o=b("AdsInstagramStoryPreviewConstants").FRAME_WIDTH,p=b("React");d=b("React");var q=d.useEffect,r=d.useRef;function s(a){if(!a||!a.offsetHeight)return;b("InstagramAdsPreview").setDynamicTextSizeForCaption(a,m-1,n,j,k,l);var c=(m-a.offsetHeight)/2;if(a.offsetHeight>=m){var d=parseInt(window.getComputedStyle(a,null).getPropertyValue("line-height"),10);d=d*j;b("Style").set(a,"maxHeight",d+"px");c=(m-d)/2}b("Style").set(a,"bottom",c+"px")}function t(a){var c=b("EmojiRenderer").parse(a.text),d=[],e=0;c.map(function(b){e<b.offset&&d.push({isEmoji:!1,text:a.text.substr(e,b.offset-e)}),d.push({isEmoji:!0,text:b.emoji.join("")}),e=b.offset+b.length});e<a.text.length&&d.push({isEmoji:!1,text:a.text.substr(e,a.text.length-e)});return p.jsx("div",{children:d.map(function(a,b){return p.jsx("span",{className:a.isEmoji?"":"_6-0b",children:a.text},a.text+"_"+b)})})}function u(a){var c=r(null);q(function(){c.current&&c.current instanceof HTMLElement&&(b("Style").set(c.current,"maxHeight","54px"),s(c.current))},[a.poll_spec.option_a_text,a.poll_spec.option_b_text,a.position_spec.height,a.position_spec.width]);return c}function a(a){var b=a.component,c=a.height,d=a.width,e=u(b),f=u(b),g=b.position_spec.x*d,j=b.position_spec.y*c,k=b.position_spec.width*o/i,l=360*b.position_spec.rotation;l="rotate("+l+"deg) scale("+k+")";a=[(k=a.component.poll_spec)==null?void 0:k.option_a_text,(k=a.component.poll_spec)==null?void 0:k.option_b_text].map(function(a){return(a||"").toUpperCase()});k=a[0];a=a[1];return p.jsxs("div",{className:"_6se2",style:{height:c,width:d,top:j,left:g,transform:l},children:[p.jsx("div",{className:"_6sfb"}),p.jsx("div",{className:"_6sfc"}),p.jsx("text",{className:"_6sfd",style:{fontFamily:"SFUIText-Heavy"},children:(c=b.poll_spec)==null?void 0:c.question_text}),p.jsx("div",{className:"_6sfe",children:p.jsx("div",{className:"_6sff",ref:e,style:{fontFamily:"aveny t reg",fontSize:h},children:p.jsx(t,{text:k})})}),p.jsx("div",{className:"_6sfg",children:p.jsx("div",{className:"_6sfh",ref:f,style:{fontFamily:"aveny t reg",fontSize:h},children:p.jsx(t,{text:a})})})]})}e.exports=a}),null);
__d("AdsInstagramInteractiveComponentList.react",["cx","AdsInstagramPollingSticker.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){if(!a.components||a.components.size<1)return null;var c=a.components.map(function(c,d){return c.type===1?h.jsx(b("AdsInstagramPollingSticker.react"),{component:c,height:a.mediaHeight,width:a.mediaWidth},"polling_sticker_"+d):null});return h.jsx("div",{className:"_6se1",style:{height:a.mediaHeight},children:c})}e.exports=a}),null);
__d("AdsInstagramMultiMediaProgressBar.react",["AdsInstagramStoryPreviewConstants","Event","React","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("AdsInstagramStoryPreviewConstants")).CAROUSEL_INITIAL_SPACE,h=a.CAROUSEL_SEGMENT_BAR_WIDTH,i=a.DEFAULT_MEDIA_DURATION_IN_MS,j=a.PROGRESS_BAR_ANIMATION_DURATION_IN_MS,k=a.UPDATE_TIMEOUT_IN_MS,l=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={progressStartTime:0,animationStartTime:0,progressPercent:0,animationRemainingPercent:0,maxTimeDurationMS:j},c.$4=function(){var a=c.$6(),b=c.$5();c.setState({progressPercent:a,animationRemainingPercent:b})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1(),this.$2()};d.componentDidUpdate=function(a){this.props.firstFrame!==a.firstFrame&&this.setState({animationStartTime:Date.now(),animationRemainingPercent:100}),(this.props.mediaIndex!==a.mediaIndex||this.props.customMaxPlayDurationInMS!==a.customMaxPlayDurationInMS)&&this.$1(),this.props.mediaIndex!==a.mediaIndex&&this.$2()};d.componentWillUnmount=function(){b("clearInterval")(this.interval)};d.render=function(){var a=this,b=this.props,c=b.medias,d=b.mediaIndex,e=b.firstFrame,f=b.barClass,g=b.fillClass,h=this.state.progressPercent;return l.jsx("div",{children:c.map(function(b,i){b=c.length;if(b<1||e===!0&&i>0)return null;b=a.$3(i);var j=b.left;b=b.right;var k=(d-i)*100+h;k>100?k=100:k<0&&(k=0);return l.jsx("div",{className:f,style:{left:j,right:b},children:l.jsx("div",{className:g,style:{width:k+"%"}})},i)})})};d.$2=function(){this.setState({progressStartTime:Date.now()}),this.interval&&b("clearInterval")(this.interval),this.interval=b("setInterval")(this.$4,k)};d.$5=function(){var a=Date.now()-this.state.animationStartTime;a=(1-a/j)*100;return Math.max(0,a)};d.$6=function(){var a=this.state,b=a.maxTimeDurationMS;a=a.progressStartTime;var c=this.props.mediaRef.current!=null?this.props.mediaRef.current:this.props.medias[this.props.mediaIndex];c instanceof HTMLVideoElement?c=c.currentTime*1e3:c=(Date.now()-a)%b;return Math.max(0,c/b*100)};d.$1=function(){var a=this,c=this.props.mediaRef.current!=null?this.props.mediaRef.current:this.props.medias[this.props.mediaIndex],d=this.props.customMaxPlayDurationInMS,e=d!=null&&d>0?d:Infinity;c instanceof HTMLVideoElement?c.readyState>=c.HAVE_METADATA?this.setState({maxTimeDurationMS:Math.min(e,c.duration*1e3)}):b("Event").listen(c,"loadedmetadata",function(){a.setState({maxTimeDurationMS:Math.min(e,c.duration*1e3)})}):this.setState({maxTimeDurationMS:Math.min(e,i)})};d.$3=function(a){var b=this.state.animationRemainingPercent,c=this.props.firstFrame===!0?1:this.props.medias.length,d,e,f=Math.floor(h/c),i=f*c;i=h-i;var j=g+Math.floor(i/2);i=g+Math.ceil(i/2);if(b==0)d=j+f*a,e=i+f*(c-a-1);else{var k=f*((c-1)/c);k=k*(1-b/100);b=f-k;if(a==0)d=j,e=j+k;else{f=j+b;j=c-1;b=a-1;d=f+k/j*b;e=i+k/j*(j-b-1)}}return{left:d,right:e}};return c}(l.Component);e.exports=c}),null);
__d("AdsInstagramStoryPreviewDynamicCaption.react",["cx","fbt","AdsInstagramPreviewCommonUtils","AdsInstagramStoryPreviewConstants","AdsPreviewDynamicCaption","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsInstagramPreviewCommonUtils").AdsInstagramGetTextDirection,j=b("AdsInstagramStoryPreviewConstants").LINE_HEIGHT,k=b("AdsInstagramStoryPreviewConstants").MAX_CAPTION_LINE_COUNT,l=b("React");c=b("React");var m=c.useRef,n="more",o=.5,p=16;function a(a){var c=m(null),d=m(null),e=a.dynamicStoryCaptionInfos[a.index];if(!e)return null;var f=e.caption;if(f==null||f=="")return null;var g=e.caption_coordinate.bottom_right_y_coordinate-e.caption_coordinate.upper_left_y_coordinate,q=e.caption_coordinate.bottom_right_x_coordinate-e.caption_coordinate.upper_left_x_coordinate,r=Math.min(Math.floor(g/j),k),s={backgroundColor:e.caption_background_color,color:e.caption_color,fontSize:e.text_size};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"_93i9",id:"non_9_x_16_story_caption_block",ref:c,style:{left:e.caption_coordinate.upper_left_x_coordinate+"px",width:q+"px",top:e.caption_coordinate.upper_left_y_coordinate+"px",height:g+"px"},children:l.jsx("span",{className:"_93ia",dir:i((c=f)!=null?c:""),id:"non_9_x_16_story_caption_text",ref:d,style:babelHelpers["extends"]({},s,{fontFamily:"Tahoma, Helvetica, Arial, sans-serif"}),children:l.jsx(b("AdsPreviewDynamicCaption"),{ellipsis:n,ellipsisStyle:s,font:e.text_size+"px Tahoma, Helvetica, Arial, sans-serif",isDynamicPlacement:!0,letterSpacing:o,maxLines:r,maxWidth:q-p,offsetWidth:0,text:f||""})})}),a.isAutotranslated===!0&&l.jsx("div",{className:"_8ckx",style:{color:e.caption_color},children:h._("Automatically Translated")})]})}e.exports=a}),null);
__d("AdsInstagramAdPreviewCustomHooks",["EventListener","React","SubRipText","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect,h=c.useRef;function i(a,c){if(a==null||c==null)return;var d=c.current;d instanceof HTMLVideoElement&&(Array.prototype.forEach.call(d.textTracks,function(a){return a.mode="hidden"}),b("EventListener").listen(d,"play",function(){Array.prototype.forEach.call(d.textTracks,function(b){b.mode="showing",a&&Array.prototype.forEach.call(b.cues,function(b){return b.line=a})})}))}function a(a,c,d){var e=h(null);g(function(){var f=e.current,g=new(b("XHRRequest"))(a);a!==null&&f&&f instanceof HTMLTrackElement&&(g.setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){a=new(b("SubRipText"))(a);a=new Blob([a.renderVTT()],{type:"text/vtt"});a=URL.createObjectURL(a);f.src=a;i(c,d)}),g.send());return function(){g.abort()}},[a,c,d]);return e}e.exports={useVideoSubtitleTrack:a}}),null);
__d("AdsInstagramStoryPreviewUtils",["cx","fbt","AdsInstagramStoryPreviewConstants","AdsInstagramStoryProgressBar","DOM","DOMContainer.react","InstagramAdsPreview","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsInstagramStoryPreviewConstants").CAROUSEL_INITIAL_SPACE,j=b("AdsInstagramStoryPreviewConstants").CAROUSEL_SEGMENT_BAR_WIDTH,k=b("React");function a(a){if(a.cta==null)return null;var b=null;a.ctaAppDestination==="MESSENGER"||a.ctaType==="MESSAGE_PAGE"?b=k.jsx("div",{className:"_88h5"}):(a.ctaAppDestination==="WHATSAPP"||a.ctaType==="WHATSAPP_MESSAGE")&&(b=k.jsx("div",{className:"_8yp0"}));return k.jsxs("div",{className:"_4kom"+(a.authorizationDisclaimer?" _4z29":""),children:[k.jsx("div",{className:"_3df2"}),b,a.cta]})}function c(a){return a.authorizationDisclaimer==null?null:k.jsx("div",{className:"_4z2b",children:k.jsx("div",{className:"_6mb8",children:a.authorizationDisclaimer})})}function d(a){return k.jsx("div",{children:a.medias.map(function(c,d){var e=a.medias.length;if(e<1)return null;var f=i+j/e*d;e=i+j/e*(e-d-1);var g;if(d<a.mediaIndex)g=k.jsx("div",{className:"_3y9r"});else if(d===a.mediaIndex){var h=b("DOM").create("div",{className:"_3y9t"});b("AdsInstagramStoryProgressBar").init(c,h);g=k.jsx(b("DOMContainer.react"),{children:h})}else g=k.jsx("div",{className:"_3y9t"});return k.jsx("div",{className:"_3y97",style:{left:f,right:e},children:g},d)})})}function f(a){return!a.isVisible?null:k.jsxs(b("ShimButton.react"),{style:{display:"inline-block",pointerEvents:"auto",cursor:"pointer"},onClick:a.onOptIn,children:[k.jsx("div",{className:"_6z3t"}),k.jsx("div",{className:"_6z3s"}),h._("Expand Story")]})}function l(a){a=[].concat(a.headline!=null&&a.headline!==""?b("InstagramAdsPreview").tokenizeCaption(a.headline).concat("\n"):[]).concat(a.caption!=null&&a.caption!==""?b("InstagramAdsPreview").tokenizeCaption(a.caption):[]);if(a.length===0)return null;a=a.map(function(a,b){return k.jsx("span",{className:(a.startsWith("@")||a.startsWith("#")?"_4mix":"")+" _50f0",children:a.indexOf("\n")!==-1?k.jsx("br",{}):a},b+":"+a)});return a}function g(a){return k.jsxs(k.Fragment,{children:[k.jsx(l,{caption:a.caption,headline:a.headline}),k.jsxs("span",{className:"_50f0",children:[k.jsx("span",{children:h._("...")})," ",k.jsx("span",{className:"_66xg",children:h._("more")})]})]})}e.exports={AdsInstagramStoryPreviewCTA:a,AdsInstagramStoryPreviewDisclaimer:c,AdsInstagramStoryPreviewProgressBar:d,AdsInstagramStoryPreviewCarouselOptInButton:f,AdsInstagramStoryPreviewCaptionBlock:g}}),null);
__d("AdsInstagramStoryPreviewCaption.react",["cx","fbt","AdsInstagramPreviewCommonUtils","AdsInstagramStoryPreviewConstants","AdsInstagramStoryPreviewUtils","InstagramAdsPreview","React","Style","nullthrows","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsInstagramPreviewCommonUtils").AdsInstagramGetTextDirection,j=(c=b("AdsInstagramStoryPreviewConstants")).CAPTION_MAX_WIDTH,k=c.FRAME_WIDTH,l=c.HORIZONTAL_MARGIN_CAPTION,m=c.LINE_HEIGHT,n=c.MAX_CAPTION_LINE_COUNT,o=c.MAX_FONT_SIZE,p=c.MIN_FONT_SIZE,q=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewCaptionBlock,r=b("React");d=b("React");var s=d.useRef;function a(a){var c,d=s(null),e=s(null);function f(){e.current!=null&&e.current.offsetHeight>0?t(a,d.current,e.current):b("requestAnimationFrame")(f)}b("requestAnimationFrame")(f);return(a.caption==null||a.caption=="")&&(a.headline==null||a.headline=="")?null:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"_7o7r",ref:d,style:{fontFamily:"Tahoma, Helvetica, Arial, sans-serif",color:(c=a.mediaCard.portalInfo)==null?void 0:c.captionColor},children:r.jsx("span",{className:"_7o7s",dir:i((c=(c=a.caption)!=null?c:a.headline)!=null?c:""),id:"non_9_x_16_story_caption_text",ref:e,style:{backgroundColor:(c=a.mediaCard.portalInfo)==null?void 0:c.captionBackgroundColor},children:r.jsx(q,{caption:a.caption,headline:a.headline})})}),a.isAutotranslated===!0&&r.jsx("div",{className:"_8ckx",style:{color:(c=a.mediaCard.portalInfo)==null?void 0:c.captionColor},children:h._("Automatically Translated")})]})}function t(a,c,d){if(c==null||d==null)return;c=b("nullthrows")(c);d=b("nullthrows")(d);var e=Math.min(Math.floor(a.maxAvailableHeight/m),n),f=b("InstagramAdsPreview").truncateCaption(c,15,e,k,d);!f&&a.isFixedFontSize!==!0&&b("InstagramAdsPreview").setDynamicTextSizeForCaption(d,a.maxAvailableHeight,j,e,o,p);f=d.offsetWidth;a=(k-l-f)/2;b("Style").set(c,"left",a+"px");c.id="non_9_x_16_story_caption_block"}e.exports=a}),null);
__d("AdsInstagramStoryPreviewMediaCanvas.react",["cx","AdsInstagramAdPreviewCustomHooks","AdsInstagramStoryPreviewCaption.react","AdsInstagramStoryPreviewConstants","LineClamp.react","React","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsInstagramAdPreviewCustomHooks").useVideoSubtitleTrack,i=(c=b("AdsInstagramStoryPreviewConstants")).BOTTOM_MARGIN_BASE,j=c.BOTTOM_MARGIN_BASE_V2,k=c.BOTTOM_MARGIN_HAS_CTA,l=c.BOTTOM_MARGIN_HAS_CTA_HAS_DISCLAIMER,m=c.BOTTOM_MARGIN_HAS_DISCLAIMER,n=c.DYNAMIC_MEDIA_OFFSET_HEIGHT,o=c.DYNAMIC_MEDIA_OFFSET_HEIGHT_ONE_LINE,p=c.DYNAMIC_MEDIA_SCALED_OFFSET_HEIGHT,q=c.DYNAMIC_MEDIA_SCALED_OFFSET_HEIGHT_ONE_LINE,r=c.FRAME_HEIGHT,s=c.FRAME_WIDTH,t=c.LINE_HEIGHT,u=c.MAX_CAPTION_HEIGHT_WITH_FLAT_MEDIA,v=c.MIN_SPACE,w=c.TOP_MARGIN,x=b("React"),y=15;function z(a){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"_8mae",style:{bottom:B(a.mediaCard.cta!=null,a.authorizationDisclaimer!=null)},children:a.dynamicStoryCaptionInfos?null:x.jsx(b("AdsInstagramStoryPreviewCaption.react"),{caption:a.caption,headline:a.mediaData.headline,isAutotranslated:a.isAutotranslated,isFixedFontSize:!0,maxAvailableHeight:t*3,mediaCard:a.mediaCard})}),x.jsx("div",{className:"_7obv",children:x.jsx(A,babelHelpers["extends"]({},a))})]})}function A(a){var c=h(a.mediaData.video_subtitle_url,a.mediaData.video_subtitle_offset,a.mediaRef);if(a.mediaData.video_url!=null){var d;return x.jsxs("video",{autoPlay:!0,className:"_7lg2",id:"instagram_story_preview_media",loop:a.mediaData.loop_video||a.isOptInStoriesCarousel,muted:!0,playendsec:a.mediaData.is_long_video===!0?y:null,poster:a.mediaData.image_url,ref:a.mediaRef,subtitleoffset:a.mediaData.video_subtitle_offset,subtitlessrc:a.mediaData.video_subtitle_url,children:[x.jsx("source",{id:"instagram_story_preview_media",src:a.mediaData.video_url,type:"video/mp4"},"source_"+((d=a.mediaData.video_url)!=null?d:"")),x.jsx("track",{"default":!0,kind:"captions",ref:c})]},"video_"+((d=a.mediaData.video_url)!=null?d:""))}if(a.storyPreviewType==="dynamic_ad"){c=a.mediaData.headline!=""?x.jsx("div",{className:"_8q6o",children:x.jsx(b("LineClamp.react"),{lines:2,children:a.mediaData.headline})}):null;d=a.mediaData.description!=""?x.jsx("div",{className:"_8q5w",children:a.mediaData.description}):null;return x.jsx("div",{className:"_7lg2",children:x.jsxs("div",{className:"_7mt8",children:[x.jsxs("div",{className:"_7mt9",children:[c,d]}),x.jsx("img",{className:"_7mta",id:"instagram_story_preview_media",ref:a.mediaRef,src:a.mediaData.image_url},a.mediaData.image_url)]})})}return x.jsx("img",{className:"_7lg2",id:"instagram_story_preview_media",ref:a.mediaRef,src:a.mediaData.image_url},a.mediaData.image_url)}function a(a){var c,d;if(a.mediaCard.portalInfo==null&&a.mediaCard.cropType!=="saliency")return x.jsx("div",{className:"_7obv",children:x.jsx(A,babelHelpers["extends"]({},a))});if(a.mediaCard.cropType==="saliency")return x.jsx(z,babelHelpers["extends"]({},a));c=b("nullthrows")((c=a.mediaCard.portalInfo)==null?void 0:c.displayHeight);d=b("nullthrows")((d=a.mediaCard.portalInfo)==null?void 0:d.displayWidth);var e=E(a.storyPreviewType,a.mediaData.headline,a.mediaData.description),f=d/(c+e.offsetHeight);c=c*s/d+e.scaledOffsetHeight;d=D(a.mediaCard.cta!=null,a.authorizationDisclaimer!=null,c,f);e=a.showHeadlineInCaption&&f>=1?a.mediaData.headline:void 0;e=(a.caption==null||a.caption=="")&&(!a.showHeadlineInCaption||a.mediaData.headline==null||a.mediaData.headline=="")?null:x.jsx(b("AdsInstagramStoryPreviewCaption.react"),{caption:a.caption,headline:e,isAutotranslated:a.isAutotranslated,maxAvailableHeight:d,mediaCard:a.mediaCard});if(f>=1||e==null){d=C(a.mediaCard.cta!=null,a.authorizationDisclaimer!=null);return x.jsxs("div",{className:"_7obw",style:{height:d+"px",top:w+"px"},children:[x.jsx(A,babelHelpers["extends"]({},a)),e]})}else{f=C(a.mediaCard.cta!=null,a.authorizationDisclaimer!=null,c);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"_7sx_",children:x.jsx(A,babelHelpers["extends"]({},a))}),x.jsx("div",{className:"_7obw",style:{height:f+"px",top:w+v+c+"px"},children:e})]})}}function B(a,b){i;a?a=b?l:k:a=b?m:j;return a}function C(a,b,c){a=B(a,b);return c!=null?r-w-v-c-a:r-w-a}function D(a,b,c,d){a=B(a,b);a=r-w-a;a=a-c-3*v;d>=1&&(a=b?u/2:u);return a}function E(a,b,c){if(a==="dynamic_ad"){if(b!==null&&b!==""&&c!==null&&c!=="")return{offsetHeight:n,scaledOffsetHeight:p};return(b===null||b==="")&&(c===null||c==="")?{offsetHeight:0,scaledOffsetHeight:0}:{offsetHeight:o,scaledOffsetHeight:q}}return{offsetHeight:0,scaledOffsetHeight:0}}e.exports=a}),null);
__d("AdsInstagramStorySingleFormatAdPreview.react",["cx","AdsInstagramInteractiveComponentList.react","AdsInstagramMultiMediaProgressBar.react","AdsInstagramPreviewStrings","AdsInstagramStoryPreviewConstants","AdsInstagramStoryPreviewDynamicCaption.react","AdsInstagramStoryPreviewMediaCanvas.react","AdsInstagramStoryPreviewUtils","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsInstagramPreviewStrings").BRANDED_CONTENT_AD_STRINGS,i=b("AdsInstagramPreviewStrings").COMMON_STRINGS,j=b("AdsInstagramStoryPreviewConstants").FRAME_HEIGHT,k=b("AdsInstagramStoryPreviewConstants").FRAME_WIDTH,l=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewCTA,m=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewDisclaimer,n=b("React");c=b("React");var o=c.useRef;function a(a){var c=o(null),d=a.storyPreviewType==="long_video",e=a.brandedContentSponsorName,f=[c.current];return n.jsx("div",{className:"_ogl",children:n.jsxs("div",{className:"_2qhi",id:"instagram_story_preview_frame",style:a.mediaCard.portalInfo&&{background:"linear-gradient("+a.mediaCard.portalInfo.topColor+", "+a.mediaCard.portalInfo.bottomColor+")"},children:[n.jsx(b("AdsInstagramStoryPreviewMediaCanvas.react"),{authorizationDisclaimer:a.authorizationDisclaimer,caption:a.caption,dynamicStoryCaptionInfos:a.dynamicStoryCaptionInfos,isAutotranslated:a.isAutotranslated,mediaCard:a.mediaCard,mediaData:a.mediaDataCollection[0],mediaRef:c,showHeadlineInCaption:!0,storyPreviewType:a.storyPreviewType}),a.dynamicStoryCaptionInfos&&n.jsx(b("AdsInstagramStoryPreviewDynamicCaption.react"),{dynamicStoryCaptionInfos:a.dynamicStoryCaptionInfos,index:0,isAutotranslated:a.isAutotranslated}),a.mediaCard.interactiveComponents&&n.jsx(b("AdsInstagramInteractiveComponentList.react"),{components:a.mediaCard.interactiveComponents,mediaHeight:j,mediaWidth:k}),n.jsx("div",{className:"_ogm"}),n.jsxs("div",{className:"_86n",children:[n.jsx(b("AdsInstagramMultiMediaProgressBar.react"),{barClass:"_3y97",customMaxPlayDurationInMS:d?b("AdsInstagramStoryPreviewConstants").VIDEO_STORY_TRUNCATION_LENGTH_IN_SEC:null,fillClass:"_3y9t",firstFrame:!0,mediaIndex:0,mediaRef:c,medias:f}),n.jsx(b("Image.react"),{className:"_ogn",src:a.profilePicUrl}),n.jsx("div",{className:"_86q",children:a.username}),n.jsxs("div",{className:"_4z2a",children:[i.SPONSORED,e!=null&&n.jsxs("div",{style:{display:"inline"},children:[n.jsx("div",{className:"_82gj"}),h.PAID_PARTNERSHIP_WITH(e)]}),d===!0&&n.jsxs("div",{style:{display:"inline-block"},children:[n.jsx("div",{className:"_6z3t"}),n.jsx("div",{className:"_6z3s"}),i.KEEP_WATCHING]})]}),n.jsx(b("Image.react"),{className:"_86t",src:"/images/instagram/ads/preview/story-close.png"})]}),n.jsx(l,{authorizationDisclaimer:a.authorizationDisclaimer,cta:a.mediaCard.cta,ctaAppDestination:a.mediaCard.ctaAppDestination,ctaType:a.mediaCard.ctaType}),n.jsx(m,{authorizationDisclaimer:a.authorizationDisclaimer}),n.jsx(b("Image.react"),{className:"_86v"+(a.authorizationDisclaimer?" _4z29":""),src:"/images/instagram/ads/preview/story-ellipsis.png"})]})})}e.exports=a}),null);
__d("AdsInstagramStoryCarouselPreviewFunctionalComponents",["cx","ix","Image.react","React","XUICarouselArrow.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=i.jsx(b("XUICarouselArrow.react"),{onClick:a.onClickLeft,children:i.jsx(b("Image.react"),{src:h("101565")})});a=i.jsx(b("XUICarouselArrow.react"),{onClick:a.onClickRight,children:i.jsx(b("Image.react"),{src:h("101566")})});return i.jsxs("div",{className:"_7mt7",children:[i.jsx("div",{className:"_3w7n _fy",children:c}),i.jsx("div",{className:"_3w7n _fx",children:a})]})}e.exports={AdsInstagramStoryCarouselArrows:a}}),null);
__d("AdsInstagramStoryPreviewCarouselVideoTimer.react",["cx","fbt","AdsInstagramStoryPreviewConstants","Event","React","clearInterval","formatDurationSeconds","setInterval"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsInstagramStoryPreviewConstants").CAROUSEL_PRE_OPT_IN_VIDEO_MAX_DURATION_IN_MS,j=b("AdsInstagramStoryPreviewConstants").TIMER_UPDATE_INTERVAL_IN_MS,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={timeLeftInSec:-1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props.video;c.readyState>=c.HAVE_METADATA?c.duration*1e3>i?this.interval=b("setInterval")(function(){return a.$1(c.duration)},j):this.setState({timeLeftInSec:-1}):b("Event").listen(c,"loadedmetadata",function(){c.duration*1e3>i?a.interval=b("setInterval")(function(){return a.$1(c.duration)},j):a.setState({timeLeftInSec:-1})})};d.componentWillUnmount=function(){this.interval&&b("clearInterval")(this.interval)};d.$1=function(a){var b=a-this.props.video.currentTime;this.setState(function(a){return{timeLeftInSec:b}})};d.render=function(){return k.jsx(k.Fragment,{children:this.state.timeLeftInSec>=0?k.jsxs("div",{style:{display:"inline-block"},children:[k.jsx("div",{className:"_6z3t"}),h._("{number of seconds}",[h._param("number of seconds",b("formatDurationSeconds")(Math.ceil(this.state.timeLeftInSec)))])]}):null})};return c}(k.Component);e.exports=a}),null);
__d("AdsInstagramStoryUnifiedCarouselAdPreview.react",["cx","AdsInstagramMultiMediaProgressBar.react","AdsInstagramPreviewStrings","AdsInstagramStoryCarouselPreviewFunctionalComponents","AdsInstagramStoryPreviewCarouselVideoTimer.react","AdsInstagramStoryPreviewConstants","AdsInstagramStoryPreviewDynamicCaption.react","AdsInstagramStoryPreviewMediaCanvas.react","AdsInstagramStoryPreviewUtils","Event","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsInstagramPreviewStrings").COMMON_STRINGS,i=b("AdsInstagramStoryCarouselPreviewFunctionalComponents").AdsInstagramStoryCarouselArrows,j=(c=b("AdsInstagramStoryPreviewConstants")).CAROUSEL_DURATION_IN_MS,k=c.CAROUSEL_PRE_OPT_IN_VIDEO_MAX_DURATION_IN_MS,l=c.FORCE_DELIVERY_LIMIT,m=c.INITIAL_MEDIA_CARD_INDEX,n=c.OPT_IN_BUTTON_CLICK_ACTION,o=c.PLAY_NEXT_MEDIA_ACTION,p=c.PLAY_PREV_MEDIA_ACTION,q=c.REPEAT_OPT_IN_FIRST_FRAME_ACTION,r=c.SCHEDULE_AUTOPLAY,s=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewCarouselOptInButton,t=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewCTA,u=b("AdsInstagramStoryPreviewUtils").AdsInstagramStoryPreviewDisclaimer,v=b("React");d=b("React");var w=d.useEffect,x=d.useReducer,y=d.useRef,z=1,A=-1,B=0,C=function(a,b,c){return(a+c+b)%b},D=function(a,b,c){if(a!=null&&a instanceof HTMLVideoElement){a=a;return b?Math.min(k,(a.duration-a.currentTime)*1e3):(a.duration-a.currentTime)*1e3}else if(!b){a=Date.now()-c;return j-a}return j},E=function(a){if(a!=null&&a instanceof HTMLVideoElement)return a.duration*1e3;else return j},F=function(a){a!=null&&a instanceof HTMLVideoElement&&(a.currentTime=0,b("Event").listen(a,"canplay",function(){return a.play()}))};function G(a,b){var c;switch(b.type){case n:var d=a.isOptInStoriesCarousel?m:l-1;if(a.isOptInStoriesCarousel){var e;window.clearInterval(a.autoplayIntervalID);e=D((e=b.payload.medias[m])==null?void 0:e.current,!1,a.autoplayIntervalSetTime);return babelHelpers["extends"]({},a,{currentMediaCardIndex:d,isFirstFrame:!1,isExpandStoryButtonClicked:!0,autoplayInterval:e,autoplayIntervalID:window.setInterval(function(){b.callback()},e),autoplayIntervalSetTime:Date.now()})}e=D((d=b.payload.medias[d])==null?void 0:d.current,!1,a.autoplayIntervalSetTime);return babelHelpers["extends"]({},a,{isExpandStoryButtonClicked:!0,autoplayInterval:e,autoplayIntervalID:window.setInterval(function(){b.callback()},e),autoplayIntervalSetTime:Date.now()});case q:window.clearInterval(a.autoplayIntervalID);F((d=b.payload.medias[m])==null?void 0:d.current);e=D((d=b.payload.medias[m])==null?void 0:d.current,!0,a.autoplayIntervalSetTime);return babelHelpers["extends"]({},a,{currentMediaCardIndex:m,autoplayInterval:e,autoplayIntervalID:window.setInterval(function(){b.callback()},e),autoplayIntervalSetTime:Date.now()});case p:window.clearInterval(a.autoplayIntervalID);d=C(a.currentMediaCardIndex,!a.isExpandStoryButtonClicked||a.isFirstFrame?Math.min(b.payload.medias.length,l):b.payload.medias.length,A);c=(c=b.payload.medias[d])==null?void 0:c.current;e=E(c);F(c);return babelHelpers["extends"]({},a,{currentMediaCardIndex:d,autoplayInterval:e,autoplayIntervalID:window.setInterval(function(){b.callback()},e),autoplayIntervalSetTime:Date.now()});case o:window.clearInterval(a.autoplayIntervalID);c=C(a.currentMediaCardIndex,!a.isExpandStoryButtonClicked||a.isFirstFrame?Math.min(b.payload.medias.length,l):b.payload.medias.length,z);d=(d=b.payload.medias[c])==null?void 0:d.current;e=E(d);F(d);return babelHelpers["extends"]({},a,{currentMediaCardIndex:c,autoplayInterval:e,autoplayIntervalID:window.setInterval(function(){b.callback()},e),autoplayIntervalSetTime:Date.now()});case r:e=E((d=b.payload.medias[a.currentMediaCardIndex])==null?void 0:d.current);return babelHelpers["extends"]({},a,{autoplayInterval:e,autoplayIntervalID:window.setInterval(function(){b.callback()},e),autoplayIntervalSetTime:Date.now()});default:throw new Error()}}function H(a,b,c,d,e,f){if(b&&c)return!0;return a==="fixed_num_cards"&&!d&&e>l&&f===l-1?!0:!1}function I(a,b,c){b=a==="optimal_num_cards"||b==="dynamic_ad";return{autoplayIntervalID:null,autoplayInterval:null,currentMediaCardIndex:m,isFirstFrame:b,isOptInStoriesCarousel:b,isExpandStoryButtonClicked:a===null,availableMediaToDisplay:c.length,autoplayIntervalSetTime:Date.now()}}function a(a){var c=a.mediaCards.length,d=[y(null),y(null),y(null),y(null),y(null),y(null),y(null),y(null),y(null),y(null)],e=a.mediaCards.map(function(b,a){return d[a]}),f=x(G,I(a.carouselDeliveryMode,a.storyPreviewType,e)),g=f[0],j=f[1];f=function(b){return a.mediaCards[b]};var m=function(b){return a.mediaDataCollection[b]},D=f(g.currentMediaCardIndex),E=d[g.currentMediaCardIndex];w(function(){g.autoplayIntervalID==null&&E.current&&(g.isFirstFrame?N():M());return function(){window.clearInterval(g.autoplayIntervalID)}});var F=!g.isFirstFrame&&g.isOptInStoriesCarousel&&E.current instanceof HTMLVideoElement?v.jsx(b("AdsInstagramStoryPreviewCarouselVideoTimer.react"),{video:E.current},g.currentMediaCardIndex):null;O=c>1&&!g.isFirstFrame?v.jsx(i,{onClickLeft:O,onClickRight:P}):null;var J=g.isFirstFrame?g.autoplayInterval!=null?g.autoplayInterval:k:null,K=e.map(function(b,a){return d[a].current}).filter(function(a){return a!=null});e.length>l&&(a.carouselDeliveryMode==="fixed_num_cards"&&g.isExpandStoryButtonClicked===!1&&(K=K.filter(function(b,a){return a<l})));J=E.current?v.jsx(b("AdsInstagramMultiMediaProgressBar.react"),{barClass:"_3y97",customMaxPlayDurationInMS:J,fillClass:"_3y9t",firstFrame:g.isOptInStoriesCarousel&&g.isFirstFrame,isExpandStoryButtonClicked:g.isExpandStoryButtonClicked,mediaIndex:g.currentMediaCardIndex,mediaRef:E,medias:K}):null;K=[];for(var L=0;L<a.mediaDataCollection.length;L++)K.push(v.jsxs("div",{style:{display:g.currentMediaCardIndex===L?"":"none",position:"relative",height:"100%"},children:[a.dynamicStoryCaptionInfos&&v.jsx(b("AdsInstagramStoryPreviewDynamicCaption.react"),{dynamicStoryCaptionInfos:a.dynamicStoryCaptionInfos,index:L,isAutotranslated:!1}),v.jsx(b("AdsInstagramStoryPreviewMediaCanvas.react"),{authorizationDisclaimer:a.authorizationDisclaimer,caption:a.caption,dynamicStoryCaptionInfos:a.dynamicStoryCaptionInfos,isOptInStoriesCarousel:g.isOptInStoriesCarousel,mediaCard:f(L),mediaData:m(L),mediaRef:d[L],showHeadlineInCaption:a.storyPreviewType!=="dynamic_ad",storyPreviewType:a.storyPreviewType},L)]},L));f=H(a.carouselDeliveryMode,g.isOptInStoriesCarousel,g.isFirstFrame,g.isExpandStoryButtonClicked,c,g.currentMediaCardIndex);return v.jsx("div",{className:"_ogl",children:v.jsxs("div",{className:"_2qhi",id:"instagram_story_preview_frame",style:D.portalInfo&&{background:"linear-gradient("+D.portalInfo.topColor+", "+D.portalInfo.bottomColor+")"},children:[O,J,K,v.jsx("div",{className:"_ogm"}),v.jsxs("div",{className:"_86n",children:[v.jsx(b("Image.react"),{className:"_ogn",src:a.profilePicUrl}),v.jsx("div",{className:"_86q",children:a.username}),v.jsxs("div",{className:"_4z2a",children:[h.SPONSORED,v.jsx(s,{isVisible:f,onOptIn:Q}),F]}),v.jsx(b("Image.react"),{className:"_86t",src:"/images/instagram/ads/preview/story-close.png"})]}),v.jsx(t,{authorizationDisclaimer:a.authorizationDisclaimer,cta:D.cta,ctaAppDestination:D.ctaAppDestination,ctaType:D.ctaType}),v.jsx(u,{authorizationDisclaimer:a.authorizationDisclaimer}),v.jsx(b("Image.react"),{className:"_86v"+(a.authorizationDisclaimer?" _4z29":""),src:"/images/instagram/ads/preview/story-ellipsis.png"})]})});function M(){R(function(){return j({type:r,callback:P,payload:{medias:e}})},B)}function N(){R(function(){return j({type:q,callback:N,payload:{medias:e}})},B)}function O(){R(function(){return j({type:p,callback:P,payload:{medias:e}})},A)}function P(){R(function(){return j({type:o,callback:P,payload:{medias:e}})},z)}function Q(){R(function(){return j({type:n,callback:P,payload:{medias:e}})},B)}function R(a,c){c=C(g.currentMediaCardIndex,e.length,c);c=e[c].current;if(c instanceof HTMLVideoElement&&c.readyState<c.HAVE_METADATA){b("Event").listen(c,"loadedmetadata",function(){a()});return}a()}}e.exports=a}),null);
__d("AdsInstagramStoryAdPreview.react",["AdsInstagramStorySingleFormatAdPreview.react","AdsInstagramStoryUnifiedCarouselAdPreview.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.render=function(){switch(this.props.adFormat){case"single_media":return g.jsx(b("AdsInstagramStorySingleFormatAdPreview.react"),babelHelpers["extends"]({},this.props));case"carousel":return g.jsx(b("AdsInstagramStoryUnifiedCarouselAdPreview.react"),babelHelpers["extends"]({},this.props));default:return g.jsx("div",{})}};return c}(g.PureComponent);e.exports=a}),null);