if (self.CavalryLogger) { CavalryLogger.start_js(["jl4uI"]); }

__d("videoPageContextualColorFetchUpdatedThemeColorQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"video_page_theme_color",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"videoPageContextualColorFetchUpdatedThemeColorQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"videoPageContextualColorFetchUpdatedThemeColorQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"1960926613938874",metadata:{},name:"videoPageContextualColorFetchUpdatedThemeColorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FBDraggableBar.react",["cx","invariant","DOMDimensions","React","ReactDOM","Rect","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$6=function(a){a&&a.init(babelHelpers.assertThisInitialized(d))};d.onGrab=function(a,c){d.$1=a;d.$2=c;a=b("DOMDimensions").getElementDimensions(d.$2);c=a.width;a=a.height;d.setState({elementWidth:c,elementHeight:a});d.onDrag()};d.onDrag=function(){var a=new(b("Rect"))(d.$2);a=(a.l+a.r)/2;a=d.$7(a);d.setState({toIndex:a})};d.onDrop=function(){var a=d.$1;a!==void 0&&a!==null||h(0,3153);var b=d.state.toIndex;b!==void 0&&b!==null||h(0,3154);d.$8();d.props.onReorder&&d.props.onReorder(a,b);d.$4()};d.onCancelDrag=function(){d.$8()};d.state={toIndex:null,elementWidth:null,elementHeight:null};return d}var d=c.prototype;d.$4=function(){var a=b("ReactDOM").findDOMNode(this);!a&&h(0,3155);a=a.childNodes;var c=[];for(var d=0;d<a.length;d++){var e=a[d];e instanceof Element||h(0,3156);c.push(new(b("Rect"))(e))}this.$3=c};d.$5=function(){var a=b("ReactDOM").findDOMNode(this);a instanceof Element||h(0,3157);var c=a.childNodes,d=0;for(var e=0;e<c.length;e++){var f=c[e];f instanceof Element||h(0,3156);f=new(b("Rect"))(f);d+=f.r-f.l}a.clientWidth>=d||h(0,3158)};d.componentDidMount=function(){this.$5(),this.$4()};d.render=function(){var a=this,c=i.Children.map(this.props.children,function(b,c){c={ref:a.$6,index:c};return i.cloneElement(b,c)}),d=this.state.toIndex;if(d!==null&&d!==void 0){var e=i.jsx("div",{className:"_63ax",style:{width:this.state.elementWidth,height:this.state.elementHeight}},"placeholder");d=d<=this.$1?d:d+1;c.splice(d,0,e)}return i.jsx("span",{className:b("joinClasses")(this.props.className,"_42l3"),children:c})};d.$7=function(a){for(var b=0;b<this.$3.length;b++){var c=this.$3[b];if(c.l<=a&&a<c.r)return b}return this.$3.length};d.$8=function(){delete this.$1,delete this.$2,this.setState({elementWidth:null,elementHeight:null,toIndex:null})};return c}(i.PureComponent);e.exports=a}),null);
__d("FBDraggableItem.react",["cx","invariant","Draggable","Event","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Keys","React","ReactDOM","Rect","getScrollPosition","getViewportDimensions","nullthrows"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=10,k=250;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dragging:!1},d.$6=function(a){if(!a)return;a=b("ReactDOM").findDOMNode(a);a instanceof Element||h(0,2430);var c=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d));c instanceof Element||h(0,2431);d.$3=a;d.$4=c},d.init=function(a){d.$1=a},d.$9=function(){if(d.state.dragging)return;var a=d.props,c=a.onGrab;a=a.index;c&&(a||a===0?c(a):c());d.$5=b("Event").listen(document,"keydown",function(a){a.keyCode===b("Keys").ESC&&(d.$12(),a.preventDefault())});d.setState({dragging:!0});d.$1.onGrab(b("nullthrows")(d.props.index),d.$4)},d.$10=function(){var a=d.$4.parentNode;if(!(a instanceof Element))return;a=new(b("Rect"))(a);var c=b("getViewportDimensions")(),e=b("getScrollPosition")(window),f=Math.max(c.width,j);f=new(b("Rect"))(e.y,Math.min(f,a.r+k),c.height+e.y,Math.max(0,a.l-k));d.$2&&d.$2.setBoundingBox(f);d.$1.onDrag()},d.$11=function(){d.$13(),d.$1.onDrop()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$7=function(){var a=i.Children.map(this.props.children,function(a){return a});a.length>0&&a.length<=2||h(0,2432);return a};d.componentDidMount=function(){this.$7(),this.$8(!0)};d.componentWillUnmount=function(){this.$8(!1)};d.render=function(){var a=this.$7(),c=a.length!=2?null:i.jsx(b("FBOverlayElement.react"),{className:"_13uq",horizontal:"right",vertical:"top",children:i.jsx("div",{children:a[1]})});return i.jsxs(b("FBOverlayContainer.react"),{className:"_2rh6"+(this.state.dragging?" _2rjy":""),children:[i.jsx(b("FBOverlayBase.react"),{children:a[0]}),i.jsx(b("FBOverlayElement.react"),{horizontal:"left",ref:this.$6,vertical:"fit",children:i.jsx("div",{className:"_2rjz"})}),c]})};d.$8=function(a){var c=this.$2;a&&!c?this.$2=new(b("Draggable"))(this.$4).setNamespace("FBDraggableItem").setUseAbsolute(!0).setGrabHandler(this.$9).setDragHandler(this.$10).setDropHandler(this.$11).addHandle(this.$3):!a&&c&&(c.active&&this.$12(),c.destroy(),this.$2=null)};d.$12=function(){this.$2&&this.$2.killDrag(),this.$13(),this.$1.onCancelDrag()};d.$13=function(){this.$2&&this.$2.resetPosition(),this.setState({dragging:!1}),this.$5&&this.$5.remove(),delete this.$5};return c}(i.Component);e.exports=a}),null);
__d("AutoScalingContent.react",["React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.state={widthRatio:null};return b}var c=b.prototype;c.componentDidMount=function(){var a=this.refs.inner,b=this.props,c=b.minWidthRatio;b=b.handleMinWidthRatioViolation;var d=1;this.state.widthRatio===null&&(a&&a.scrollWidth&&a.offsetWidth&&(d=a.offsetWidth/a.scrollWidth,d<c&&(d=b&&b(d,c)||c)),this.setState({widthRatio:d}))};c.render=function(){var a={},b={};this.props.width!==void 0&&(b.width=this.props.width);!this.state.widthRatio?a.visibility="hidden":this.state.widthRatio<1&&(a.transform="scale("+this.state.widthRatio+")",a.transformOrigin="0 0");return g.jsx("div",{style:b,children:g.jsx("div",{ref:"inner",style:a,children:this.props.children})})};return b}(g.Component);a.propTypes={children:(c=b("prop-types")).any,minWidthRatio:c.number,width:c.oneOfType([c.number,c.string])};a.defaultProps={minWidthRatio:.75};e.exports=a}),null);
__d("PagesCoverVideoTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PagesCoverVideoLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesCoverVideoLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesCoverVideoLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setIsFinished=function(a){this.$1.is_finished=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setProgress=function(a){this.$1.progress=a;return this};c.setStage=function(a){this.$1.stage=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeUs=function(a){this.$1.time_us=a;return this};c.setType=function(a){this.$1.type=a;return this};c.setVideoContainerType=function(a){this.$1.video_container_type=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoStatus=function(a){this.$1.video_status=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={is_finished:!0,page_id:!0,progress:!0,stage:!0,time:!0,time_us:!0,type:!0,video_container_type:!0,video_id:!0,video_status:!0,weight:!0};e.exports=a}),null);
__d("PageActionURLHandlerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ASYNC_DIALOG:"async-dialog",ASYNC_POST:"async-post",DIALOG:"dialog",DIALOG_POST:"dialog-post",LINK_OUT:"link-out",LINK_OUT_NEW_TAB:"link-out-new-tab"})}),null);
__d("VideoPageThemedActionBarButton.react",["cx","React","XUIButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.labelIsHidden,d=a.isBgFilled;a=a.videoPageThemeColor;d=b("joinClasses")(this.props.className,"_6fx8"+(d?" _6fx9":"")+(d?"":" _6fxa")+(c?" _6fxb":""));return h.jsx(b("XUIButton.react"),{className:d,"data-testid":void 0,image:this.props.image,label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.props.onClick,size:"xlarge",style:{"--theme-color":a}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PageActionBarActionSelector.react",["ix","fbt","ContextualDialogArrow","Image.react","PageActionURLHandlerType","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PopoverMenu.react","React","ReactXUIMenu","URI","VideoPageThemedActionBarButton.react","XUIButton.react","asset","cxMargin","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=b("ReactXUIMenu").Item,l=function(a){var c=function(c){b("PagesLogger").log(a.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_ACTIONS,"pages__header__action_bar",["page_consumer_experience"],{action:c})};return j.jsx(b("ReactXUIMenu"),{children:a.actions.map(function(d){if(!d.url||!d.label||!d.label.text)return null;b("PagesLogger").log(a.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_ACTIONS,"pages__header__action_bar",["page_consumer_experience"],{action:d.__typename});var e=b("PageActionURLHandlerType")[d.url_handler_type]||null,f=d.url;(e==="async-dialog"||e==="async-post"||e==="dialog")&&(f=new(i||(i=b("URI")))(d.url).getUnqualifiedURI().toString());var g=function(){return c(d.__typename)};return j.jsx(k,{href:f,onClick:g,rel:e,target:e==="link-out-new-tab"?"_blank":"_self",children:d.label.text},d.label.text)})})};a=function(a){if(a.actions.length===0)return null;var c=a.videoPageThemeColor;return j.jsx(b("PopoverMenu.react"),{alignh:"right",layerBehaviors:[b("ContextualDialogArrow")],menu:l(a),children:c==null?j.jsx(b("XUIButton.react"),{haschevron:!1,image:j.jsx(b("Image.react"),{src:g("127000")}),label:h._("More"),labelIsHidden:!0,size:a.size||"large"}):j.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99",image:j.jsx(b("Image.react"),{src:g("484386")}),isBgFilled:!1,label:h._("More"),labelIsHidden:!0,videoPageThemeColor:c})})};e.exports=a}),null);
__d("PageActionContainer.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){var b=a.action.ReactComponent;return!b?null:g.jsx(b,babelHelpers["extends"]({},a))};e.exports=a}),null);
__d("PageActionOpenURLAsyncDialog.react",["cx","AsyncDialog","AsyncRequest","React","URI","VideoPageThemedActionBarButton.react","XUIButton.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("AsyncDialog").send(new(b("AsyncRequest"))(new(h||(h=b("URI")))(d.props.action.url).getUnqualifiedURI())).setRelativeTo(babelHelpers.assertThisInitialized(d))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.action,c=a.label,d=a.url;a=a.hideButtonText;if(c===null||d===null)return null;d=this.props.videoPageThemeColor;return d==null?i.jsx(b("XUIButton.react"),{className:"_rfh",image:this.props.image,label:c.text,labelIsHidden:a,onClick:this.$1,size:this.props.size}):i.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99",image:this.props.image,isBgFilled:!1,label:c.text,labelIsHidden:a,onClick:this.$1,videoPageThemeColor:d})};return c}(i.PureComponent);e.exports=a}),null);
__d("PageActionOpenURLAsyncPost.react",["cx","AsyncRequest","React","URI","VideoPageThemedActionBarButton.react","XUIButton.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){new(b("AsyncRequest"))(new(h||(h=b("URI")))(d.props.action.url).getUnqualifiedURI()).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.action,c=a.label;a=a.url;if(c===null||a===null)return null;a=this.props.videoPageThemeColor;return a==null?i.jsx(b("XUIButton.react"),{className:"_rfh",image:this.props.image,label:c.text,onClick:this.$1,size:this.props.size}):i.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99",image:this.props.image,isBgFilled:!1,label:c.text,onClick:this.$1,videoPageThemeColor:a})};return c}(i.PureComponent);e.exports=a}),null);
__d("PageActionOpenURLLinkOut.react",["cx","PageActionURLHandlerType","React","Tooltip","URI","VideoPageThemedActionBarButton.react","XUIButton.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=14;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PageActionURLHandlerType")[d.props.action.url_handler_type]==="link-out-new-tab"?(h||(h=b("URI"))).goURIOnWindow(d.props.action.url,window.open("","_blank"),!0):(h||(h=b("URI"))).go(d.props.action.url)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.action,c=a.label;a=a.url;if(c===null||a===null)return null;a=this.props.videoPageThemeColor;a=a==null?i.jsx(b("XUIButton.react"),{className:"_rfh",image:this.props.image,label:c.text,onClick:this.$1,size:this.props.size}):i.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99",image:this.props.image,isBgFilled:!1,label:c.text,onClick:this.$1,videoPageThemeColor:a});c.text.length>=j&&(a=i.cloneElement(a,b("Tooltip").propsFor(c.text)));return a};return c}(i.PureComponent);e.exports=a}),null);
__d("PageSharePageAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","React","asset"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){return h.jsx(b("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},a,{action:babelHelpers["extends"]({},a.action,{hideButtonText:!!a.videoPageThemeColor}),image:h.jsx(b("Image.react"),{src:a.videoPageThemeColor==null?g("363825"):g("484394")})}))};e.exports=a}),null);
__d("PageSimpleActionWithURL.react",["Image.react","PageActionOpenURLAsyncDialog.react","PageActionOpenURLAsyncPost.react","PageActionOpenURLLinkOut.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){var c,d;d=(d=a)!=null?(d=d.action)!=null?d.url_handler_type:d:d;c=(c=a)!=null?(c=c.action)!=null?(c=c.icon)!=null?(c=c.icon_image)!=null?c.uri:c:c:c:c;c=c!=null?g.jsx(b("Image.react"),{height:16,src:c,width:16}):null;switch(d){case"ASYNC_DIALOG":return g.jsx(b("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},a,{image:c}));case"ASYNC_POST":return g.jsx(b("PageActionOpenURLAsyncPost.react"),babelHelpers["extends"]({},a,{image:c}));default:return g.jsx(b("PageActionOpenURLLinkOut.react"),babelHelpers["extends"]({},a,{image:c}))}};e.exports=a}),null);
__d("InlineLoginDialogWrapper.react",["AsyncRequest","CurrentUser","React","XLoggedOutInlineLoginDialogController"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={loginPromptCreated:!1},d.$2=function(a){!b("CurrentUser").isLoggedIn()&&(d.props.SEOInlineLoginDialogGatingPayload==null||d.props.SEOInlineLoginDialogGatingPayload())&&(a.stopPropagation(),d.$3())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){this.$1&&this.$4(this.$1)};d.$4=function(a){this.state.loginPromptCreated||(this.$5(a),this.setState({loginPromptCreated:!0}))};d.$5=function(a){var c=b("XLoggedOutInlineLoginDialogController").getURIBuilder().setString("redirect_uri",this.props.next).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").setRelativeTo(a).send()};d.render=function(){var a=this;return g.jsx("div",{onClickCapture:this.$2,ref:function(b){return a.$1=b},children:this.props.children})};return c}(g.PureComponent);e.exports=a}),null);
__d("PageNewsFeedStore",["FluxReduceStore","PagesLikeFollowNotifDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{}};c.reduce=function(a,b){var c=babelHelpers["extends"]({},a);switch(b.type){case"init_data":if(b.data.pageID in a)return a;c[b.data.pageID]=b.data.newsFeedStatus;return c;case"news_feed_change":c[b.data.pageID]=b.data.newsFeedStatus;return c;case"like":(b.data.pageID in a&&c[b.data.pageID]!=="see_first"||!(b.data.pageID in a))&&(c[b.data.pageID]="follow");return c}return a};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("PagesGetNotificationStore",["FluxReduceStore","PagesLikeFollowNotifDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{}};c.reduce=function(a,b){var c=babelHelpers["extends"]({},a);switch(b.type){case"init_data":if(b.data.pageID in a)return a;c[b.data.pageID]=b.data.notifStatus;return c;case"notif_change":c[b.data.pageID]=babelHelpers["extends"]({},a[b.data.pageID]);c[b.data.pageID][b.data.type]=b.data.state;return c;case"notif_all_on":Object.keys(a[b.data.pageID]).map(function(a){c[b.data.pageID][a]="on"});return c;case"notif_all_off":Object.keys(a[b.data.pageID]).map(function(a){c[b.data.pageID][a]="off"});return c}return a};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("PageGetNotificationConstants",["fbt","keyMirror"],(function(a,b,c,d,e,f,g){c={Events:(a=b("keyMirror"))({CHANGE:null,NEWSFEED_CHANGE:null,NOTIFICATION_CHANGE:null}),Title:{video:g._("Videos"),photo:g._("Photos"),link:g._("Links"),others:g._("Status Updates"),event:g._("Events"),live_video:g._("Live Videos"),episode:g._("Episodes"),offer:g._("Offers"),all_posts:g._("All Posts"),none:g._("None"),all_on:g._("All On"),on:g._("On")},NewsFeedTitle:{unfollow:g._("Unfollow"),see_first:g._("See First"),follow:g._("Default")},LiveVideoTitle:{inferred:g._("Suggested Live Videos"),on:g._("All Live Videos")},PostTitle:{highlight:g._("Highlight Posts"),on:g._("Posts")},PostSubscriptionType:a({video:null,photo:null,link:null,others:null}),PostSubscriptionTypeArray:["video","photo","link","others"],EventSubscriptionType:a({event:null}),LiveVideoSubscriptionType:a({live_video:null}),PagePostSubscriptionType:a({post:null}),OfferSubscriptionType:a({offer:null}),EpisodeSubscriptionType:a({episode:null})};e.exports=c}),null);
__d("PageGetNotificationUtil",["PageGetNotificationConstants"],(function(a,b,c,d,e,f){a={subtitleForPageGetNotification:function(a){var c=[],d=b("PageGetNotificationConstants").PagePostSubscriptionType.post;if(d in a){d=b("PageGetNotificationConstants").PostTitle[a[d]];d&&c.push(d)}else{var e=b("PageGetNotificationConstants").PostSubscriptionType;Object.keys(e).map(function(b){return e[b]=a[b]==="on"});d=Object.values(e).filter(function(a){return!a}).length===0;d?c.push(b("PageGetNotificationConstants").Title.all_posts):b("PageGetNotificationConstants").PostSubscriptionTypeArray.map(function(a){e[a]&&c.push(b("PageGetNotificationConstants").Title[a])})}a[b("PageGetNotificationConstants").EventSubscriptionType.event]==="on"&&c.push(b("PageGetNotificationConstants").Title.event);a[b("PageGetNotificationConstants").OfferSubscriptionType.offer]==="on"&&c.push(b("PageGetNotificationConstants").Title.offer);d=b("PageGetNotificationConstants").LiveVideoSubscriptionType.live_video;d=b("PageGetNotificationConstants").LiveVideoTitle[a[d]];d&&c.push(d);a[b("PageGetNotificationConstants").EpisodeSubscriptionType.episode]==="on"&&c.push(b("PageGetNotificationConstants").Title.episode);return c.length===0?b("PageGetNotificationConstants").Title.none:c.join(", ")},isNotifStatusOn:function(a){return Object.values(a).filter(function(a){return a!=="off"}).length>0},isNotifStatusAllOn:function(a){return Object.values(a).filter(function(a){return a!=="on"}).length===0},titleForTurnOnNotificationOption:function(a){return!this.isNotifStatusOn(a)?b("PageGetNotificationConstants").Title.all_on:[this.isNotifStatusAllOn(a)?b("PageGetNotificationConstants").Title.all_on:b("PageGetNotificationConstants").Title.on," (",this.subtitleForPageGetNotification(a),")"].join("")}};e.exports=a}),null);
__d("XPageGetNewsFeedSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/save_get_news_feed/",{page_id:{type:"Int",required:!0},follow:{type:"Enum",required:!0,enumType:1},ref:{type:"Enum",enumType:1},location:{type:"Enum",enumType:0}})}),null);
__d("XPageGetNotificationSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/save_get_notification/",{page_id:{type:"Int",required:!0},type:{type:"Enum",enumType:1},all_notif:{type:"Bool",defaultValue:!1},status:{type:"Bool",defaultValue:!1},ref:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XPageUserFanningSettingsDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/get_notification/",{tab:{type:"Enum",enumType:1},page_id:{type:"Int",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XPageUserUnfollowConfirmationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/page/unfollow/confirmation/",{page_id:{type:"Int",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XPageUserUnlikeConfirmationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/page/unlike/confirmation/",{page_id:{type:"Int",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("PagesLikeFollowHelper",["ix","cx","fbt","AsyncRequest","Image.react","Layout.react","Link.react","PagesSimpleFollowHelper","React","ReactXUIMenu","PageGetNotificationUtil","PagesLikeFollowNotifDispatcher","XPageFollowMutatorController","XPageGetNewsFeedSaveController","XPageGetNotificationSaveController","XPageUserFanningSettingsDialogController","XPageUserUnlikeConfirmationDialogController","XPageUserUnfollowConfirmationDialogController","XUnsnoozeController","XUIMenuStaticItem.react","collectDataAttributes","fbglyph","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=b("React"),m=b("ReactXUIMenu").SelectableItem;a={newsfeedTitleMenuItem:function(a){a=b("XPageUserFanningSettingsDialogController").getURIBuilder().setEnum("tab","newsfeed").setInt("page_id",a).getURI();var c=i._("IN YOUR NEWS FEED");return this._getStaticMenuItem(c,a,"newsfeed_header")},notificationTitleMenuItem:function(a){a=b("XPageUserFanningSettingsDialogController").getURIBuilder().setEnum("tab","notif").setInt("page_id",a).getURI();var c=i._("NOTIFICATIONS");return this._getStaticMenuItem(c,a,"notification_header")},_getStaticMenuItem:function(a,c,d){return l.jsx(b("XUIMenuStaticItem.react"),{className:"pageLikeHoverButton/headerItem",children:l.jsxs(b("Layout.react"),{children:[l.jsx(k,{children:l.jsx("div",{className:"_47vj",children:a})}),l.jsx(j,{children:l.jsx(b("Link.react"),{href:"#",ajaxify:c,rel:"dialog",children:l.jsx(b("Image.react"),{src:g("124952")})})})]})},d)},newsfeedMenuItem:function(a,c,d){var e=this;return l.jsxs(m,{className:"_4bjg"+(d===c?" _5jwm":""),"data-testid":void 0,onclick:function(){return e.onNewsFeedChange(a,c,d)},selected:!1,children:[l.jsx(b("Image.react"),{className:"_47vl",src:g("128986")}),l.jsx(b("Image.react"),{className:"_47vm",src:g("114569")}),l.jsx("div",{className:"_5jwn",children:this.newsfeedNewsfeedItemText(c)})]},c)},newsfeedNewsfeedItemText:function(a){var c=null;switch(a){case"see_first":c=b("gkx")("1351049")?i._("Favorites"):i._("See First");break;case"follow":c=i._("Default");break;case"unfollow":c=i._("Unfollow");break}return c},notificationMenuItem:function(a,c,d,e){var f=this;e=c?b("PageGetNotificationUtil").titleForTurnOnNotificationOption(e):i._("All Off");return l.jsxs(m,{className:"_4bjg"+(d?" _5jwm":""),onclick:function(){return f._onNotificationsClick(a,c)},selected:!1,children:[l.jsx(b("Image.react"),{className:"_47vl",src:g("128986")}),l.jsx(b("Image.react"),{className:"_47vm",src:g("114569")}),l.jsx("div",{className:"_5jwn",children:e})]},"off")},onNewsFeedChange:function(a,c,d){var e=this;d&&this._informNewsFeedChange(a,c);var f=b("XPageGetNewsFeedSaveController").getURIBuilder().setInt("page_id",a).setEnum("follow",c).setEnum("ref","dialog").getURI();new(b("AsyncRequest"))().setURI(f).setHandler(function(b){b=b.payload;d||e._informNewsFeedChange(a,c);e._informFollowChange(a,b.followStatus)}).setFinallyHandler(function(b){b.getError()&&d&&e._informNewsFeedChange(a,d)}).send()},onFollowChange:b("PagesSimpleFollowHelper").onFollowChange,onFollowChangeWithTrackingData:function(a,c,d,e,f,g){e===void 0&&(e=0);g===void 0&&(g=!1);var h={ft:{}};a instanceof Node&&(h={ft:b("collectDataAttributes")(a,["ft"]).ft});this._informFollowChange(c,d);d&&this._informNewsFeedChange(c,"follow");a=e?e:141;e=b("XPageFollowMutatorController").getURIBuilder().setInt("page_id",c).setBool("status",d).setEnum("location",a).setBool("qoc_dialog_button",g).getURI();new(b("AsyncRequest"))().setURI(e).setData(h).setHandler(function(a){f&&f()}).send()},onUnfollowWithConfirmation:function(a){a=b("XPageUserUnfollowConfirmationDialogController").getURIBuilder().setInt("page_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()},onUnlikeWithConfirmation:function(a){a=b("XPageUserUnlikeConfirmationDialogController").getURIBuilder().setInt("page_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()},onSnoozeChange:function(a,c){var d=this;this._informSnoozeChange(a,c);c=b("XUnsnoozeController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({snoozee_id:a}).setMethod("POST").setHandler(function(b){b.getPayload()===!1&&d._informSnoozeChange(a,!0)}).setErrorHandler(function(){return d._informSnoozeChange(a,!0)}).send()},_informNewsFeedChange:b("PagesSimpleFollowHelper")._informNewsFeedChange,_informSnoozeChange:function(a,c){b("PagesLikeFollowNotifDispatcher").dispatch({type:"snooze_changed",data:{pageID:a,snoozeStatus:c}})},_onNotificationsClick:function(a,c,d){var e=this;this._informNotificationChange(a,c);d=b("XPageGetNotificationSaveController").getURIBuilder().setInt("page_id",a).setBool("status",c).setBool("all_notif",!0).setEnum("ref","www_timeline").getURI();new(b("AsyncRequest"))().setURI(d).setHandler(function(b){e._informFollowChange(a,b.payload.followStatus)}).send()},_informFollowChange:b("PagesSimpleFollowHelper")._informFollowChange,_informNotificationChange:function(a,c){c=c?"notif_all_on":"notif_all_off";b("PagesLikeFollowNotifDispatcher").dispatch({type:c,data:{pageID:a}})}};e.exports=a}),null);
__d("ProfileSubFollowStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REGULAR_FOLLOW:"follow",RECAP:"recap",SEE_FIRST:"see_first",SEE_MORE:"see_more",HIGHLIGHTS_ONLY:"highlights_only",SUBSCRIBE_ALL_LIVE_NOTIFICATIONS:"subscribe_all_live_notifications",SUBSCRIBE_SUGGESTED_LIVE_NOTIFICATIONS:"subscribe_suggested_live_notifications",SUBSCRIBE_NONE_LIVE_NOTIFICATIONS:"subscribe_none_live_notifications",UNFOLLOW:"unfollow"})}),null);
__d("PagesHeaderFollowButton.react",["ix","cx","fbt","Arbiter","BasicFBNux","ContextualDialogArrow","Image.react","Link.react","PageGetNotificationUtil","PagesButton.react","PagesLikeFollowHelper","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ProfileSubFollowStatus","React","ReactXUIMenu","SnoozedProfileTypedLogger","SubscribeButton","VideoPageThemedActionBarButton.react","XUIAmbientNUX.react","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","XUIText.react","asset","fbglyph","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("ReactXUIMenu").SelectableMenu,l=b("ReactXUIMenu").Item,m=4225,n=5571;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$8=function(){d.props.snoozeStatus&&new(b("SnoozedProfileTypedLogger"))().setEvent("cancel_end_snooze").setItemObjID(d.props.pageID).setSessionID(d.$1).log()},d.$9=function(a){d.$11();b("PagesLikeFollowHelper").onFollowChangeWithTrackingData(a.target,d.props.pageID,!0,d.props.followLocation,null,d.props.qocDialogButton);d.props.shouldShowFollowPrivacyNux&&(d.setState({privacyNuxShown:!0}),b("BasicFBNux").onView(m));if(d.props.qocDialogButton){a=d.props.pageID;b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:a,suppress:!0})}},d.$12=function(a){d.$11();b("PagesLikeFollowHelper").onFollowChangeWithTrackingData(a.target,d.props.pageID,!1,d.props.followLocation,null,d.props.qocDialogButton);b("PagesLikeFollowHelper").onUnfollowWithConfirmation(d.props.pageID);if(d.props.qocDialogButton){a=d.props.pageID;b("Arbiter").inform(b("SubscribeButton").UNSUBSCRIBED,{profile_id:a,suppress:!0})}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=b("uuid")(),this.props.shouldShowFollowButtonNux===!0&&b("BasicFBNux").onView(n),this.setState({privacyNuxShown:!1,followButtonNuxShown:this.props.shouldShowFollowButtonNux})};d.componentWillUnmount=function(){this.$1=null};d.render=function(){if(!this.props.followAllowed)return null;var a,c;if(this.props.snoozeStatus)a=this.$2(),c=this.$3(),new(b("SnoozedProfileTypedLogger"))().setEvent("profile_visit").setItemObjID(this.props.pageID).setSessionID(this.$1).log();else{if(!this.props.followStatus)return this.$4();else if(this.props.disableDropdown)return this.$5();a=this.$6();c=this.$7()}c=j.jsx(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuOverlappingBorder"),b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:j.jsx(k,{className:"_4bje"+(this.props.snoozeStatus?" _3qn5":""),multiple:!0,children:c}),onHide:this.$8,children:a});return this.props.asPrimaryButton==="true"?j.jsx("div",{className:"_6534",children:c}):c};d.$4=function(){var a=this.props.videoPageThemeColor;if(a)return j.jsx(b("VideoPageThemedActionBarButton.react"),{"data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("488981")}),isBgFilled:!0,label:i._("Follow"),onClick:this.$9,ref:"followButton",videoPageThemeColor:a});if(this.props.blueFollowButton)return j.jsx(b("PagesButton.react"),{color:"fbblue",image:j.jsx(b("Image.react"),{className:"ctaButtonIcon",src:g("114929")}),label:j.jsx("span",{className:"blueButtonLabel",children:i._("Follow")}),onClick:this.$9});return this.props.asPrimaryButton==="true"?j.jsxs("span",{className:"_6534 uiContextualLayerParent",children:[j.jsx(b("XUIButton.react"),{className:this.props.asPrimaryButtonWide?"_93q_":"","data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("114929")}),label:i._("Follow"),onClick:this.$9,ref:"followButton",size:this.props.size||"large",use:"confirm"}),this.$10()]}):j.jsx(b("XUIButton.react"),{"data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("127712")}),label:i._("Follow"),onClick:this.$9,size:this.props.size})};d.$11=function(){b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_ACTIONS,"pages__header__action_bar",["page_consumer_experience"],{action:this.props.logAction})};d.$5=function(){return this.props.blueFollowButton?j.jsx(b("PagesButton.react"),{color:"fbblue",image:j.jsx(b("Image.react"),{className:"ctaButtonIcon",src:g("114932")}),label:j.jsx("span",{className:"blueButtonLabel",children:i._("Following")}),onClick:this.$12}):j.jsx(b("XUIButton.react"),{image:this.props.qocDialogButton?j.jsx(b("Image.react"),{src:g("116170")}):j.jsx(b("Image.react"),{src:g("116498")}),label:i._("Following"),onClick:this.$12,size:this.props.size})};d.$6=function(){var a=this.props.videoPageThemeColor;if(a)return j.jsx(b("VideoPageThemedActionBarButton.react"),{"data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("602176")}),isBgFilled:!1,label:i._("Following"),ref:"followedButton",videoPageThemeColor:a});return this.props.asPrimaryButton==="true"?j.jsxs("div",{children:[j.jsx(b("XUIPopoverButton.react"),{className:this.props.asPrimaryButtonWide?"_93q_":"","data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("116533")}),label:i._("Following"),ref:"followedButton",size:this.props.size||"large"}),this.renderLayers()]}):j.jsxs("div",{children:[j.jsx(b("XUIPopoverButton.react"),{"data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("116498")}),label:i._("Following"),ref:"followedButton",size:this.props.size}),this.renderLayers()]})};d.$2=function(){return j.jsx("div",{children:j.jsx(b("XUIPopoverButton.react"),{className:this.props.origin==="hovercard"?"_29kr":"",image:j.jsx(b("Image.react"),{src:g("396312")}),label:(this.props.snoozeData||{}).stateText,ref:"snoozedButton",size:this.props.size})})};d.renderLayers=function(){var a=this;return j.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.followedButton},shown:this.state.privacyNuxShown,position:"right",onCloseButtonClick:function(){return a.$13()},children:i._("You can control who can see the people, Pages, and lists you follow {hyperlink for help center}.",[i._param("hyperlink for help center",j.jsx(b("Link.react"),{href:"/ajax/timeline/friends/edit_dialog.php",rel:"dialog",children:i._("here")}))])},"ambientNUX")};d.$13=function(){this.setState({privacyNuxShown:!1}),b("BasicFBNux").onDismiss(m)};d.$10=function(){var a=this;return j.jsxs(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.followButton},onCloseButtonClick:function(){return a.$14()},position:"below",shown:this.state.followButtonNuxShown,children:[j.jsx(b("Image.react"),{className:"_2tv4",src:g("418478")}),j.jsx("div",{className:"_2tv5",children:i._("Follow this show to get new episodes in your watchlist on Facebook Watch.")})]},"ambientNUX")};d.$14=function(){this.setState({followButtonNuxShown:!1}),b("BasicFBNux").onDismiss(n)};d.$3=function(){var a=this;return[j.jsxs(l,{className:"_10it",onclick:function(){b("PagesLikeFollowHelper").onSnoozeChange(a.props.pageID,!1),new(b("SnoozedProfileTypedLogger"))().setEvent("end_snooze").setItemObjID(a.props.pageID).setSessionID(a.$1).log()},children:[j.jsx(b("XUIText.react"),{size:"meta1",display:"block",children:(this.props.snoozeData||{}).actionText}),j.jsx(b("XUIText.react"),{size:"meta1",className:"_34kz",children:(this.props.snoozeData||{}).timeLeftText})]},"Unsnooze."+this.props.pageID)]};d.$7=function(){var a=b("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[j.jsx(l,{"data-testid":void 0,onclick:this.$12,children:i._("Unfollow this Page")},"Unfollow."+this.props.pageID),j.jsx(b("XUIMenuSeparator.react"),{},"follow_seperator"),b("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID),b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus),b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus),b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").UNFOLLOW,this.props.newsFeedStatus),b("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID),b("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,!0,a,this.props.notifStatus),b("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,!1,!a,this.props.notifStatus)]};return c}(j.Component);e.exports=a}),null);
__d("PagesLikeStore",["FluxReduceStore","PagesLikeFollowNotifDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{}};c.reduce=function(a,b){a=babelHelpers["extends"]({},a);switch(b.type){case"like":case"unlike":case"init_data":a[b.data.pageID]=b.data.likeStatus}return a};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("PagesSnoozeStore",["FluxReduceStore","PagesLikeFollowNotifDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{}};c.reduce=function(a,b){a=babelHelpers["extends"]({},a);switch(b.type){case"snooze_changed":case"init_data":a[b.data.pageID]=babelHelpers["extends"]({},a[b.data.pageID]),a[b.data.pageID].status=b.data.snoozeStatus,a[b.data.pageID].data=b.data.snoozeData||a[b.data.pageID].data}return a};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("PagesHeaderFollowButtonContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderFollowButton.react","PagesLikeFollowNotifDispatcher","PagesLikeStore","PagesSnoozeStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesLikeStore"),b("PagesFollowStore"),b("PagesSnoozeStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]};c.calculateState=function(a,c){a=b("PagesLikeStore").getState();var d=b("PagesFollowStore").getState(),e=b("PagesSnoozeStore").getState()[c.pageID]||{},f=b("PagesGetNotificationStore").getState(),g=b("PageNewsFeedStore").getState();g={pageID:c.pageID,pageName:c.pageName,actorID:c.actorID,followAllowed:c.followAllowed,followLocation:c.followLocation,newsFeedStatus:g[c.pageID],disableDropdown:c.disableDropdown,shouldShowFollowPrivacyNux:c.shouldShowFollowPrivacyNux,likeStatus:a[c.pageID],followStatus:d[c.pageID],snoozeStatus:e.status,snoozeData:e.data,notifStatus:babelHelpers["extends"]({},f[c.pageID]),origin:c.origin,size:c.size,showUnpublishPageDialog:c.showUnpublishPageDialog,blueFollowButton:c.blueFollowButton,asPrimaryButton:c.asPrimaryButton,asPrimaryButtonWide:c.asPrimaryButtonWide,shouldShowFollowButtonNux:c.shouldShowFollowButtonNux,videoPageThemeColor:c.videoPageThemeColor,qocDialogButton:c.qocDialogButton,logAction:c.logAction};return g};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([b("PagesLikeStore"),b("PagesFollowStore"),b("PagesSnoozeStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]),b("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:"init_data"})};d.render=function(){return g.jsx(b("PagesHeaderFollowButton.react"),babelHelpers["extends"]({},this.state))};return c}(g.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesHeaderGamesNotificationButton.react",["ix","cx","fbt","ContextualDialogArrow","FDSButton.react","Image.react","PageGetNotificationUtil","PageLikeButton","PagesLikeFollowHelper","PagesLikeFollowNotifDispatcher","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","React","ReactXUIMenu","XUIMenuSeparator.react","XUIPopoverButton.react","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("ReactXUIMenu").SelectableMenu,l=b("ReactXUIMenu").Item;function m(a){return j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("493831")}),label:i._("Favorite"),onClick:a.onFollowClick})}function n(){return j.jsx(b("XUIPopoverButton.react"),{image:j.jsx(b("Image.react"),{src:g("116170")}),label:i._("Favorited"),size:"large"})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PageLikeButton").doLikeAction(a.target,d.props.pageID,d.props.origin,d.props.actorID),b("PagesLikeFollowNotifDispatcher").dispatch({data:{pageID:d.props.pageID,state:"on",type:"live_video"},type:"notif_change"})},d.$2=function(a){b("PageLikeButton").doUnlikeAction(a,d.props.pageID,d.props.origin,d.props.actorID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){var a,c=b("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[j.jsx(l,{onclick:this.$2,children:i._("Unfavorite")},"Unfollow."+this.props.pageID),j.jsx(b("XUIMenuSeparator.react"),{},"follow_seperator"),(a=b("PagesLikeFollowHelper")).newsfeedTitleMenuItem(this.props.pageID),a.newsfeedMenuItem(this.props.pageID,"see_first",this.props.newsFeedStatus),a.newsfeedMenuItem(this.props.pageID,"follow",this.props.newsFeedStatus),a.newsfeedMenuItem(this.props.pageID,"unfollow",this.props.newsFeedStatus),a.notificationTitleMenuItem(this.props.pageID),a.notificationMenuItem(this.props.pageID,!0,c,this.props.notifStatus),a.notificationMenuItem(this.props.pageID,!1,!c,this.props.notifStatus)]};d.render=function(){return this.props.isSubscribed?j.jsx(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuOverlappingBorder"),b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:j.jsx(k,{className:"_4bje",multiple:!0,children:this.$3()}),children:j.jsx(n,{})}):j.jsx(m,{onFollowClick:this.$1})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesHeaderGamesNotificationContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderGamesNotificationButton.react","PagesLikeFollowNotifDispatcher","PagesLikeStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesFollowStore"),b("PagesGetNotificationStore"),b("PagesLikeStore"),b("PageNewsFeedStore")]};c.calculateState=function(a,c){a=b("PagesLikeStore").getState();var d=b("PagesFollowStore").getState();return{actorID:c.actorID,followLocation:c.followLocation,isSubscribed:a[c.pageID]||d[c.pageID],newsFeedStatus:b("PageNewsFeedStore").getState()[c.pageID],notifStatus:babelHelpers["extends"]({},b("PagesGetNotificationStore").getState()[c.pageID]),origin:c.origin,pageID:c.pageID}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([b("PagesFollowStore"),b("PagesGetNotificationStore"),b("PagesLikeStore"),b("PageNewsFeedStore")]),b("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:"init_data"})};d.render=function(){return g.jsx(b("PagesHeaderGamesNotificationButton.react"),babelHelpers["extends"]({},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesHeaderLikeButton.react",["ix","cx","fbt","BasicFBNux","BootloadedComponent.react","ContextualDialogArrow","DOM","FDSButton.react","Image.react","JSResource","PageGetNotificationUtil","PageLikeButton","PagesLikeFollowHelper","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","React","ReactDOM","ReactXUIMenu","VideoPageThemedActionBarButton.react","XUIAmbientNUX.react","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","XUISpinner.react","asset","cxMargin","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("ReactXUIMenu").SelectableMenu,l=b("ReactXUIMenu").Item,m=6453;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showLikeNUX:d.props.likeButtonNuxID!=null},d.$1=null,d.$2=function(){return d.$1},d.$6=function(){d.setState({showLikeNUX:!1}),d.props.likeButtonNuxID!=null&&b("BasicFBNux").onDismiss(d.props.likeButtonNuxID)},d.$8=function(a){d.$10(),b("PageLikeButton").doUnlikeAction(a,d.props.pageID,d.props.origin,d.props.actorID,null,d.props.decoupleUnlikeFromUnfollow,d.props.qocDialogButton),b("PagesLikeFollowHelper").onUnlikeWithConfirmation(d.props.pageID)},d.$4=function(a){(!d.props.pageID||!d.props.actorID)&&b("goURI")("/"),d.$10(),d.props.showUnpublishPageDialog&&d.$11(),b("PageLikeButton").doLikeAction(a.target,d.props.pageID,d.props.origin,d.props.actorID,d.props.decoupleLikeFromFollow,d.props.qocDialogButton)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.state.showLikeNUX&&this.props.likeButtonNuxID!=null&&b("BasicFBNux").onView(this.props.likeButtonNuxID)};d.$3=function(){var a=this,c=this.props.videoPageThemeColor,d=i._("Like");return this.props.useFDS===!0?j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("606105")}),label:d,onClick:this.$4,size:"medium"}):j.jsx("div",{children:c?j.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99","data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("509921")}),isBgFilled:!1,label:d,labelIsHidden:!0,onClick:this.$4,ref:function(b){return a.$1=b},videoPageThemeColor:c}):j.jsxs("span",{children:[j.jsx(b("XUIButton.react"),{className:"likeButton","data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("381822")}),label:d,labelIsHidden:this.props.hideButtonText,onClick:this.$4,ref:function(b){return a.$1=b},size:this.props.size}),this.state.showLikeNUX?this.$5():null]})})};d.$5=function(){switch(this.props.likeButtonNuxID){case m:return j.jsx(b("XUIAmbientNUX.react"),{contextRef:this.$2,onCloseButtonClick:this.$6,position:"below",shown:this.state.showLikeNUX,width:"normal",children:i._("Interested in this Page? Like it to see updates in your News Feed.")})}return null};d.$7=function(){var a=i._("Liked");return this.props.useFDS===!0?j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("503752")}),label:a,onClick:this.$8,size:"medium"}):j.jsx(b("XUIButton.react"),{className:"likedButton",image:this.props.qocDialogButton?j.jsx(b("Image.react"),{src:g("363510")}):j.jsx(b("Image.react"),{src:g("381821")}),label:a,onClick:this.$8,size:this.props.size})};d.$9=function(){var a=this.props.videoPageThemeColor;return a?j.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99","data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("504109")}),isBgFilled:!0,label:i._("Liked"),labelIsHidden:!0,videoPageThemeColor:a}):j.jsx(b("XUIPopoverButton.react"),{className:"likedButton","data-testid":void 0,image:j.jsx(b("Image.react"),{src:g("381821")}),label:i._("Liked"),labelIsHidden:this.props.hideButtonText,size:this.props.size})};d.$10=function(){b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_ACTIONS,"pages__header__action_bar",["page_consumer_experience"],{action:this.props.logAction})};d.$11=function(){b("ReactDOM").render(j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("PageUnpublishPageLikeWarningDialog.react").__setRef("PagesHeaderLikeButton.react"),bootloadPlaceholder:j.jsx(b("XUISpinner.react"),{}),pageName:this.props.pageName,pageid:this.props.pageID}),b("DOM").create("div"))};d.render=function(){if(!this.props.likeStatus)return this.$3();else if(this.props.disableDropdown)return this.$7();var a=[j.jsx(l,{"data-testid":void 0,onclick:this.$8,children:i._("Unlike this Page")},"Unlike."+this.props.pageID)];if(!this.props.followAllowed){var c;a.push(j.jsx(b("XUIMenuSeparator.react"),{},"like_seperator"));a.push((c=b("PagesLikeFollowHelper")).newsfeedTitleMenuItem(this.props.pageID));a.push(c.newsfeedMenuItem(this.props.pageID,"see_first",this.props.newsFeedStatus));a.push(c.newsfeedMenuItem(this.props.pageID,"follow",this.props.newsFeedStatus));var d=b("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);a.push(c.notificationTitleMenuItem(this.props.pageID));a.push(c.notificationMenuItem(this.props.pageID,!0,d,this.props.notifStatus));a.push(c.notificationMenuItem(this.props.pageID,!1,!d,this.props.notifStatus))}return j.jsx(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuOverlappingBorder"),b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:j.jsx(k,{className:this.props.followAllowed?null:"_4bje",multiple:!0,children:a}),children:this.$9()})};return c}(j.Component);e.exports=a}),null);
__d("PagesHeaderLikeButtonContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderLikeButton.react","PagesLikeFollowNotifDispatcher","PagesLikeStore","PagesSnoozeStore","React","XUIButton.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesLikeStore"),b("PagesFollowStore"),b("PagesSnoozeStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]};c.calculateState=function(a,c){a=b("PagesLikeStore").getState();var d=b("PagesFollowStore").getState(),e=b("PagesSnoozeStore").getState()[c.pageID]||{},f=b("PagesGetNotificationStore").getState(),g=b("PageNewsFeedStore").getState();g={pageID:c.pageID,pageName:c.pageName,actorID:c.actorID,followAllowed:c.followAllowed,newsFeedStatus:g[c.pageID],disableDropdown:c.disableDropdown,likeStatus:a[c.pageID],followStatus:d[c.pageID],snoozeStatus:e.status,snoozeData:e.data,notifStatus:babelHelpers["extends"]({},f[c.pageID]),origin:c.origin,size:c.size,showUnpublishPageDialog:c.showUnpublishPageDialog,shouldShowFollowPrivacyNux:c.shouldShowFollowPrivacyNux,blueFollowButton:c.blueFollowButton,shouldShowFollowButtonNux:c.shouldShowFollowButtonNux,hideButtonText:c.hideButtonText,videoPageThemeColor:c.videoPageThemeColor,likeButtonNuxID:c.likeButtonNuxID,decoupleLikeFromFollow:c.decoupleLikeFromFollow,decoupleUnlikeFromUnfollow:c.decoupleUnlikeFromUnfollow,qocDialogButton:c.qocDialogButton,logAction:c.logAction,useFDS:c.useFDS};return g};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([b("PagesLikeStore"),b("PagesFollowStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]),b("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:"init_data"})};d.render=function(){return g.jsx(b("PagesHeaderLikeButton.react"),babelHelpers["extends"]({},this.state))};return c}(g.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XRecommendPageDeleteRecommendationDialogAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/recommendation/action_bar/delete_dialog/",{page_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("PagesHeaderRecommendPageButton.react",["ix","cx","fbt","AsyncDialog","AsyncRequest","ContextualDialogArrow","Image.react","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","React","ReactXUIMenu","URI","XRecommendPageComposerDialogAsyncController","XRecommendPageDeleteRecommendationDialogAsyncController","XUIButton.react","XUIPopoverButton.react","XPagesProfileReviewsController","asset","goURI","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=b("ReactXUIMenu").SelectableMenu,m=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a=b("XRecommendPageComposerDialogAsyncController").getURIBuilder().setFBID("page_id",String(d.props.pageID)).setEnum("surface","page_recommendation_action_bar").setEnum("ref_type","page_recommendation_action_bar");d.props.canRecommendWithType&&a.setEnum("recommendation_type","positive");b("AsyncDialog").send(new(b("AsyncRequest"))(new(j||(j=b("URI")))(a.getURI()).getUnqualifiedURI()))},d.$2=function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(b("XRecommendPageDeleteRecommendationDialogAsyncController").getURIBuilder().setFBID("page_id",String(d.props.pageID)).getURI().getUnqualifiedURI()))},d.$3=function(a){b("goURI")(b("XPagesProfileReviewsController").getURIBuilder().setString("page_token",d.props.pageURIToken).getURI())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(this.props.isRecommended&&this.props.canRecommendWithType){var a=b("gkx")("678726")?k.jsx(m,{children:i._("Edit recommendation")},"editRecommendation."+this.props.pageID):null;return k.jsx(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuOverlappingBorder"),b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:k.jsxs(l,{multiple:!0,children:[a,k.jsx(m,{onClick:this.$3,children:i._("View Recommendation")},"viewRecommendation."+this.props.pageID),k.jsx(m,{onClick:this.$2,children:i._("Delete recommendation")},"deleteRecommendation."+this.props.pageID)]}),children:k.jsx(b("XUIPopoverButton.react"),{image:k.jsx(b("Image.react"),{src:g("548195")}),label:i._("Recommended"),size:"large"})})}else return k.jsx(b("XUIButton.react"),{className:"_rfh",image:k.jsx(b("Image.react"),{src:g("548196")}),label:i._("Recommend"),onClick:this.$1,size:"large"})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesRecommendPageDispatcher",["Arbiter","ExplicitRegistrationReactDispatcher","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("Arbiter").subscribe("pageRecommendation/recommendChange",function(a,b){d.dispatchRecommendChange(b.pageID,b.recommendStatus)}));return d}var d=c.prototype;d.dispatchRecommendChange=function(a,b){this.dispatch({type:"recommend_changed",data:{pageID:a,recommendStatus:b}})};return c}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("PagesRecommendPageStore",["FluxReduceStore","PagesRecommendPageDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{}};c.reduce=function(a,b){a=babelHelpers["extends"]({},a);switch(b.type){case"init_data":case"recommend_changed":a[b.data.pageID]=b.data.recommendStatus;break}return a};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesRecommendPageDispatcher"))}),null);
__d("PagesHeaderRecommendPageButtonContainer.react",["FluxContainer","PagesHeaderRecommendPageButton.react","PagesRecommendPageDispatcher","PagesRecommendPageStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesRecommendPageStore")]};c.calculateState=function(a,c){a=b("PagesRecommendPageStore").getState();return{isRecommended:a[c.pageID]}};function c(c){var d;d=a.call(this,c)||this;b("PagesRecommendPageDispatcher").explicitlyRegisterStores([b("PagesRecommendPageStore")]);b("PagesRecommendPageDispatcher").dispatch({data:c,type:"init_data"});return d}var d=c.prototype;d.render=function(){return g.jsx(b("PagesHeaderRecommendPageButton.react"),{canRecommendWithType:this.props.canRecommendWithType,isRecommended:this.state.isRecommended,pageID:this.props.pageID,pageURIToken:this.props.pageURIToken})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("SEOInlineLoginDialogGating.react",["gkx"],(function(a,b,c,d,e,f){"use strict";a={seoPagesLoginPrompt:function(){return b("gkx")("1051420")},seoJobsDetailViewLoginPrompt:function(){return b("gkx")("1064552")}};e.exports=a}),null);
__d("PagesActionBarChannel.react",["cx","InlineLoginDialogWrapper.react","PageActionBarActionSelector.react","PageActionContainer.react","PageCallToActionRef","PageCTAAction.react","PagesHeaderFollowButtonContainer.react","PagesHeaderGamesNotificationContainer.react","PagesHeaderLikeButtonContainer.react","PagesHeaderRecommendPageButtonContainer.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","SEOInlineLoginDialogGating.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){return h.jsxs("div",{className:"_5hgz"+(a.videoPageThemeColor==null?" _51xa":""),children:[a.primaryFollowButtonInBar!=null&&a.videoPageThemeColor!=null&&h.jsx(b("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},a.likeFollowData,{asPrimaryButton:"false",videoPageThemeColor:a.videoPageThemeColor})),a.customActionsData.slice(0,a.numberOfActionBarButtons).map(function(c,d){b("PagesLogger").log(a.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_ACTIONS,"pages__header__action_bar",["page_consumer_experience"],{action:c.__typename});switch(c.__typename){case"PageLikeAction":return{element:h.createElement(b("PagesHeaderLikeButtonContainer.react"),babelHelpers["extends"]({},a.likeFollowData,{hideButtonText:a.hideButtonText,key:c.__typename+d,logAction:c.__typename,size:"large",videoPageThemeColor:a.videoPageThemeColor})),isCTAAction:!1};case"PageFollowAction":return{element:h.createElement(b("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},a.likeFollowData,{asPrimaryButton:"false",key:c.__typename+d,logAction:c.__typename,size:"large",videoPageThemeColor:a.videoPageThemeColor})),isCTAAction:!1};case"PageGetGamesNotificationAction":return{element:h.createElement(b("PagesHeaderGamesNotificationContainer.react"),babelHelpers["extends"]({},a.likeFollowData,{key:c.__typename+d})),isCTAAction:!1};case"PageCTAAction":return{element:h.createElement(b("PageCTAAction.react"),babelHelpers["extends"]({},c,{className:"_rfh",key:c.__typename+d,surface:b("PageCallToActionRef").PAGES_ACTION_BAR_CHANNEL})),isCTAAction:!0};case"PageRecommendPageAction":return{element:h.createElement(b("PagesHeaderRecommendPageButtonContainer.react"),babelHelpers["extends"]({},a.recommendData,{key:c.__typename+d})),isCTAAction:!1};default:c.hideButtonText=a.hideButtonText;return{element:h.jsx(b("PageActionContainer.react"),{action:c,className:"_rfh _17q_",pageID:a.pageID,size:"large",videoPageThemeColor:a.videoPageThemeColor},c.__typename+d),isCTAAction:!1}}}).map(function(c,d){return a.next!=null&&!c.isCTAAction?h.jsx(b("InlineLoginDialogWrapper.react"),{SEOInlineLoginDialogGatingPayload:b("SEOInlineLoginDialogGating.react").seoPagesLoginPrompt,next:a.next,children:c.element},d):c.element}),h.jsx(b("PageActionBarActionSelector.react"),{actions:a.customActionsData.slice(a.numberOfActionBarButtons),pageID:a.pageID,videoPageThemeColor:a.videoPageThemeColor})]})};e.exports=a}),null);
__d("PagesActionsUnitStore",["FluxReduceStore","PagesHeaderDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{callToAction:null,likeFollowData:null,recommendData:null,messageData:null,moreMenuItemConfigs:[],pageID:"0",customActionsData:[],numberOfActionBarButtons:3,primaryFollowButtonInBar:!1,hideButtonText:!1,videoPageThemeColor:null}};c.reduce=function(a,b){switch(b.type){case"actions_unit_data":return babelHelpers["extends"]({},a,b.data);case"update_video_page_theme_color":return babelHelpers["extends"]({},a,{videoPageThemeColor:b.videoPageThemeColor})}return a};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesHeaderDispatcher"))}),null);
__d("PagesActionBarChannelContainer.react",["FluxContainer","PagesActionBarChannel.react","PagesActionsUnitStore","PagesHeaderDispatcher","PagesHeaderFollowButtonContainer.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesActionsUnitStore")]};c.calculateState=function(){return b("PagesActionsUnitStore").getState()};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesHeaderDispatcher").explicitlyRegisterStore(b("PagesActionsUnitStore")),b("PagesHeaderDispatcher").dispatch({data:this.props,type:"actions_unit_data"})};d.render=function(){var a=this.state.primaryFollowButtonInBar,c=this.state.videoPageThemeColor;return g.jsxs("div",{children:[a===!0&&(c===null||c===""||c===void 0)?g.jsx(b("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},this.state.likeFollowData,{asPrimaryButton:"true"})):null,g.jsx(b("PagesActionBarChannel.react"),babelHelpers["extends"]({},this.state))]})};return c}(g.Component);e.exports=b("FluxContainer").create(a)}),null);
__d("OptimisticVideoProgressBar.react",["cx","fbt","Arbiter","AsyncRequest","BUIProgressBar.react","ChannelConstants","React","Run","VideoUploadProgressUtils","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=5e3,k="video_encode";a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={videoProgress:0,completed:!1,encodeToken:{}},d.inactivityTimer=null,d.stopInactivityTimer=function(){clearTimeout(d.inactivityTimer)},d.resetInactivityTimer=function(a){d.stopInactivityTimer(),d.inactivityTimer=d.startInactivityTimer(a)},d.getChannelType=function(){return b("ChannelConstants").getArbiterType(k)},d.onEncodeFinished=function(){d.stopInactivityTimer(),d.state.encodeToken.unsubscribe(),d.setState({videoProgress:100,completed:!0})},d.onEncodeUpdate=function(a,c){if(String(c.obj.videoID)!==d.props.videoID)return;var e=b("VideoUploadProgressUtils").getUpdatedProgress(c,{progress:d.state.videoProgress,progressWithoutFake:d.state.videoProgress});d.setState(function(a,d){return{videoProgress:e.progress,completed:a.completed||b("VideoUploadProgressUtils").isEncodingFinished(c.obj.stage)}});b("VideoUploadProgressUtils").isEncodingFinished(c.obj.stage)?d.onEncodeFinished():d.resetInactivityTimer(d.props.videoID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("Arbiter").subscribe(this.getChannelType(),this.onEncodeUpdate);b("Run").onLeave(function(){return a.unsubscribe()});this.inactivityTimer=this.startInactivityTimer(this.props.videoID);this.setState({encodeToken:a})};d.componentWillUnmount=function(){this.state.encodeToken.unsubscribe(),this.stopInactivityTimer()};d.componentDidUpdate=function(a,b){!b.completed&&this.state.completed&&this.onComplete()};d.checkVideoStatus=function(a){var c=this;new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:a}).setHandler(function(b){b=b.getPayload();b.is_ready?c.onEncodeFinished(a):c.inactivityTimer=c.startInactivityTimer(a)}).send()};d.startInactivityTimer=function(a){return setTimeout(this.checkVideoStatus.bind(this,a),j)};d.onComplete=function(){b("Arbiter").inform(this.props.onReadyEvent,{videoID:this.props.videoID,videoAssetID:this.props.videoAssetID,source:this.props.source})};d.render=function(){var a=h._("FINISHED"),c=h._("PROCESSING");a=this.state.completed?a:c;return i.jsx(b("BUIProgressBar.react"),{className:b("joinClasses")("_33bk",this.props.className),message:a,isComplete:this.state.completed,percentage:this.state.videoProgress,width:this.props.width})};return c}(i.Component);a.propTypes={videoID:b("prop-types").string.isRequired,videoAssetID:b("prop-types").string||null,width:b("prop-types").number.isRequired,onReadyEvent:b("prop-types").string.isRequired,source:b("prop-types").string};e.exports=a}),null);
__d("XPagesMessagePageOwnerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/send_page_message/",{message:{type:"String",required:!0},page_id:{type:"String",required:!0}})}),null);
__d("PageContentTabMessageOwnerDialog",["cx","fbt","AbstractTextArea.react","AsyncRequest","LayerFadeOnHide","PageContentTabSuccessDialog.react","PageContentTabSuccessDialogTimer","React","ReactDOM","XPagesMessagePageOwnerController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","nullthrows","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=5,k=b("PageContentTabSuccessDialogTimer").TIME_IN_MS,l=function(c){"use strict";babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.state={messageText:null,isSendingMessage:!1},d.$1=null,d.$2=function(){d.$1&&d.setState({messageText:d.$1.getValue()})},d.$3=function(){d.setState({isSendingMessage:!0});var a=b("XPagesMessagePageOwnerController").getURIBuilder().setString("message",b("nullthrows")(d.$1).getValue()).setString("page_id",b("nullthrows")(d.props.pageID)).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload().threadID;d.setState({isSendingMessage:!1,messageText:null});d.props.onMessageThreadInitiated&&d.props.onMessageThreadInitiated(a)}).setErrorHandler(function(){d.setState({isSendingMessage:!1})}).setFinallyHandler(function(a){d.props.callbackParent(!0)}).send()},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=this;return i.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},shown:!0,width:500,children:[i.jsx(b("XUIDialogTitle.react"),{children:i.jsxs("div",{children:[h._("Message to"),"\xa0",this.props.username]})}),i.jsx(b("XUIDialogBody.react"),{children:i.jsx(b("AbstractTextArea.react"),{autoFocus:!0,className:"_3k3a",disabled:this.state.isSendingMessage,ref:function(b){return a.$1=b},onChange:this.$2,placeholder:h._("Send a message to {Account Name}",[h._param("Account Name",this.props.username)]),rows:j})}),i.jsx(b("XUIDialogFooter.react"),{children:i.jsx(b("XUIDialogButton.react"),{action:"confirm",disabled:this.state.isSendingMessage||this.state.messageText==null||this.state.messageText.trim().length===0,label:h._("Send Message"),onClick:this.$3,use:"confirm"})})]})};return a}(i.Component);l.propTypes={existingThreadID:(a=b("prop-types")).string,username:a.string,callbackParent:a.func,onChatThreadOpen:a.func,onMessageThreadInitiated:a.func};c={onChildChanged:function(a){a===!0&&this.hideWithSuccessMessage("Message Sent!")},show:function(a,c){var d=this;this._container||(this._container=document.createElement("div"));b("ReactDOM").render(i.jsx(l,{username:a,pageID:c,callbackParent:function(a){return d.onChildChanged(a)}}),this._container)},hide:function(){if(!this._container)return;this.destroy()},hideWithSuccessMessage:function(a){if(!this._container)return;b("ReactDOM").render(i.jsx(b("PageContentTabSuccessDialog.react"),{successLabel:a}),this._container);setTimeout(this.destroy.bind(this),k)},destroy:function(){b("ReactDOM").unmountComponentAtNode(this._container),this._container=null}};e.exports=c}),null);
__d("PagesCoverCameraButton.react",["cx","fbt","Link.react","PagesNuxFrameworkHelper","React","XUIAmbientNUX.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showCoverSlideshowMenuOptionNux:!1,showOnTourBadgeMenuOptionNux:!1,cameraButtonRef:null},d.$1=function(a){if(a===null)return;d.setState({cameraButtonRef:a})},d.$2=function(){return d.state.cameraButtonRef},d.$3=function(){d.state.showCoverSlideshowMenuOptionNux?b("PagesNuxFrameworkHelper").closeNux(5462,"page_timeline"):d.state.showOnTourBadgeMenuOptionNux&&b("PagesNuxFrameworkHelper").closeNux(5649,"page_timeline"),d.setState({showCoverSlideshowMenuOptionNux:!1,showOnTourBadgeMenuOptionNux:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.props.shouldShowCoverSlideshowMenuOptionNux?b("PagesNuxFrameworkHelper").registerNux(5462,"page_timeline",function(){return a.setState({showCoverSlideshowMenuOptionNux:!0})}):this.props.shouldshowOnTourBadgeMenuOptionNux&&b("PagesNuxFrameworkHelper").registerNux(5649,"page_timeline",function(){return a.setState({showOnTourBadgeMenuOptionNux:!0})})};d.$4=function(){return this.state.showOnTourBadgeMenuOptionNux?h._("Show Tour Info"):h._("New! Cover Slideshow")};d.$5=function(){return this.state.showOnTourBadgeMenuOptionNux?h._("Add the name and dates of your tour on your Page's cover photo, video or slideshow."):h._("Show people who visit your Page even more of what's important to you with a cover slideshow. Select Create Slideshow in the cover photo area to get started.")};d.render=function(){return i.jsxs(b("Link.react"),{className:"_3oj-","data-testid":void 0,children:[i.jsx(b("XUIAmbientNUX.react"),{alignment:"center",contextRef:this.$2,onCloseButtonClick:this.$3,position:"right",shown:(this.state.showCoverSlideshowMenuOptionNux||this.state.showOnTourBadgeMenuOptionNux)&&!!this.state.cameraButtonRef,width:"normal",children:i.jsxs("div",{children:[i.jsx(b("XUIText.react"),{display:"block",weight:"bold",children:this.$4()}),this.$5()]})}),i.jsxs("div",{className:"_3oj_"+(this.props.expanded?" _3ok0":""),ref:this.$1,children:[i.jsx("div",{className:"_3ok1",children:i.jsx("div",{className:"_4eqf _4eqi"})}),i.jsx("div",{className:"_3ok2",children:i.jsx("span",{className:"_3ok3",children:this.props.label})})]})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCoverCoreStore",["AsyncRequest","FluxReduceStore","PagesCoverDispatcher","XPagesCoverCancelEditAsyncController"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{canViewerEditProfile:!1,currentCoverType:"cover_photo",hasCoverSet:!1,isEditMode:!1,newUploadPhotoIDs:[],newUploadVideoIDs:[],pageID:"",previousCoverType:"cover_photo",shouldShowEditMenuForAdmins:!0,shouldShowLoadingOverlay:!1,eventTourBadgeInfo:{tourID:null,title:null,subtitle:null,eventTourBadgeStatus:"no_tour",shouldShowNux:!1},disableCoverVideoUploadOption:!1}};d.getEventTourBadgeInfo=function(){return this.getState().eventTourBadgeInfo};d.deleteNewUploadMedia=function(a,c){new(b("AsyncRequest"))().setMethod("POST").setURI(b("XPagesCoverCancelEditAsyncController").getURIBuilder().getURI()).setData({page_id:a,photo_id_vector:c}).send()};d.reduce=function(a,b){var c=null;switch(b.type){case"new_cover_data":var d=b.data,e=d.coreData;d=d.pageID;e&&(c=babelHelpers["extends"]({},e,{isEditMode:!1,newUploadPhotoIDs:[],newUploadVideoIDs:[],pageID:d,previousCoverType:e.currentCoverType}));break;case"photo_saved":case"photo_removed":c=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!0});break;case"photo_uploading":c=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!1,shouldShowLoadingOverlay:a.currentCoverType!=="cover_photo"});break;case"photo_previewing":c=babelHelpers["extends"]({},a,{previousCoverType:a.currentCoverType,currentCoverType:"cover_photo",shouldShowEditMenuForAdmins:!1,shouldShowLoadingOverlay:!1});if(b.data.isNewUpload){d=Array.from(a.newUploadPhotoIDs);d.push(b.data.coverPhotoData.id);c.newUploadPhotoIDs=d}break;case"photo_saving":c=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!1,currentCoverType:"loading"});break;case"video_invalid_upload":c=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!a.isEditMode});break;case"video_start_upload":c=babelHelpers["extends"]({},a,{currentCoverType:"cover_video",isEditMode:!0,previousCoverType:a.currentCoverType,shouldShowEditMenuForAdmins:!1});break;case"video_uploading":case"video_encoding":c=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!1});break;case"video_choosing_thumbnail":c=babelHelpers["extends"]({},a);break;case"video_publishing":c=babelHelpers["extends"]({},a,{isEditMode:!1,shouldShowEditMenuForAdmins:!1,currentCoverType:"loading"});break;case"video_previewing":c=babelHelpers["extends"]({},a,{isEditMode:!0,shouldShowEditMenuForAdmins:!1});e=b.data;d=e.isNewUpload;e=e.videoID;if(d){d=Array.from(a.newUploadVideoIDs);d.push(e);c.newUploadVideoIDs=d}else c.previousCoverType=a.currentCoverType,c.currentCoverType="cover_video";break;case"photo_cancel":case"video_cancelling":c=babelHelpers["extends"]({},a,{currentCoverType:a.previousCoverType,isEditMode:!1,shouldShowEditMenuForAdmins:!1,shouldShowLoadingOverlay:!0});this.deleteNewUploadMedia(a.pageID,a.newUploadPhotoIDs);break;case"video_published":c=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!0});break;case"slideshow_edit":c=babelHelpers["extends"]({},a,{isEditMode:!0,previousCoverType:a.currentCoverType,shouldShowEditMenuForAdmins:!1,currentCoverType:"cover_slideshow"});break;case"slideshow_saving":c=babelHelpers["extends"]({},a,{isEditMode:!1});break;case"slideshow_photo_previewing":if(b.data.isNewUpload){e=Array.from(a.newUploadPhotoIDs);e.push(b.data.itemData.carouselMediaData.photoData.coverPhotoData.id);c=babelHelpers["extends"]({},a,{newUploadPhotoIDs:e})}break;case"slideshow_video_encode_finished":if(b.data){d=b.data.videoData;e=Array.from(a.newUploadVideoIDs);e.push(d.videoID);c=babelHelpers["extends"]({},a,{newUploadVideoIDs:e})}break;case"slideshow_editing_cancelled":c=babelHelpers["extends"]({},a,{currentCoverType:a.previousCoverType,isEditMode:!1,newUploadPhotoIDs:[],newUploadVideoIDs:[],shouldShowEditMenuForAdmins:!0});this.deleteNewUploadMedia(a.pageID,a.newUploadPhotoIDs);break;case"cover_removing":c=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!1,shouldShowLoadingOverlay:!0});break;case"on_tour_badge_updated":c=babelHelpers["extends"]({},a,{eventTourBadgeInfo:b.data,shouldShowLoadingOverlay:!1});break;case"loading":c=babelHelpers["extends"]({},a,{shouldShowLoadingOverlay:!0});break}return c||a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesCoverDispatcher"))}),null);
__d("PageOnTourOverlay.react",["cx","EventActionContext","EventsActionsLogger","FBJSON","FluxContainer","Link.react","PagesCoverCoreStore","React","XEventsTourPermalinkController","XUIText.react","joinClasses","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.$2(b("EventsActionsLogger").Type.CLICK)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesCoverCoreStore")]};c.calculateState=function(){return b("PagesCoverCoreStore").getEventTourBadgeInfo()};var d=c.prototype;d.componentDidMount=function(){this.$1()&&this.$2(b("EventsActionsLogger").Type.VIEW)};d.$2=function(a){var c;(c=b("EventsActionsLogger")).log(null,{acontext:this.$4(),target:c.Target.TOUR,type:a,mechanism:c.Mechanism.PAGE_COVER_AREA,surface:c.Surface.PAGE,target_id:b("nullthrows")(this.state.tourID)})};d.$1=function(){var a=this.state,b=a.tourID,c=a.title;a=a.eventTourBadgeStatus;return a==="tour_badge_shown"&&b!==null&&c!==null};d.$4=function(){return b("EventActionContext").addActionHistoryEntry(b("EventActionContext").getNewActionContext(),{surface:b("EventsActionsLogger").Surface.PAGE,mechanism:b("EventsActionsLogger").Mechanism.PAGE_COVER_AREA,extra_data:b("FBJSON").stringify({tourID:this.state.tourID})})};d.render=function(){if(!this.$1())return null;var a=this.state,c=a.title,d=a.subtitle;a=a.tourID;var e="_ncd";this.props.className&&(e=b("joinClasses")(e,this.props.className));a=b("XEventsTourPermalinkController").getURIBuilder().setFBID("tour_id",a).setString("acontext",b("EventActionContext").toString(this.$4())).getURI();return h.jsxs("div",{className:e,children:[h.jsx(b("Link.react"),{href:a,onClick:this.$3,children:h.jsx(b("XUIText.react"),{className:"_4yv7",color:"white",size:"header1",children:c})}),h.jsx("br",{}),h.jsx(b("XUIText.react"),{className:"_nce _4yv7",size:"header3",children:d})]})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesCoverLoadingScreen.react",["cx","CenteredContainer.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){var c=h.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0,children:h.jsx(b("XUISpinner.react"),{background:"light",size:"large"})}),d=a.height,e=a.width;a=a.isInSettingsPage;return d&&e?h.jsx("div",{style:{height:d,width:e},children:c}):h.jsx("div",{className:(a?"":"_2rc-")+(a?" _7tj4":""),children:c})};e.exports=a}),null);
__d("PagesCoverDimension",[],(function(a,b,c,d,e,f){"use strict";e.exports={COVER_WIDTH:820,COVER_HEIGHT:312,COVER_WIDTH_IN_SETTINGS:514,COVER_HEIGHT_IN_SETTINGS:195,COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:514,COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:289,COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE:820,COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE:461,THUMBNAIL_HEIGHT_IN_SETTINGS:37,THUMBNAIL_WIDTH_IN_SETTINGS:94}}),null);
__d("PagesCoverOverlay.react",["ix","cx","fbt","AsyncRequest","Image.react","LayerFadeOnHide","PageCallToActionRef","PageCTAAction.react","PagesEventObserver","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ShimButton.react","SimpleNUXMessage","SimpleNUXMessageTypes","XPagesCoverOverlayEditAsyncController","XPagesCoverOverlayRemoveAsyncController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$7=function(a){a=a.target;a instanceof HTMLTextAreaElement&&a.value.length<=k&&d.setState({newDescription:a.value})};d.$11=function(){d.setState({isEditing:!0,shouldShowNUX:!1});return};d.$9=function(){d.setState({isEditing:!1,newDescription:d.state.currentDescription||""})};d.$10=function(){var a=null,c=null;!d.state.newDescription?(a=b("XPagesCoverOverlayRemoveAsyncController").getURIBuilder().getURI(),c=!0):(a=b("XPagesCoverOverlayEditAsyncController").getURIBuilder().getURI(),c=d.state.newDescription);new(b("AsyncRequest"))().setURI(a).setData({page_id:d.props.pageID,description:c}).setHandler(function(a){a.payload.description!==null&&d.setState({isEditing:!1,newDescription:a.payload.description||"",currentDescription:a.payload.description})}).send()};d.$13=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_COVER_DESCRIPTION_CREATION_NUX),d.setState({shouldShowNUX:!1})};d.state={isEditing:!1,newDescription:d.props.description||"",currentDescription:d.props.description,shouldShowNUX:!1};return d}var d=c.prototype;d.componentDidMount=function(){this.$1()&&this.setState({shouldShowNUX:!0})};d.UNSAFE_componentWillReceiveProps=function(a){if(this.props.description===a.description)return;this.setState({newDescription:a.description||"",currentDescription:a.description})};d.render=function(){var a=this.props.description;a=!!a||this.$2();return!a&&!this.props.isEditable?null:j.jsxs("div",{children:[j.jsx("div",{className:"_4i3o"}),j.jsxs("div",{className:"_4i3n",children:[this.$3(),this.$4(),this.$5(),this.$6()]})]})};d.$3=function(){if(this.state.isEditing||!this.state.currentDescription)return null;b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_COVER_DESCRIPTION,b("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);b("PagesEventObserver").notify("cover_area_description_impression",this.props.pageID);var a=this.$2();return j.jsx("div",{className:"_4i46"+(a?" _4i47":"")+(a?"":" _4i4d"),children:j.jsx(b("XUIText.react"),{children:this.state.currentDescription})})};d.$4=function(){if(this.$2()){b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_COVER_CTA_BUTTON,b("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);b("PagesEventObserver").notify("cover_area_cta_impression",this.props.pageID);return j.jsx(b("PageCTAAction.react"),babelHelpers["extends"]({},this.props.primaryButton,{className:"_1kp2 _4i44 _291t",surface:b("PageCallToActionRef").PAGES_COVER_AREA_SURFACE}))}return null};d.$5=function(){if(!this.props.isEditable||!this.state.isEditing)return null;var a=this.$2();return j.jsx("div",{children:j.jsx("textarea",{ref:function(a){a&&a.focus()},className:"_4i4e"+(a?" _4i47":"")+(a?"":" _4i4d"),maxLines:"3",value:this.state.newDescription,onChange:this.$7,onKeyDown:this.$8})})};d.$6=function(){if(!this.props.isEditable||this.props.isPreviewMode||this.props.isLoading)return null;return this.state.isEditing?j.jsxs("div",{children:[j.jsx("div",{className:"_4i4f",children:j.jsx("div",{className:"_4i4g",children:j.jsx(b("XUIText.react"),{children:i._("{current_char_num} \/ {max_char_num}",[i._param("current_char_num",this.state.newDescription.length),i._param("max_char_num",k)])})})}),j.jsxs("div",{className:"_4i4p",children:[j.jsx(b("ShimButton.react"),{className:"_4i4r",onClick:this.$9,children:j.jsx(b("Image.react"),{src:g("127524")})}),j.jsx(b("ShimButton.react"),{className:"_4i4r",onClick:this.$10,children:j.jsx(b("Image.react"),{src:g("114570")})})]})]}):j.jsxs(b("ShimButton.react"),{className:"_4i4p",onClick:this.$11,children:[j.jsx("div",{className:"_4i4r",children:j.jsx(b("Image.react"),{src:g("115342")})}),j.jsx("div",{className:"_4i4s",ref:"coverEditButton",children:j.jsx(b("XUIText.react"),{children:i._("Edit")})}),this.$12()]})};d.$8=function(a){a.keyCode==13&&a.preventDefault()};d.$2=function(){return!!this.props.primaryButton&&this.props.primaryButton.__typename==="PageCTAAction"};d.$12=function(){var a=this,c=j.jsx("div",{className:"_308b",children:i._("Make it easy for people to see what's important and take action on your Page. You can edit or remove this new description anytime, and it won't affect other descriptions on your Page.")});return j.jsx(b("XUIAmbientNUX.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},contextRef:function(){return a.refs.coverEditButton},onCloseButtonClick:this.$13,position:"above",alignment:"right",shown:this.state.shouldShowNUX,children:c})};d.$1=function(){return this.props.isEditable?!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").PAGES_COVER_DESCRIPTION_CREATION_NUX):!1};return c}(j.Component);e.exports=a}),null);
__d("PagesCoverPhotoLink.react",["cx","Link.react","React","XPhotoPermalinkController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){return a.coverPhotoData.uri===null||a.isLoading||a.isPreviewMode?h.Children.only(a.children):h.jsx(b("Link.react"),{className:"_5q-4",href:b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",a.coverPhotoData.id).setString("vanity",a.pageID).getURI(),rel:"theater",children:a.children})};e.exports=a}),null);
__d("videoPageContextualColorFetchUpdatedThemeColor",["PagesHeaderDispatcher","RelayFBEnvironment","RelayModern","promiseDone","videoPageContextualColorFetchUpdatedThemeColorQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("videoPageContextualColorFetchUpdatedThemeColorQuery.graphql");function a(a){a={pageID:a};b("promiseDone")(h(b("RelayFBEnvironment"),i,a,{force:!0}),function(a){a=(a=a.page)==null?void 0:a.video_page_theme_color;a&&b("PagesHeaderDispatcher").dispatch({type:"update_video_page_theme_color",videoPageThemeColor:"#"+a.substring(2)})})}e.exports=a}),null);
__d("PagesCoverPhoto.react",["cx","ActorURI","AsyncRequest","PagesCoverDimension","PagesCoverDispatcher","PagesCoverOverlay.react","PagesCoverPhotoLink.react","ProfileHeaderCoverPhoto.react","React","XPagesCoverPhotoSaveAsyncController","XPagesCoverReloadController","gkx","videoPageContextualColorFetchUpdatedThemeColor"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS,i=b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.$1=a},d.$5=function(){b("PagesCoverDispatcher").dispatch({type:"photo_cancel"}),new(b("AsyncRequest"))().setURI(b("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI()).send()},d.$6=function(){if(!d.$1)return;var a=d.$1.getDimensions().getRect().center;b("PagesCoverDispatcher").dispatch({data:{coverPhotoData:babelHelpers["extends"]({},d.props.coverPhotoData,{focus:{height:a.y,width:a.x}})},type:"photo_saving"});new(b("AsyncRequest"))().setURI(b("ActorURI").create(b("XPagesCoverPhotoSaveAsyncController").getURIBuilder().setFloat("focus_x",a.x).setFloat("focus_y",a.y).setFBID("page_id",d.props.pageID).setFBID("photo_id",d.props.coverPhotoData.id).getURI(),d.props.pageID)).setHandler(function(){b("gkx")("678704")&&b("videoPageContextualColorFetchUpdatedThemeColor")(d.props.pageID)}).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){return this.props.coverPhotoData.uri!==null};d.$4=function(){return j.jsx("div",{className:"_5_yy _44oa"})};d.render=function(){return!this.$3()&&!this.props.isEditable?null:j.jsxs("div",{className:"_2g7o",children:[j.jsx(b("PagesCoverPhotoLink.react"),babelHelpers["extends"]({},this.props,{children:j.jsx("div",{children:j.jsx(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:this.props.coverPhotoData,emptyCover:this.$4(),height:this.props.isInSettingsPage?h:this.props.renderedHeight,isLoading:this.props.isLoading,previewCancelHandler:this.$5,previewMode:this.props.isPreviewMode,previewSaveHandler:this.$6,ref:this.$2,width:this.props.isInSettingsPage?i:this.props.renderedWidth})})})),this.props.isOverlayEnabled?j.jsx(b("PagesCoverOverlay.react"),{description:this.props.pageDescription,isEditable:this.props.isEditable,isLoading:this.props.isLoading,isPreviewMode:this.props.isPreviewMode,pageID:this.props.pageID,primaryButton:this.props.pagePrimaryButton}):null]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowActionCreator",["fbt","PagesCoverDispatcher","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","SimpleXUIDialog","XUIDialogButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=-1,j={enterEditMode:function(a,c){b("PagesCoverDispatcher").dispatch({type:"slideshow_edit",data:{isCreate:c}}),b("PagesLogger").log(a,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_edit"})},changeCurrentIndex:function(a,c){if(i===c)return;b("PagesCoverDispatcher").dispatch({type:"slideshow_change_carousel_index",data:{currentIndex:c}});b("PagesLogger").log(a,b("PagesLoggerEventEnum").SCROLL,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW);i=c},reorderSlideshowItems:function(a,c,d){a!==c&&b("PagesLogger").log(d,b("PagesLoggerEventEnum").DRAG,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reorder_slideshow_items"}),b("PagesCoverDispatcher").dispatch({type:"slideshow_change_order",data:{fromIndex:a,toIndex:c}})},onPhotoUploading:function(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_photo_uploading",data:{uploadingIndex:a}})},onVideoRepositioned:function(a,c,d){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_repositioned",data:{itemRepositionedIndex:a,offsetType:c,offsetValue:d}})},onItemRepositioned:function(a,c,d){b("PagesCoverDispatcher").dispatch({type:"slideshow_item_repositioned",data:{itemRepositionedIndex:d}})},onPhotoRemoved:function(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_photo_removed",data:{removedIndex:a}})},confirmCancel:function(a){if(!a)return;b("SimpleXUIDialog").showEx(g._("If you go back, your changes won't be saved."),g._("Leave Slideshow?"),h.jsxs("div",{children:[h.jsx(b("XUIDialogButton.react"),{action:"cancel",label:g._("Leave Slideshow"),onClick:j.onEditingCancelled,use:"default"}),h.jsx(b("XUIDialogButton.react"),{action:"cancel",label:g._("Cancel"),use:"confirm"})]}))},onEditingCancelled:function(){b("PagesCoverDispatcher").dispatch({type:"slideshow_editing_cancelled"})},onSlideshowSaving:function(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_saving"}),b("PagesLogger").log(a,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_save"})},onVideoItemSettingConfirmed:function(a,c,d,e,f){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_setting_confirmed",data:{videoData:a,preferredThumbnailID:c,preferredThumbnailURL:d,previousKey:e,shouldFocusOnItem:f}})},onNUXTourElementLoaded:function(a,c,d,e){b("PagesCoverDispatcher").dispatch({type:"slideshow_nux_tour_element_loaded",data:{context:a,step:c,description:d,position:e}})},onNUXTourFinished:function(){b("PagesCoverDispatcher").dispatch({type:"slideshow_nux_tour_finished"})},toggleContentOptimizer:function(a,c){b("PagesCoverDispatcher").dispatch({type:"slideshow_toggle_content_switcher",data:c}),b("PagesLogger").log(a,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_content_optimizer"})},loadPrefilledItems:function(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_prefilled_photo_loaded",data:{prefilledItems:a}})},loadEditableItems:function(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_editable_item_loaded",data:{editableItems:a}})}};e.exports=j}),null);
__d("PagesCoverSlideshowButtonGroup.react",["cx","fbt","PagesCoverSlideshowActionCreator","React","SimpleXUIDialog","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.items.length===0?b("SimpleXUIDialog").show(h._("To save your slideshow, first add photos. To delete your cover photo, return to your Page and select Remove in the cover area."),h._("Slideshow Not Saved")):(d.props.onSave(),b("PagesCoverSlideshowActionCreator").onSlideshowSaving(d.props.pageID))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(!this.props.isEditMode)return null;var a=!this.props.hasPendingChanges||!this.props.shouldAllowUploadingVideo;return i.jsxs("span",{className:"_34p_",children:[i.jsx(b("XUIButton.react"),{disabled:a,label:h._("Cancel"),onClick:b("PagesCoverSlideshowActionCreator").confirmCancel,use:"default"}),i.jsx(b("XUIButton.react"),{disabled:a,label:h._("Save"),onClick:this.$1,use:"confirm"})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowItemLoadingScreen.react",["cx","CenteredContainer.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return!a.shown?null:h.jsx(b("CenteredContainer.react"),{className:"_4g6t",fullHeight:!0,horizontal:!0,vertical:!0,children:h.jsx(b("XUISpinner.react"),{background:"light",size:"large"})})}e.exports=a}),null);
__d("PagesCoverSlideshowPhotoCarouselItem.react",["cx","Link.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemLoadingScreen.react","ProfileHeaderCoverPhoto.react","React","XPhotoPermalinkController","XUICarouselItem.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.shouldFocusOnItem===!0&&b("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,this.props.index)};d.render=function(){var a=this,c=this.props,d=c.carouselData,e=c.isEditMode,f=c.pageID;c=c.shouldShowLoadingIndicator;var g=h.jsx(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:d.coverPhotoData,height:this.props.isInSettingsPage?195:d.renderedHeight,hideDefaultButtons:!0,isLoading:d.isLoading,onMove:b("PagesCoverSlideshowActionCreator").onItemRepositioned,previewCancelHandler:b("emptyFunction"),previewMode:e,previewSaveHandler:b("emptyFunction"),ref:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(b){return a.props.onCarouselPhotoItemRefLoaded(d.coverPhotoData.id,b)}),width:this.props.isInSettingsPage?514:d.renderedWidth});e||(g=h.jsx(b("Link.react"),{className:"_5q-4",href:b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",d.coverPhotoData.id).setString("vanity",f).setString("set_token","p."+d.coverPhotoData.id).getURI(),rel:"theater",children:g}));return h.jsxs(b("XUICarouselItem.react"),{className:(this.props.isInSettingsPage?"":"_626d")+(this.props.isInSettingsPage?" _7tj0":""),children:[g,h.jsx(b("PagesCoverSlideshowItemLoadingScreen.react"),{shown:!!c})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("CoverVideoUtil",["Promise","AsyncRequest","VideoData","XPagesCoverVideoDataController","isHTML5VideoImplementationUnavailable"],(function(a,b,c,d,e,f){"use strict";a={fetchCoverVideoData:function(a,c){c===void 0&&(c=!1);return new(b("Promise"))(function(d,e){var f=b("XPagesCoverVideoDataController").getURIBuilder().setFBID("video_id",a).setBool("supports_html5_video",!b("isHTML5VideoImplementationUnavailable")(!0)).setBool("include_thumbnails",c).getURI();new(b("AsyncRequest"))(f).setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(a){a=a.payload;var c=a.offset_type,f=a.offset_value,g=a.playable_duration_in_sec,h=a.video_data,i=a.thumbnails,j=a.preferredThumbnailData,k=a.hasVisibleStatus;a=a.isStatusOK;c===0||c===1?d({offsetType:c,offsetValue:f,playableDurationInSec:g,videoData:new(b("VideoData"))(h),thumbnails:i,preferredThumbnailData:j,hasVisibleStatus:k,isStatusOK:a}):e(new Error("Cover video data are unavailable."))}).setErrorHandler(e).send()})}};e.exports=a}),null);
__d("PagesCoverVideoConstant",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c={PREVIEW_TIP_FOR_CREATION:a.jsxs("div",{children:[a.jsx("div",{children:g._("Your video was added but won't be public until you publish it.")}),a.jsx("div",{children:g._("You can drag the video currently displaying to reposition it.")})]}),PREVIEW_TIP_FOR_EDITING:a.jsxs("div",{children:[a.jsx("div",{children:g._("Your video won't be public until you publish it.")}),a.jsx("div",{children:g._("You can drag the video currently displaying to reposition it.")})]}),TRY_UPLOAD_AGAIN_TITLE:g._("Try Uploading Again"),TRY_UPLOAD_AGAIN_BODY:g._("The video couldn't be uploaded. Please try again."),CANCEL_DIALOG_TITLE:g._("Cancel Video Upload?"),CANCEL_DIALOG_BODY:g._("If you cancel, this video will be deleted and your Page will revert to the previous cover photo or video."),CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL:g._("Cancel Upload"),CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL:g._("Not Now"),EDUCATIONAL_ERROR_DIALOG_TITLE:g._("Video Not Uploaded")};e.exports=c}),null);
__d("PagesCoverVideoActionCreator",["ix","cx","fbt","ActorURI","AsyncRequest","CanvasVideoThumbnail","CoverVideoUtil","ErrorDialog","Image.react","PagesCoverDispatcher","PagesCoverVideoConstant","React","ReactDOM","SimpleXUIDialog","XPagesCoverReloadController","XPagesCoverVideoPublishController","XPagesCoverVideoRollbackAndDeleteController","XUIDialogButton.react","fbglyph","gkx","promiseDone","videoPageContextualColorFetchUpdatedThemeColor"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=Object.freeze({INVALID_DURATION:"invalid_duration",INVALID_DIMENSION:"invalid_dimension"}),l={validateCoverVideoMetadata:function(a,c,d,e,f){if(!c){d();l.showGeneralErrorDialog();return!1}c=b("ReactDOM").findDOMNode(c);if(!c||!(c instanceof HTMLVideoElement)){d();l.showGeneralErrorDialog();return!1}var g=c.videoWidth,h=c.videoHeight;if(g===0&&h===0)return!0;g=l.validateCoverVideoWithErrorDialog(a,c.duration,c.videoWidth,c.videoHeight,e,f);g||d();return g},onVideoRepositioned:function(a,c){b("PagesCoverDispatcher").dispatch({type:"video_repositioned",data:{offsetType:a,offsetValue:c}})},showCoverVideoUploadUI:function(a){b("PagesCoverDispatcher").dispatch({type:"video_start_upload",data:{thumbnails:a}})},uploadStarted:function(){b("PagesCoverDispatcher").dispatch({type:"video_uploading",data:{progress:0}})},uploadProgressed:function(a,c){b("PagesCoverDispatcher").dispatch({type:"video_uploading",data:{progress:Math.round(a)}})},encodeStarted:function(){b("PagesCoverDispatcher").dispatch({type:"video_encoding",data:{progress:0}})},encodeProgressed:function(a){b("PagesCoverDispatcher").dispatch({type:"video_encoding",data:{progress:Math.round(a)}})},encodeFinished:function(a,c,d,e){b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(c).then(function(f){var g=f.playableDurationInSec;f=f.videoData;if(!g||!f){l.rollbackAndDeleteVideoWithGeneralErrorDialog(a,c);return}var h=f.getOriginalWidth();f=f.getOriginalHeight();g=l.validateCoverVideoWithErrorDialog(a,g,h,f,d,e);if(!g){l.rollbackAndDeleteVideo(a,c);return}b("PagesCoverDispatcher").dispatch({type:"video_previewing",data:{videoID:c,pageID:a,isFromRepositon:!1,isNewUpload:!0}})}))},validateCoverVideoWithErrorDialog:function(a,b,c,d,e,f){var g=new Set(),h=1;(c<e-h||d<f-h)&&g.add(k.INVALID_DIMENSION);c=20;d=120;(b<c-h||b>d+h)&&g.add(k.INVALID_DURATION);if(g.size>0){l.showValidationErrorDialog(a,g,c,d,e,f);return!1}return!0},chooseThumbnail:function(a,c,d,e,f,g){b("PagesCoverDispatcher").dispatch({type:"video_choosing_thumbnail",data:{futureVideoID:a,pageID:c,offsetType:d,offsetValue:e,containerHeight:f,containerWidth:g}})},editCoverVideo:function(a,c){b("PagesCoverDispatcher").dispatch({type:"video_previewing",data:{videoID:c,pageID:a,isFromReposition:!0}})},showGeneralErrorDialog:function(){b("SimpleXUIDialog").show(j.jsx("div",{children:i._("The video couldn't be uploaded. Please try again.")}),b("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE)},showValidationErrorDialog:function(a,c,d,e,f,h){a=i._("Please edit the video and try again.");var l=c.has(k.INVALID_DURATION)?j.jsx(b("Image.react"),{src:g("117758")}):j.jsx(b("Image.react"),{src:g("119371")});d=i._("Cover videos should to be {minimal duration of cover video required} - {duration of current video} seconds.",[i._param("minimal duration of cover video required",d),i._param("duration of current video",e)]);e=c.has(k.INVALID_DIMENSION)?j.jsx(b("Image.react"),{src:g("117758")}):j.jsx(b("Image.react"),{src:g("119371")});f=i._("Cover videos should be at least {minimal requirement of width} x {minimal requirement of height} pixels. The recommended size is 820 x 462 pixels.",[i._param("minimal requirement of width",f),i._param("minimal requirement of height",h)]);h=j.jsxs("div",{children:[j.jsx("div",{children:a}),j.jsxs("div",{className:"_31ms",children:[j.jsx("div",{className:"_wsz",children:l}),j.jsx("div",{className:"_wsz"+(c.has(k.INVALID_DURATION)?" _wt3":""),children:d})]}),j.jsxs("div",{className:"_31ms",children:[j.jsx("div",{className:"_wsz",children:e}),j.jsx("div",{className:"_wsz"+(c.has(k.INVALID_DIMENSION)?" _wt3":""),children:f})]})]});b("SimpleXUIDialog").show(h,b("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE,b("PagesCoverDispatcher").dispatch({type:"video_invalid_upload"}))},confirmPublishingVideo:function(a,c,d,e,f,g){b("PagesCoverDispatcher").dispatch({type:"video_publishing"});var h=b("ActorURI").create(b("XPagesCoverVideoPublishController").getURIBuilder().getURI(),a);g={page_id:a,video_id:c,preferred_thumbnail_id:g,offset_type:d,offset_value:e,should_cover_video_loop:f};new(b("AsyncRequest"))().setURI(h).setMethod("POST").setData(g).setHandler(function(){b("gkx")("678704")&&b("videoPageContextualColorFetchUpdatedThemeColor")(a)}).setErrorHandler(function(){l.rollbackAndDeleteVideoWithGeneralErrorDialog(a,c)}).send()},cancelNewUploadingWithConfirmationDialog:function(a,c){var d;b("SimpleXUIDialog").showEx((d=b("PagesCoverVideoConstant")).CANCEL_DIALOG_BODY,d.CANCEL_DIALOG_TITLE,j.jsxs("div",{children:[j.jsx(b("XUIDialogButton.react"),{action:"cancel",label:d.CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL,onClick:function(){return l.rollbackAndDeleteVideo(a,c)}}),j.jsx(b("XUIDialogButton.react"),{action:"cancel",label:d.CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL,use:"confirm"})]}))},rollbackAndDeleteVideoWithGeneralErrorDialog:function(a,c){b("SimpleXUIDialog").show(b("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY,b("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE,function(){l.rollbackAndDeleteVideo(a,c)})},reloadCoverWithErrorDialog:function(a,c){var d=c.error_description;c=c.error_summary;c=c?c:b("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE;d=d?d:b("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY;b("ErrorDialog").show(c,d,function(){l.reloadCover(a)})},reloadCover:function(a){b("PagesCoverDispatcher").dispatch({type:"video_cancelling"});a=b("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",a).getURI();new(b("AsyncRequest"))(a).send()},rollbackAndDeleteVideo:function(a,c){b("PagesCoverDispatcher").dispatch({type:"video_cancelling"});a=b("XPagesCoverVideoRollbackAndDeleteController").getURIBuilder().setFBID("page_id",a).setFBID("video_id",c).getURI();new(b("AsyncRequest"))(a).send()}};e.exports=l}),null);
__d("PagesCoverVideoLoadingSpinner.react",["cx","CenteredContainer.react","React","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){return h.jsx(b("CenteredContainer.react"),{className:b("joinClasses")("_6h2m",a.className),horizontal:!0,vertical:!0,children:h.jsx(b("XUISpinner.react"),{background:"light",size:"large"})})};e.exports=a}),null);
__d("PagesCoverVideoPreviewActionBar.react",["cx","React","XUIButton.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){return h.jsxs("div",{className:"_2roy",children:[a.leftElement?h.jsx("div",{className:"_1iaz",children:a.leftElement}):null,h.jsx("div",{className:"_1ia-",children:h.jsxs("span",{className:"_1ia_",children:[h.jsx(b("XUIButton.react"),{className:"_3-90",label:a.cancelButtonLabel,onClick:a.onCancelClick}),h.jsx(b("XUIButton.react"),{label:a.confirmButtonLabel,onClick:a.onConfirmClick,use:"confirm"})]})})]})};e.exports=a}),null);
__d("PagesCoverVideoRepositionIndicator.react",["ix","cx","fbt","Image.react","React","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){return!a.shown?null:j.jsx("div",{className:"_1ge3",children:j.jsxs("div",{className:"_1geb",children:[j.jsx(b("Image.react"),{className:"_4l6j",src:g("114322")}),j.jsx("span",{className:"_4l6j",children:i._("Drag to Reposition")})]})})};e.exports=a}),null);
__d("PagesCoverVideoPreview.react",["ix","cx","fbt","invariant","CoverVideoUtil","Image.react","PagesCoverDimension","PagesCoverSlideshowActionCreator","PagesCoverVideoActionCreator","PagesCoverVideoConstant","PagesCoverVideoLoadingSpinner.react","PagesCoverVideoPreviewActionBar.react","PagesCoverVideoRepositionIndicator.react","React","fbglyph","promiseDone"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=(a=b("PagesCoverDimension")).COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE,l=a.COVER_HEIGHT_IN_SETTINGS,m=a.COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE,n=a.COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE,o=a.COVER_WIDTH_IN_SETTINGS,p=a.COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE,q=b("React"),r=-1;c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={minOffsetValue:0,videoData:null,videoNewSize:0};d.$10=function(a){d.props.offsetType===1?d.$4=a.screenX:d.props.offsetType===0?d.$4=a.screenY:j(0,3395),d.$2=!0};d.$11=function(a){if(!d.$2)return;d.$4!==r||j(0,3396);var c=0;d.props.offsetType===1?c=a.screenX-d.$4:d.props.offsetType===0?c=a.screenY-d.$4:j(0,3395);a=d.$1+c;if(a>0||a<d.state.minOffsetValue)return;d.$5=!0;d.props.index===null||d.props.index===void 0?b("PagesCoverVideoActionCreator").onVideoRepositioned(d.props.offsetType,a):b("PagesCoverSlideshowActionCreator").onVideoRepositioned(d.props.index,d.props.offsetType,a)};d.$12=function(a){d.$2=!1,d.$4=r,d.$1=d.props.offsetValue};d.$13=function(a){d.$2=!1,d.$4=-1,d.$1=d.props.offsetValue};d.$14=function(){var a=d.props,c=a.videoID,e=a.pageID;a=a.isFromReposition;a&&e?b("PagesCoverVideoActionCreator").reloadCover(e):c&&e&&b("PagesCoverVideoActionCreator").cancelNewUploadingWithConfirmationDialog(e,c)};d.$15=function(){var a=d.props,c=a.videoID;a=a.pageID;if(c&&a){var e=d.props,f=e.containerWidth;e=e.containerHeight;f&&e||j(0,3397);b("PagesCoverVideoActionCreator").chooseThumbnail(c,a,d.props.offsetType,d.props.offsetValue,e,f)}};d.$17=function(a){if(!a)return;d.$6=a};d.$1=0;d.$2=!1;d.$4=r;d.$5=!1;return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$3=!0;b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(this.props.videoID).then(function(c){if(!a.$3)return;var d=c.offsetValue;c=c.videoData;c||j(0,3398);var e=a.$7(c),f=e.minOffsetValue,g=e.offsetType;e=e.videoNewSize;a.setState({minOffsetValue:f,videoData:c,videoNewSize:e});f=a.props.index;f===null||f===void 0?b("PagesCoverVideoActionCreator").onVideoRepositioned(g,d||0):b("PagesCoverSlideshowActionCreator").onVideoRepositioned(f,g,d||0)}))};d.componentDidUpdate=function(){var a=this.props,b=a.isForSlideshow;a=a.shouldFocusOnItem;if(!b)return;a?this.$8():this.$9()};d.componentWillUnmount=function(){this.$3=!1};d.$8=function(){var a=this.$6;if(!a)return;a.play()};d.$9=function(){var a=this.$6;if(!a)return;a.pause()};d.getOffsetData=function(){return{offsetType:this.props.offsetType,offsetValue:this.props.offsetValue}};d.$7=function(a){var b=this.props,c=b.containerWidth;b=b.containerHeight;this.props.isMigratedShowPage&&(b=k,c=n);this.props.isInSettingsPage&&(c=this.props.isMigratedShowPage?p:o,b=this.props.isMigratedShowPage?m:l);c&&b||j(0,3397);var d=c/b,e=a.getAspectRatio(),f=null,g=null;e>d?(f=1,g=b,e=c-Math.floor(a.getOriginalWidth()*(b/a.getOriginalHeight()))):(f=0,g=c,e=b-Math.floor(a.getOriginalHeight()*(c/a.getOriginalWidth())));return{minOffsetValue:e,offsetType:f,videoNewSize:g}};d.$16=function(){if(this.props.status!=="previewing"||this.props.isForSlideshow)return null;var a=i._("Cancel"),c=i._("Next"),d=this.props.isParentLocationPage?i._("Your video will appear as the cover on this Page and on any other locations associated with this Page."):null;d=this.props.isFromReposition?q.jsxs("div",{children:[q.jsx("span",{className:"_2roz",children:q.jsx(b("Image.react"),{src:g("115129")})}),q.jsxs("span",{className:"_2ro-"+(this.props.isInSettingsPage?" _7tjc":""),children:[b("PagesCoverVideoConstant").PREVIEW_TIP_FOR_EDITING,d]})]}):q.jsxs("div",{children:[q.jsx("span",{className:"_2roz",children:q.jsx(b("Image.react"),{src:g("115129")})}),q.jsxs("span",{className:"_2ro-"+(this.props.isInSettingsPage?" _7tjc":""),children:[b("PagesCoverVideoConstant").PREVIEW_TIP_FOR_CREATION,d]})]});return q.jsx(b("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:a,confirmButtonLabel:c,leftElement:d,onCancelClick:this.$14,onConfirmClick:this.$15})};d.render=function(){var a;if(!this.state.videoData)return q.jsx(b("PagesCoverVideoLoadingSpinner.react"),{className:(this.props.isInSettingsPage?"":"_yd2")+(this.props.isInSettingsPage?" _7tj9":"")});var c=this.props,d=c.containerWidth;c=c.containerHeight;this.props.isMigratedShowPage&&(c=k,d=n);this.props.isInSettingsPage&&(d=this.props.isMigratedShowPage?p:o,c=this.props.isMigratedShowPage?m:l);d&&c||j(0,3397);this.props.status==="previewing"||this.props.status==="publishing"||j(0,3399);var e=this.state.videoData.getRawData();a=(a=e.hd_src)!=null?a:e.sd_src;if(!a)return null;e=this.props.offsetType===1?this.state.videoNewSize:null;var f=this.props.offsetType===0?this.state.videoNewSize:null,g=this.props.offsetType===0?this.props.offsetValue:0,h=this.props.offsetType===1?this.props.offsetValue:0;return q.jsxs("div",{style:{cursor:"move",height:c,overflow:"hidden",position:"relative",width:d},children:[q.jsx("video",{autoPlay:!0,height:e,loop:!0,onMouseDown:this.$10,onMouseLeave:this.$13,onMouseMove:this.$11,onMouseUp:this.$12,ref:this.$17,src:a,style:{position:"absolute",top:g,left:h},width:f}),q.jsx(b("PagesCoverVideoRepositionIndicator.react"),{shown:!this.$5}),this.$16()]})};return c}(q.PureComponent);e.exports=c}),null);
__d("PagesCoverVideoProgressOverlay.react",["cx","fbt","invariant","Image.react","ProgressBar.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){if(a.status!=="uploading"&&a.status!=="encoding")return null;a.progress===0||a.progress||i(0,4230);var c=null,d=null;if(a.thumbnails&&a.thumbnails.length>0){var e=a.thumbnails[0];d=j.jsx("div",{className:(a.isInSettingsPage?"":"_3ywa")+(a.isInSettingsPage?" _7tj1":""),children:j.jsx(b("Image.react"),{className:"_7wgy",src:e.getURL()})})}a.status==="uploading"?c=h._("VIDEO UPLOADING {percentage (0-100) of uploading progress}\u0025",[h._param("percentage (0-100) of uploading progress",a.progress)]):a.status==="encoding"&&(c=h._("VIDEO ENCODING {percentage (0-100) of encoding progress}\u0025",[h._param("percentage (0-100) of encoding progress",a.progress)]));return j.jsxs("div",{className:"_2grf",children:[d,j.jsxs("div",{className:"_2grg",children:[j.jsx(b("ProgressBar.react"),{isRounded:!0,size:"small",value:a.progress}),j.jsx("div",{className:"_2grh",children:c})]})]})};e.exports=a}),null);
__d("CoverSlideshowUtil",[],(function(a,b,c,d,e,f){"use strict";var g={getMediaId:function(a){if((a==null?void 0:a.itemType)==="video"){var b;return a==null?void 0:(b=a.carouselMediaData.videoData)==null?void 0:b.videoID}else if((a==null?void 0:a.itemType)==="photo"){return a==null?void 0:(b=a.carouselMediaData.photoData)==null?void 0:b.coverPhotoData.id}else return null},randomFixedInteger:function(a){a=Math.floor(Math.pow(10,a-1)+Math.random()*(Math.pow(10,a)-Math.pow(10,a-1)-1));return String(a)},getThumbnailIndexByID:function(a,b){if(!a)return 0;for(var c=0;c<a.length;c++)if(a[c].id===String(b))return c;return 0},getMediaIds:function(a){var b=new Set();a.map(function(a){a=g.getMediaId(a);a!==null&&a!==void 0&&b.add(a)});return b}};e.exports=g}),null);
__d("PagesCoverSlideshowThumbnailPickerCarousel.react",["ix","cx","fbt","CoverSlideshowUtil","CssBackgroundImage.react","Image.react","React","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=328,l=125;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$2=0;c.$1=0;b.offsetType===0?c.$1=Math.floor(c.props.offsetValue*k/b.containerWidth):c.$2=Math.floor(b.offsetValue*l/b.containerHeight);return c}var d=c.prototype;d.$3=function(){var a=this;return this.props.thumbnails.length===0?null:this.props.thumbnails.map(function(c,d){d=a.props.currentThumbnailIndex===d;var e=a.$2+"px "+a.$1+"px";return j.jsx(b("XUICarouselItem.react"),{children:j.jsx("div",{className:"_6ml8"+(d?" _6ml9":""),children:j.jsx(b("CssBackgroundImage.react"),{backgroundPosition:e,className:"_6mla",imageURI:c.url})})},c.id)})};d.render=function(){var a=this,c=this.props,d=c.onLeftArrowClicked,e=c.onRightArrowClicked,f=c.thumbnails;c=c.initThumbnailID;d=j.jsx(b("XUICarouselArrow.react"),{onClick:d,children:j.jsx(b("Image.react"),{alt:i._("Prev"),src:g("499011")})});e=j.jsx(b("XUICarouselArrow.react"),{onClick:e,children:j.jsx(b("Image.react"),{alt:i._("Next"),src:g("495717")})});f=b("CoverSlideshowUtil").getThumbnailIndexByID(f,c);c=this.$3();return c!=null?j.jsx(b("XUICarousel.react"),{animator:this.props.animator,arrows:[d,e],initialAutoplay:!1,initialIndex:f,onItemClick:this.props.onItemClick,ref:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(b){return a.props.onCarouselRefLoad(b)}),resizeViewport:"disabled",viewportHeight:141,viewportWidth:820,wrapAround:!1,children:c}):null};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCoverThumbnailPickerActionBar.react",["cx","fbt","FBToggleSwitch.react","PagesCoverVideoPreviewActionBar.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){if(a.isForSlideshow)return null;var c=h._("Back"),d=h._("Publish"),e=i.jsxs("div",{className:"_d-g",children:[i.jsx("span",{className:"_d-h",children:i.jsx(b("FBToggleSwitch.react"),{checked:a.shouldCoverVideoLoop,onToggle:a._onToggle})}),i.jsx("span",{className:"_d-i",children:h._("Automatically replay video in a loop")})]});return i.jsx(b("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:c,confirmButtonLabel:d,leftElement:e,onCancelClick:a._onCancelClick,onConfirmClick:a._onPublishClick})};e.exports=a}),null);
__d("PagesCoverThumbnailPickerCarousel.react",["ix","fbt","Image.react","React","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","asset","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){if(a.thumbnails.length===0)return null;var c=null,d=null,e=0,f=0;a.offsetType===0?(d=a.containerWidth,e=a.offsetValue):(c=a.containerHeight,f=a.offsetValue);var j=a.thumbnails.map(function(g){return i.jsx(b("XUICarouselItem.react"),{children:i.jsx("div",{style:{height:a.containerHeight,position:"relative",textAlign:"center",width:a.containerWidth},children:i.jsx(b("Image.react"),{height:c,src:g.url,style:{left:f,position:"absolute",top:e},width:d})})},g.id)}),k=i.jsx(b("XUICarouselArrow.react"),{className:"_3-9a",onClick:a._onLeftArrowClicked,children:i.jsx(b("Image.react"),{alt:h._("Prev"),src:g("480582")})}),l=i.jsx(b("XUICarouselArrow.react"),{className:"_3-90",onClick:a._onRightArrowClicked,children:i.jsx(b("Image.react"),{alt:h._("Next"),src:g("480590")})});return i.jsx(b("XUICarousel.react"),{animator:a.animator,arrows:[k,l],initialAutoplay:!1,initialIndex:0,onItemClick:b("emptyFunction"),ref:a.onCarouselRefLoad,resizeViewport:"fixed",style:{height:a.containerHeight,width:a.containerWidth,position:"absolute"},wrapAround:!0,children:j})};e.exports=a}),null);
__d("PagesCoverThumbnailPickerThumbnailIndicator.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){return a.thumbnails.length===0||a.isForSlideshow?null:i.jsx("div",{className:"_4hmf",children:h._({"*":"{the index of the current thumbnail} \/ {the total number of thumbnails} Thumbnails","_1":"{the index of the current thumbnail} \/ {the total number of thumbnails} Thumbnail"},[h._param("the index of the current thumbnail",a.currentThumbnailIndex+1),h._param("the total number of thumbnails",a.thumbnails.length),h._plural(a.thumbnails.length)])})};e.exports=a}),null);
__d("PagesCoverVideoThumbnailPicker.react",["cx","fbt","CoverSlideshowUtil","CoverVideoUtil","PagesCoverDimension","PagesCoverSlideshowThumbnailPickerCarousel.react","PagesCoverThumbnailPickerActionBar.react","PagesCoverThumbnailPickerCarousel.react","PagesCoverThumbnailPickerThumbnailIndicator.react","PagesCoverVideoActionCreator","PagesCoverVideoLoadingSpinner.react","React","SimpleXUIDialog","XUICarouselAnimator","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=(a=b("PagesCoverDimension")).COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE,j=a.COVER_HEIGHT_IN_SETTINGS,k=a.COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE,l=a.COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE,m=a.COVER_WIDTH_IN_SETTINGS,n=a.COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE,o=b("React"),p=2;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thumbnails:[],currentThumbnailIndex:0,firstItemIndex:0,animator:new(b("XUICarouselAnimator"))({type:"horizontal"}),shouldCoverVideoLoop:d.props.shouldCoverVideoLoop,isStatusOK:!1},d.$2=function(){var a=d.state.thumbnails.length;if(a===0)return;d.setState(function(b,c){b=(b.firstItemIndex-1+a)%a;return c.isForSlideshow?{firstItemIndex:b}:{currentThumbnailIndex:b,firstItemIndex:b}});d.$1&&d.$1.prev()},d.$3=function(){var a=d.state.thumbnails.length;if(a===0)return;d.setState(function(b,c){b=(b.firstItemIndex+1+a)%a;return c.isForSlideshow?{firstItemIndex:b}:{currentThumbnailIndex:b,firstItemIndex:b}});d.$1&&d.$1.next()},d.$4=function(a){if(!d.$1)return;a-d.state.firstItemIndex>=p&&(d.$1.setIndex(a),d.setState({firstItemIndex:a}));d.setState({currentThumbnailIndex:a})},d.$5=function(){var a=d.props,c=a.videoID;a=a.pageID;b("PagesCoverVideoActionCreator").editCoverVideo(a,c)},d.$6=function(){if(d.state.isStatusOK){d.$7();return}b("SimpleXUIDialog").showConfirm(h._("This video is not published yet. If you choose it as your cover video, it will be published for people to watch."),h._("Publish Cover Video?"),d.$8,{confirmBtnTxt:h._("Publish")})},d.$8=function(a){a&&d.$7()},d.$9=function(){var a=d.state.shouldCoverVideoLoop;d.setState({shouldCoverVideoLoop:!a})},d.$10=function(a){if(!a)return;d.$1=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(this.props.videoID,!0).then(function(c){var d=c.thumbnails;c=c.isStatusOK;var e=b("CoverSlideshowUtil").getThumbnailIndexByID(d,a.props.initThumbnailID);a.setState({currentThumbnailIndex:e,firstItemIndex:e,thumbnails:d,isStatusOK:c})}))};d.$7=function(){var a=this.props,c=a.videoID,d=a.pageID,e=a.offsetType;a=a.offsetValue;var f=this.state,g=f.thumbnails,h=f.currentThumbnailIndex;f=f.shouldCoverVideoLoop;g=g[h].id;b("PagesCoverVideoActionCreator").confirmPublishingVideo(d,c,e,a,f,g)};d.getCurrentThumbnailData=function(){return this.state.thumbnails[this.state.currentThumbnailIndex]};d.$11=function(){var a=this.props.isMigratedShowPage?k:j,c=this.props.isMigratedShowPage?n:m,d=this.props.isMigratedShowPage?i:this.props.containerHeight,e=this.props.isMigratedShowPage?l:this.props.containerWidth;return this.props.isForSlideshow?o.jsx(b("PagesCoverSlideshowThumbnailPickerCarousel.react"),{animator:this.state.animator,containerHeight:this.props.isInSettingsPage?j:this.props.containerHeight,containerWidth:this.props.isInSettingsPage?m:this.props.containerWidth,currentThumbnailIndex:this.state.currentThumbnailIndex,initThumbnailID:this.props.initThumbnailID,offsetType:this.props.offsetType,offsetValue:this.props.offsetValue,onCarouselRefLoad:this.$10,onItemClick:this.$4,onLeftArrowClicked:this.$2,onRightArrowClicked:this.$3,thumbnails:this.state.thumbnails}):o.jsx(b("PagesCoverThumbnailPickerCarousel.react"),{_onLeftArrowClicked:this.$2,_onRightArrowClicked:this.$3,animator:this.state.animator,containerHeight:this.props.isInSettingsPage?a:d,containerWidth:this.props.isInSettingsPage?c:e,offsetType:this.props.offsetType,offsetValue:this.props.offsetValue,onCarouselRefLoad:this.$10,thumbnails:this.state.thumbnails})};d.render=function(){return this.state.thumbnails.length===0?o.jsx(b("PagesCoverVideoLoadingSpinner.react"),{className:(!this.props.isInSettingsPage&&!this.props.isMigratedShowPage?"_yd2":"")+(!this.props.isInSettingsPage&&this.props.isMigratedShowPage?" _7ww2":"")+(this.props.isInSettingsPage&&!this.props.isMigratedShowPage?" _7tj9":"")+(this.props.isInSettingsPage&&this.props.isMigratedShowPage?" _7ww3":"")}):o.jsxs("div",{className:(!this.props.isInSettingsPage&&!this.props.isMigratedShowPage?"_5_lp":"")+(!this.props.isInSettingsPage&&this.props.isMigratedShowPage?" _7ww4":"")+(this.props.isInSettingsPage&&!this.props.isMigratedShowPage?" _7tja":"")+(this.props.isInSettingsPage&&this.props.isMigratedShowPage?" _7ww5":""),children:[o.jsx(b("PagesCoverThumbnailPickerThumbnailIndicator.react"),{currentThumbnailIndex:this.state.currentThumbnailIndex,isForSlideshow:this.props.isForSlideshow,thumbnails:this.state.thumbnails}),this.$11(),o.jsx(b("PagesCoverThumbnailPickerActionBar.react"),{_onCancelClick:this.$5,_onPublishClick:this.$6,_onToggle:this.$9,isForSlideshow:this.props.isForSlideshow,shouldCoverVideoLoop:this.state.shouldCoverVideoLoop})]})};return c}(o.PureComponent);e.exports=c}),null);
__d("PagesCoverVideoCreator.react",["cx","PagesCoverDimension","PagesCoverVideoPreview.react","PagesCoverVideoProgressOverlay.react","PagesCoverVideoThumbnailPicker.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=b("PagesCoverDimension")).COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE,i=a.COVER_HEIGHT_IN_SETTINGS,j=a.COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE,k=a.COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE,l=a.COVER_WIDTH_IN_SETTINGS,m=a.COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE,n=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;switch(this.props.status){case"uploading":case"encoding":a=n.jsx(b("PagesCoverVideoProgressOverlay.react"),babelHelpers["extends"]({},this.props));break;case"previewing":a=n.jsx(b("PagesCoverVideoPreview.react"),babelHelpers["extends"]({},this.props));break;case"choosing_thumbnail":a=n.jsx(b("PagesCoverVideoThumbnailPicker.react"),babelHelpers["extends"]({},this.props,{isForSlideshow:this.props.isForSlideshow}));break;default:return null}var c=this.props,d=c.containerWidth;c=c.containerHeight;this.props.isMigratedShowPage===!0&&(c=h,d=k);this.props.isInSettingsPage&&(d=this.props.isMigratedShowPage===!0?m:l,c=this.props.isMigratedShowPage===!0?j:i);return d!==null&&c!==null?n.jsx("div",{style:{height:c,position:"relative",width:d},children:a}):n.jsx("div",{className:(this.props.isInSettingsPage?"":"_5-qd")+(this.props.isInSettingsPage?" _7tj2":""),children:a})};return c}(n.PureComponent);e.exports=c}),null);
__d("PagesCoverVideoPlayer.react",["Bootloader","CoverVideoUtil","OnVisible.react","PagesCoverDimension","PagesEventObserver","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ReactDOM","SubscriptionsHandler","URI","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentWithLoopingPlayback.react","VideoPlayer.react","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h=(a=b("PagesCoverDimension")).COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE,i=a.COVER_HEIGHT_IN_SETTINGS,j=a.COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE,k=a.COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE,l=a.COVER_WIDTH_IN_SETTINGS,m=a.COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE,n=b("React"),o=-100;c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={videoData:null};d.$7=function(){var a=d.props,b=a.isForSlideshow;a=a.shouldFocusOnItem;if(!b){d.$4();return}a&&d.$4()};d.$5=function(){var a=d.$3;if(!a)return;a.vpc.isState("playing")&&a.vpc.pause("page_visibility_initiated")};d.$8=function(){var a=d.props,c=a.videoLinkData,e=a.playerOrigin;if(!c)return;if(d.$3&&d.$3.vpc&&!d.$3.vpc.isState("playing"))return;var f=c.channelCaller;b("Bootloader").loadModules(["TahoeController"],function(a){a.openFromVideoLink(new(g||(g=b("URI")))(c.href),{channelID:c.channelID,caller:f,origin:e})},"PagesCoverVideoPlayer.react")};d.$9=function(a){var c=b("ReactDOM").findDOMNode(a);if(!(c&&c instanceof Element))return;d.$3=a;c=a==null?void 0:a.vpc;c&&c.setAllowCrossPageTransition(!0)};d.$2=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;this.props.videoID&&b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(this.props.videoID).then(function(b){a.$1&&a.setState({videoData:b.videoData})}))};d.shouldComponentUpdate=function(a,b){b=b.videoData;return!!b&&b.getVideoID()===a.videoID};d.UNSAFE_componentWillReceiveProps=function(a){var c=this;b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(this.props.videoID).then(function(a){c.$1&&c.setState({videoData:a.videoData})}));a=this.props;var d=a.isForSlideshow;a=a.shouldFocusOnItem;var e=this.$3;d&&e&&(a?this.$4():this.$5())};d.componentWillUnmount=function(){this.$1=!1,this.$2.release()};d.$6=function(){b("PagesEventObserver").notify("cover_video_impression",this.props.pageID,{video_id:this.props.videoID}),b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGES_COVER_VIDEO,"page_header",["Pages","Pages: Engagement","pages web + m-site","pages surface"],{video_id:this.props.videoID})};d.$4=function(){var a=this.$3;if(!a)return;!a.vpc.isState("playing")&&!a.vpc.isState("finished")&&a.vpc.play("page_visibility_initiated")};d.render=function(){var a=this.props,c=a.offsetType;a=a.offsetValue;var d=this.state.videoData;if(c===null||a===null||!d)return null;var e=this.props,f=e.isForSlideshow,g=e.shouldHideSoundControl;e=e.shouldCoverVideoLoop;g=g?null:n.jsx(b("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:!1,hidePlaybackScrubber:!0,hideRemainingTime:!0,showFullscreenButton:!1,showSettingsButton:!1});e=e?n.jsx(b("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:!0}):null;f=f?null:n.jsx(b("VideoComponentPlayButton.react"),{alsoVisibleWhen:"finished"});this.$6();c=c===0?"vertical":"horizontal";var p=this.props.isMigratedShowPage?j:i,q=this.props.isMigratedShowPage?m:l,r=this.props.isMigratedShowPage?k:this.props.containerWidth,s=this.props.isMigratedShowPage?h:this.props.containerHeight;return n.jsx(b("OnVisible.react"),{buffer:o,onHidden:this.$5,onVisible:this.$7,children:n.jsxs(b("VideoPlayer.react"),{allowCrossPageTransition:!0,autoplay:!0,forceHD:!0,height:this.props.isInSettingsPage?p:s,offsetType:c,offsetValue:a,onVideoClick:this.$8,playerOrigin:this.props.playerOrigin,ref:this.$9,startMuted:!0,subOrigin:"pages_cover",videoData:d,width:this.props.isInSettingsPage?q:r,children:[g,e,f]})})};return c}(n.Component);e.exports=c}),null);
__d("PagesCoverVideo.react",["PagesCoverVideoCreator.react","PagesCoverVideoPlayer.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.isEditMode,d=a.videoData,e=a.shouldFocusOnItem,f=a.isMigratedShowPage;a=a.isInSettingsPage===!0;return c?g.jsx(b("PagesCoverVideoCreator.react"),babelHelpers["extends"]({},d,{isInSettingsPage:a,isMigratedShowPage:f,shouldFocusOnItem:e})):g.jsx(b("PagesCoverVideoPlayer.react"),babelHelpers["extends"]({},d,{isInSettingsPage:a,isMigratedShowPage:f,shouldFocusOnItem:e}))}e.exports=a}),null);
__d("PagesCoverSlideshowVideoCarouselItem.react",["cx","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemLoadingScreen.react","PagesCoverVideo.react","React","XUICarouselItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.shouldFocusOnItem===!0&&b("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,this.props.index)};d.render=function(){var a=this.props,c=a.pageID,d=a.isEditMode,e=a.shouldShowLoadingIndicator,f=a.index;a=a.shouldFocusOnItem;var g=this.props.videoData;g=babelHelpers["extends"]({},g,{index:f,isFromParentPage:!1,isParentLocationPage:!1,isViewerAdmin:!0,pageID:c,shouldShowChooseFromCoverVideoMenu:!1});f=h.jsx(b("PagesCoverVideo.react"),{isEditMode:d,shouldFocusOnItem:a,videoData:g});return h.jsxs(b("XUICarouselItem.react"),{className:"_626d",children:[f,h.jsx(b("PagesCoverSlideshowItemLoadingScreen.react"),{shown:!!e})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesPageCoverClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_page_cover_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesCoverSlideshowCarousel.react",["ix","cx","invariant","AsyncRequest","Image.react","PagesCoverDimension","PagesCoverSlideshowActionCreator","PagesCoverSlideshowButtonGroup.react","PagesCoverSlideshowPhotoCarouselItem.react","PagesCoverSlideshowVideoCarouselItem.react","PagesPageCoverClickFalcoEvent","ProfileHeaderCoverPhoto.react","React","XPagesCoverSlideshowSaveAsyncController","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","XUICarouselLinks.react","asset","cxMargin","emptyFunction","gkx","videoPageContextualColorFetchUpdatedThemeColor"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=(a=b("PagesCoverDimension")).COVER_HEIGHT,k=a.COVER_HEIGHT_IN_SETTINGS,l=a.COVER_WIDTH,m=a.COVER_WIDTH_IN_SETTINGS,n=b("React"),o={focus:{height:0,width:0},id:"0",original:{height:0,width:0},uri:null};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showCarouselDotsIndicator:!1};d.$4=function(a){d.$1=a,d.$1&&(d.$2=d.$1.subscribe(["animation_start"],function(a,c){a==="animation_start"&&b("PagesCoverSlideshowActionCreator").changeCurrentIndex(d.props.pageID,c)}),d.setState({showCarouselDotsIndicator:d.props.items.length>1}))};d.$6=function(a,b){if(!b)return;d.$3.set(a,b)};d.$7=function(){var a=[],c=[],e=[],f=[],g=[],h=[],j=[],k=[],l=[],m=Math.min(5,d.props.items.length);for(var n=0;n<m;n++){var o=d.props.items[n];c.push(o.itemType);if(o.itemType==="video"){var p=o.carouselMediaData.videoData;if(!p)continue;var q=p.videoID,r=p.shouldCoverVideoLoop,s=p.offsetType;p=p.offsetValue;k.push(q);h.push(s);j.push(p);r?g.push(1):g.push(0);q=o.thumbnailData.thumbnailID;q||i(0,5037);l.push(q)}else if(o.itemType==="photo"){p=(s=o.carouselMediaData.photoData)==null?void 0:s.coverPhotoData.id;if(!p)continue;r=d.$3.get(p);!r&&i(0,5038);q=r.getDimensions().getRect().center;a.push(p);e.push(q.x);f.push(q.y)}else i(0,5039)}o=b("XPagesCoverSlideshowSaveAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(o).setData({page_id:d.props.pageID,media_type_vector:c,photo_id_vector:a,focus_x_vector:e,focus_y_vector:f,should_loop_vector:g,video_id_vector:k,offset_value_vector:j,offset_type_vector:h,thumbnail_id_vector:l,is_content_optimizer_on:d.props.isContentOptimizerOn}).setHandler(function(){b("gkx")("678704")&&b("videoPageContextualColorFetchUpdatedThemeColor")(d.props.pageID)}).send()};d.$3=new Map();return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.$1&&a.currentIndex!==this.props.currentIndex&&this.$1.setIndex(a.currentIndex),this.setState({showCarouselDotsIndicator:a.items.length>1})};d.componentWillUnmount=function(){this.$1&&this.$2&&this.$1.unsubscribe(this.$2)};d.$5=function(){return!this.$1||!this.state.showCarouselDotsIndicator?null:n.jsx(b("XUICarouselLinks.react"),{carousel:this.$1,className:"_2yih"})};d.$8=function(a,c){var d=a.carouselMediaData.photoData;return!d?null:n.jsx(b("PagesCoverSlideshowPhotoCarouselItem.react"),{carouselData:d,index:c,isEditMode:this.props.isEditMode,isInSettingsPage:this.props.isInSettingsPage,onCarouselPhotoItemRefLoaded:this.$6,pageID:this.props.pageID,shouldFocusOnItem:a.shouldFocusOnItem,shouldShowLoadingIndicator:a.shouldShowLoadingIndicator},d.coverPhotoData.id)};d.$9=function(a,c){var d=a.carouselMediaData.videoData;return!d?null:n.jsx(b("PagesCoverSlideshowVideoCarouselItem.react"),{index:c,isEditMode:this.props.isEditMode,pageID:this.props.pageID,shouldFocusOnItem:a.shouldFocusOnItem||this.props.currentIndex===c,shouldShowLoadingIndicator:a.shouldShowLoadingIndicator,videoData:d},d.videoID)};d.render=function(){var a=this,c=n.jsx(b("XUICarouselArrow.react"),{className:"_3-9a",children:n.jsx(b("Image.react"),{src:g("480582")})}),d=n.jsx(b("XUICarouselArrow.react"),{className:"_3-90",children:n.jsx(b("Image.react"),{src:g("480590")})}),e=this.props.items.slice(0,5).map(function(b,c){return b.itemType==="video"?a.$9(b,c):a.$8(b,c)}).filter(function(a){return!!a});e.length===0&&e.push(n.jsx(b("XUICarouselItem.react"),{className:"_626d",children:n.jsx(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:o,emptyCover:n.jsx("div",{className:"_5_yy _44oa"}),height:this.props.isInSettingsPage?k:j,hideDefaultButtons:!0,isLoading:!1,previewCancelHandler:b("emptyFunction"),previewMode:!1,previewSaveHandler:b("emptyFunction"),width:this.props.isInSettingsPage?m:l})},"empty_cover_photo_placeholder"));return n.jsxs("div",{children:[n.jsx(b("XUICarousel.react"),{arrows:this.state.showCarouselDotsIndicator?[c,d]:null,initialAutoplay:!1,initialIndex:this.props.currentIndex,onItemClick:b("PagesPageCoverClickFalcoEvent").log(function(){return{event_data:{cover_type:"cover_slideshow"},event_location:"page__header",page_id:a.props.pageID,referrer:null}}),ref:this.$4,resizeViewport:"fixed",viewportHeight:this.props.isInSettingsPage?k:j,viewportWidth:this.props.isInSettingsPage?m:l,wrapAround:!0,children:e}),this.$5(),n.jsx(b("PagesCoverSlideshowButtonGroup.react"),babelHelpers["extends"]({},this.props,{onSave:this.$7}))]})};return c}(n.PureComponent);e.exports=c}),null);
__d("PagesCoverSlideshowVideoThumbnailPicker.react",["cx","CoverSlideshowUtil","PagesCoverSlideshowThumbnailPickerCarousel.react","React","XUICarouselAnimator"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=2;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentThumbnailIndex:b("CoverSlideshowUtil").getThumbnailIndexByID(d.props.thumbnails,d.props.initThumbnailID),firstItemIndex:b("CoverSlideshowUtil").getThumbnailIndexByID(d.props.thumbnails,d.props.initThumbnailID),animator:new(b("XUICarouselAnimator"))({type:"horizontal"})},d.$2=function(){var a=d.props.thumbnails.length;if(a===0)return;d.setState(function(b,c){c=(b.firstItemIndex-1+a)%a;return{firstItemIndex:c}});d.$1&&d.$1.prev()},d.$3=function(){var a=d.props.thumbnails.length;if(a===0)return;d.setState(function(b,c){c=(b.firstItemIndex+1+a)%a;return{firstItemIndex:c}});d.$1&&d.$1.next()},d.$4=function(a){if(!d.$1)return;a-d.state.firstItemIndex>=i&&(d.$1.setIndex(a),d.setState({firstItemIndex:a}));d.setState({currentThumbnailIndex:a})},d.$5=function(a){if(!a)return;d.$1=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getCurrentThumbnailData=function(){return this.props.thumbnails[this.state.currentThumbnailIndex]};d.render=function(){return h.jsx("div",{className:"_6ml7",children:h.jsx(b("PagesCoverSlideshowThumbnailPickerCarousel.react"),{animator:this.state.animator,containerHeight:this.props.containerHeight,containerWidth:this.props.containerWidth,currentThumbnailIndex:this.state.currentThumbnailIndex,initThumbnailID:this.props.initThumbnailID,offsetType:this.props.offsetType,offsetValue:this.props.offsetValue,onCarouselRefLoad:this.$5,onItemClick:this.$4,onLeftArrowClicked:this.$2,onRightArrowClicked:this.$3,thumbnails:this.props.thumbnails})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowVideoSettingDialog.react",["ix","cx","fbt","BUISwitch.react","FDSText.react","Image.react","LayerFadeOnHide","Layout.react","LayoutColumn.react","PagesCoverSlideshowVideoThumbnailPicker.react","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogTitle.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=26,l=b("Layout.react").FillColumn;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shouldCoverVideoLoop:c.props.videoData.shouldCoverVideoLoop},c.$2=function(a){if(!a)return;c.$1=a},c.$3=function(){c.setState(function(a){return{shouldCoverVideoLoop:!a.shouldCoverVideoLoop}})},c.$4=function(){c.props.isNewUpload?c.$5():c.props.onCancel()},c.$6=function(){c.props.isNewUpload?c.$5():c.props.onToggle()},c.$5=function(){if(!c.$1)return;var a=c.$1.getCurrentThumbnailData(),b=c.props.videoData;b=babelHelpers["extends"]({},b,{shouldCoverVideoLoop:c.state.shouldCoverVideoLoop});c.props.onConfirm(b,a.id,a.url)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$7=function(){var a=this.props.isNewUpload?j.jsxs("div",{className:"_6n9w",children:[j.jsx(b("Image.react"),{className:"_6n9x",src:g("506114")}),j.jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:i._("Your video was uploaded successfully.")})]}):null;return j.jsxs(b("XUIDialogBody.react"),{children:[a,j.jsx("div",{className:"_6h72 _5n6n",children:j.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:i._("Video Thumbnail")})}),j.jsx("div",{className:"_6h73",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:i._("Choose a thumbnail to represent this video in your cover area.")})}),j.jsx("div",{children:j.jsx(b("PagesCoverSlideshowVideoThumbnailPicker.react"),babelHelpers["extends"]({},this.props.videoData,{initThumbnailID:this.props.preferredThumbnailID,pageID:this.props.pageID,ref:this.$2,thumbnails:this.props.thumbnails}))})]})};d.$8=function(){return j.jsx(b("XUIDialogBody.react"),{children:j.jsxs(b("Layout.react"),{children:[j.jsxs(l,{children:[j.jsx("div",{className:"_6h72",children:j.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:i._("Video Looping")})}),j.jsx("div",{className:"_6h73",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:i._("When looping is turned on your video will repeatedly play. When looping is off your video will play through once and stop.")})})]}),j.jsx(b("LayoutColumn.react"),{className:"_6h74",children:j.jsx("span",{className:"_2pi8",children:j.jsx(b("BUISwitch.react"),{onToggle:this.$3,showLabel:!0,value:this.state.shouldCoverVideoLoop})})})]})})};d.render=function(){var a=this.props,c=a.dialogShown;a=a.thumbnails;var d=this.props.videoData.containerWidth;return!c||a.length===0?null:j.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.$6,shown:this.props.dialogShown,titleID:"pages-cover-video-setting-dialog",width:d+k,children:[j.jsx(b("XUIDialogTitle.react"),{children:j.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:i._("Video Settings")})}),this.$7(),this.$8(),j.jsxs(b("XUIDialogFooter.react"),{children:[j.jsx(b("XUIButton.react"),{label:this.props.shouldShowBackButton?i._("Back"):i._("Cancel"),onClick:this.$4}),j.jsx(b("XUIDialogConfirmButton.react"),{action:"confirm",onClick:this.$5,use:"confirm"})]})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCoverVideoHoverableVideoComponent.react",["cx","React","VideoComponentPlayButton.react","VideoDataContainer.react","VideoPlayer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onMouseEnter&&d.props.onMouseEnter(d.props.videoID)},d.$2=function(){d.props.onMouseLeave&&d.props.onMouseLeave(d.props.videoID)},d.$3=function(){d.props.onVideoClick&&d.props.onVideoClick(d.props.videoID)},d.$4=function(a){a.stopPropagation(),a.key==="Enter"&&d.$3()},d.$5=function(){return b("VideoDataContainer.react").renderSpinner(d.props.width,d.props.height)},d.$6=function(a){if(!a)return;d.props.onRefLoaded(d.props.videoID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx("span",{className:"_bt-"+(this.props.isSelected?" _bu0":""),onKeyPress:this.$4,onMouseEnter:this.$1,onMouseLeave:this.$2,role:"link",tabIndex:0,children:h.jsx(b("VideoDataContainer.react"),{renderLoading:this.$5,videoID:this.props.videoID,children:h.jsx(b("VideoPlayer.react"),{disableClickPlayPause:!0,height:this.props.height,onVideoClick:this.$3,playerOrigin:"page_timeline",ref:this.$6,subOrigin:"pages_cover_hover",videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.width,children:h.jsx(b("VideoComponentPlayButton.react"),{})})})},this.props.videoID)};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesCoverVideoSelectionComponent.react",["cx","PagesCoverVideoHoverableVideoComponent.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=176,j=Math.round(i*9/16);a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={selectedVideoID:null};c.$2=function(a){if(a===c.state.selectedVideoID)return;var b=c.state.selectedVideoID;if(b){b=c.$1.get(b);b&&b.pause("user_initiated")}c.setState({selectedVideoID:a});c.props&&c.props.onVideoSelected(a)};c.$3=function(a){a=c.$1.get(a);a&&a.play("hover")};c.$4=function(a){a=c.$1.get(a);a&&a.pause("hover")};c.$5=function(a,b){b&&b.vpc&&c.$1.set(a,b.vpc)};c.$1=new Map();return c}var d=c.prototype;d.render=function(){var a=this,c=this.props.videoIDs;if(!c||c.length===0)return null;c=c.map(function(c){return h.jsx(b("PagesCoverVideoHoverableVideoComponent.react"),{height:j,isSelected:c===a.state.selectedVideoID,onMouseEnter:a.$3,onMouseLeave:a.$4,onRefLoaded:a.$5,onVideoClick:a.$2,videoID:c,width:i},c)});return h.jsx("div",{className:"_4yfa",children:c})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesCoverVideoBrowserDialog.react",["cx","fbt","AsyncRequest","LayerFadeOnHide","LoadingDialog.react","PagesCoverVideoSelectionComponent.react","React","ScrollableArea.react","XPagesCoverVideoFetchController","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=3;c=176;d=8;f=Math.round(c*9/16);var j=(c+2*d)*a+3*d,k=9,l=f*3;g=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={videoIDs:[],selectedVideoID:null,cursor:"",hasMore:!0,hasEligibleVideos:!0,isLoading:!1},d.$2=function(){if(!d.state.hasMore||!d.state.hasEligibleVideos||d.state.isLoading)return;var a=b("XPagesCoverVideoFetchController").getURIBuilder().setFBID("page_id",d.props.pageID).setInt("count",k).setString("cursor",d.state.cursor).getURI();d.$1=new(b("AsyncRequest"))(a).setHandler(d.$3);d.$1.send();d.setState({isLoading:!0})},d.$3=function(a){var b=a.payload;if(!b)return;d.setState(function(a,c){return{videoIDs:a.videoIDs.concat(b.videoIDs),cursor:b.cursor,hasMore:b.hasMore,hasEligibleVideos:b.hasEligibleVideos,isLoading:!1}})},d.$4=function(a){d.setState({selectedVideoID:a})},d.$5=function(){var a=d.props.onConfirm;a&&a(b("nullthrows")(d.state.selectedVideoID))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentWillUnmount=function(){this.$1&&(this.$1.abort(),delete this.$1)};d.render=function(){if(!this.props.dialogShown)return null;if(this.state.videoIDs.length===0&&this.state.hasMore&&this.state.hasEligibleVideos)return i.jsx(b("LoadingDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.props.onToggle});if(!this.state.hasEligibleVideos)return i.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:j,children:[i.jsx(b("XUIDialogTitle.react"),{children:h._("Choose From My Videos")}),i.jsx(b("XUIDialogBody.react"),{children:i.jsx("div",{children:h._("None of the videos in your library qualify as a cover video. Videos must be between 20 - 90 seconds and at least 820 x 312 pixels. The recommended size is 820 x 462 pixels. Please upload a different video and try again.")})}),i.jsx(b("XUIDialogFooter.react"),{children:i.jsx(b("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"})})]});var a=this.state.hasMore?i.jsx("div",{className:"_4yfc",children:i.jsx(b("XUISpinner.react"),{size:"large"})}):null,c=this.state.videoIDs,d=this.props.existingMediaIDs;d&&(c=c.filter(function(a){return!d.has(a)}));var e=this.props.isForSlideshow?i.jsx(b("XUIButton.react"),{disabled:!this.state.selectedVideoID,label:h._("Next"),onClick:this.$5}):i.jsx(b("XUIDialogConfirmButton.react"),{action:"confirm",disabled:!this.state.selectedVideoID,onClick:this.$5,use:"confirm"});return i.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:j,children:[i.jsx(b("XUIDialogTitle.react"),{children:h._("Choose From My Videos")}),i.jsx(b("XUIDialogBody.react"),{children:i.jsxs(b("ScrollableArea.react"),{fade:!1,height:l,onEndReached:this.$2,width:j,children:[i.jsx(b("PagesCoverVideoSelectionComponent.react"),{onVideoSelected:this.$4,videoIDs:c}),a]})}),i.jsxs(b("XUIDialogFooter.react"),{children:[i.jsx(b("XUIDialogCancelButton.react"),{onClick:this.props.onToggle}),e]})]})};return c}(i.PureComponent);e.exports=g}),null);
__d("PagesVideoUploader.react",["cx","invariant","Arbiter","AsyncRequest","ChannelConstants","EventListener","FileInput.react","PagesCoverVideoTypedLogger","React","SubscriptionsHandler","VideoUploadConfig","VideoUploader","VideoUploadFile","VideoUploadProgressBar","generateVideoThumbnails","promiseDone","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=a.URL||a.webkitURL||{};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={selectedFileURL:null};d.reset=function(){d.$1.reset(),d.$3=0,d.$4.release(),d.$4=new(b("SubscriptionsHandler"))(),d.$5=!1,d.props.videoUploaderRef&&d.props.videoUploaderRef(null),clearInterval(d.$6),clearTimeout(d.$7)};d.$8=function(a){var c=a.target,e=b("VideoUploadFile").getExtensionFromFileInput(c);if(!b("VideoUploadConfig").videoExtensions[e]||e==="gif"||!(c instanceof HTMLInputElement)){d.props.onChange&&d.props.onChange(a,!1);return}e=c.files[0];e||h(0,1113);d.reset();var f=d.$1,g=d.$2;d.$4.addSubscriptions(f.subscribe("upload-started",d.$9),f.subscribe("upload-progressed",d.$10),f.subscribe("upload-finished",d.$11),f.subscribe("post-finished",d.$12),f.subscribe("upload-failed",d.$13),f.subscribe("post-failed",d.$14),b("EventListener").listen(g,"loadedmetadata",d.$15),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("video_encode"),d.$16));f=j.createObjectURL(e);d.setState({selectedFileURL:f});d.$1.upload(b("VideoUploadFile").fromFileInput(c));d.props.onChange&&d.props.onChange(a,!0)};d.$9=function(){d.props.onUploadStarted&&d.props.onUploadStarted()};d.$15=function(a){var c=a.target;if(!(c instanceof HTMLVideoElement))return;b("promiseDone")(b("generateVideoThumbnails")(b("nullthrows")(c),d.props.thumbnailWidth,d.props.thumbnailHeight,1,"cover"),function(a){var b=d.props.onVideoMetadataLoaded;b&&b(c,d.reset,a.thumbnails)})};d.$10=function(a,c){a=b("VideoUploadProgressBar").computeProgress(c.start_offset,c.sent_bytes,c.file_size,0,0);var e=d.props.onUploadProgressed;e&&e(Math.round(a),c)};d.$11=function(a,b){a=d.props.onUploadFinished;a&&a(b);a=d.$1;if(!a)return;if(d.props.autoEncode){b=d.props.getCustomPostData;if(b){b=b();a.post(b)}else a.post({})}else{b=d.props.onManualPost;b||h(0,3288);b(a)}};d.$12=function(a,b){d.props.onPostFinished&&d.props.onPostFinished(b),d.$17(b.video_id,b),d.$1.reset()};d.$13=function(a,b){d.props.onUploadFailed&&d.props.onUploadFailed(b),d.reset()};d.$14=function(a,b){d.props.onPostFailed&&d.props.onPostFailed(b),d.reset()};d.$16=function(a,b){a=d.$18(b);if(!a)return;var c=b.obj.videoID.toString();if(b.obj.stage==="update_video"||b.obj.stage==="finish")a.setIsFinished(!0).log(),d.props.onEncodeFinished&&d.props.onEncodeFinished(c),d.reset();else{a.setIsFinished(!1).log();d.$3=Math.max(d.$3,b.obj.progress);if(!d.$5){a=d.props.onEncodeStarted;a&&a(d.$3);d.$5=!0}else d.props.onEncodeProgressed&&d.props.onEncodeProgressed(d.$3);d.$17(c,b)}};d.$1=new(b("VideoUploader"))(c.videoUploaderInitParams);d.$3=0;d.$4=new(b("SubscriptionsHandler"))();d.$5=!1;return d}var d=c.prototype;d.$18=function(a){var c,d,e,f,g=new(b("PagesCoverVideoTypedLogger"))().setTimeUs(Date.now()*1e3);f=(f=this.props)!=null?(f=f.videoUploaderInitParams)!=null?f.actor_id:f:f;e=(e=a)!=null?(e=e.obj)!=null?e.progress:e:e;d=(d=a)!=null?(d=d.obj)!=null?d.stage:d:d;c=(c=a)!=null?(c=c.obj)!=null?c.type:c:c;a=(a=a)!=null?(a=a.obj)!=null?a.videoID:a:a;f&&g.setPageID(f);e&&g.setProgress(e);d&&g.setStage(f);c&&g.setType(c);if(a)g.setVideoID(a);else{g.setIsFinished(!1).log();return null}return g};d.$17=function(a,c){var d=this;clearInterval(this.$6);clearTimeout(this.$7);this.$7=setTimeout(function(){d.$6=setInterval(function(){new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:a}).setHandler(function(b){var e=d.$18(c);if(!e)return;b=b.getPayload();var f=b.is_ready,g=b.video_status_type,h=b.video_container_type;f!==void 0&&e.setIsFinished(f);g&&e.setVideoStatus(g);h&&e.setVideoContainerType(h);e.log();b.is_ready&&(d.props.onEncodeFinished&&d.props.onEncodeFinished(a),d.reset())}).send()},2e3)},2e3)};d.render=function(){var a=this,c=["video/*","video/mp4"],d=this.props.extraAccept;Array.isArray(d)?c.concat(d):d&&d!==""&&c.push(d);return i.jsxs("div",{children:[i.jsx(b("FileInput.react"),{accept:c,className:"_6hs0",name:"simple_video_uploader",onChange:this.$8,ref:function(b){a.props.fileInputRef&&a.props.fileInputRef(b)},children:i.jsx("a",{className:this.props.labelClassName,href:"#",children:this.props.label})}),i.jsx("video",{className:"hidden_elem",ref:function(b){a.$2=b,a.props.videoPlayerRef&&a.props.videoPlayerRef(b)},src:this.state.selectedFileURL})]})};return c}(i.PureComponent);c.defaultProps={autoEncode:!0,thumbnailHeight:312,thumbnailWidth:820};e.exports=c}),null);
__d("PagesCoverSlideshowItemEditMenu.react",["cx","fbt","ActorURI","AsyncRequest","ContextualDialogArrow","CoverSlideshowUtil","CoverVideoUtil","FileInput.react","FileInputUploader","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesCoverSlideshowVideoSettingDialog.react","PagesCoverVideoActionCreator","PagesCoverVideoBrowserDialog.react","PagesVideoUploader.react","ReactXUIMenu","PopoverMenu.react","React","XPagesCoverVideoUploaderController","XPhotoBrowserDialogController","ReactDOM","XPagesCoverPhotoUploadAsyncController","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("ReactXUIMenu").Item,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d,e,f,g,h;for(var i=arguments.length,j=new Array(i),k=0;k<i;k++)j[k]=arguments[k];return(g=h=a.call.apply(a,[this].concat(j))||this,h.state={isChooseFromExistingVideo:!1,videoData:(c=h.props.item)==null?void 0:c.carouselMediaData.videoData,videoID:(d=h.props.item)==null?void 0:(e=d.carouselMediaData.videoData)==null?void 0:e.videoID,preferredThumbnailID:(f=h.props.item)==null?void 0:f.thumbnailData.thumbnailID,showCoverVideoBrowserDialog:!1,showCoverVideoSettingDialog:!1,thumbnails:[],videoUploaderInitParams:null},h.$6=function(a){h.$1=a},h.$7=function(){var a=b("ActorURI").create(b("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",h.props.pageID).setString("ref","pages_cover_slideshow_ref").setInt("index",h.props.index).setString("previous_key",h.props.mediaID).getURI(),h.props.pageID),c=b("ReactDOM").findDOMNode(h.$1);new(b("FileInputUploader"))(c).setURI(a).setAllowCrossOrigin(!0).send();b("PagesCoverSlideshowActionCreator").onPhotoUploading(h.props.index)},h.$8=function(){b("PagesCoverSlideshowActionCreator").onPhotoRemoved(h.props.index)},h.$11=function(){h.setState({showCoverVideoBrowserDialog:!0})},h.$12=function(){h.setState({showCoverVideoBrowserDialog:!1,showCoverVideoSettingDialog:!1,isChooseFromExistingVideo:!1}),h.$5()},h.$13=function(a){h.setState({videoID:a}),b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(a,!0).then(function(b){if(a!==h.state.videoID)return;var c=h.props,d=c.containerHeight;c=c.containerWidth;var e=b.thumbnails,f=b.offsetType,g=b.offsetValue;b=b.preferredThumbnailData;b=b==null?void 0:b.id;d={videoID:a,containerHeight:d,containerWidth:c,isForSlideshow:!0,offsetType:f,offsetValue:g,shouldCoverVideoLoop:!0,status:"previewing"};h.setState({thumbnails:e,videoData:d,preferredThumbnailID:b,isChooseFromExistingVideo:!0,showCoverVideoBrowserDialog:!1,showCoverVideoSettingDialog:!0})}))},h.$15=function(){h.setState({showCoverVideoSettingDialog:!0})},h.$16=function(){h.setState({showCoverVideoSettingDialog:!1}),h.$5()},h.$17=function(){h.setState(function(a){return a.isChooseFromExistingVideo?{showCoverVideoSettingDialog:!1,showCoverVideoBrowserDialog:!0}:{showCoverVideoSettingDialog:!1}})},h.$18=function(a,c,d){b("PagesCoverSlideshowActionCreator").onVideoItemSettingConfirmed(a,c,d,h.props.mediaID,h.state.isChooseFromExistingVideo),h.setState({videoID:a.videoID,preferredThumbnailID:c,showCoverVideoSettingDialog:!1})},h.$19=function(a){h.$1=a},h.$20=function(a,b){if(b)return;h.$7()},h.$21=function(a,c,d){a=b("PagesCoverVideoActionCreator").validateCoverVideoMetadata(h.props.pageID,a,c,h.props.containerWidth,h.props.containerHeight);if(a){c=d[0].getURL();a=b("CoverSlideshowUtil").randomFixedInteger(15);h.setState({videoID:a});b("PagesCoverDispatcher").dispatch({type:"slideshow_video_start_upload",data:{url:c,videoUploadTempID:a,uploadingIndex:h.props.index}})}},h.$22=function(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_encoding",data:{progress:a,uploadingIndex:h.props.index,previousKey:h.state.videoID}})},h.$23=function(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_encoding",data:{progress:a,uploadingIndex:h.props.index,previousKey:h.state.videoID}})},h.$24=function(a,c){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_uploading",data:{progress:a,uploadingIndex:h.props.index,previousKey:h.state.videoID}})},h.$25=function(){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_uploading",data:{progress:0,uploadingIndex:h.props.index,previousKey:h.state.videoID}})},h.$26=function(a){var c=h.props,d=c.containerHeight;c=c.containerWidth;a={videoID:a,containerHeight:d,containerWidth:c,isForSlideshow:!0,offsetType:0,offsetValue:0,shouldCoverVideoLoop:!0,status:"encoding",progress:100};b("PagesCoverDispatcher").dispatch({type:"slideshow_video_encode_finished",data:{previousKey:h.state.videoID,videoData:a}})},g)||babelHelpers.assertThisInitialized(h)}var d=c.prototype;d.componentDidMount=function(){this.$4();this.$5();if(this.props.index!==0)return;var a=b("ReactDOM").findDOMNode(this);if(!(a instanceof Element)||!this.props.hasItem)return;b("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(a,2,h._("To choose your slideshow manually, add a new photo or choose an existing one. Slideshow images must be at least 820 pixels wide and 312 pixels tall."),"below")};d.componentDidUpdate=function(){this.$2&&this.props.isEditBarDragging&&this.$2.hidePopover()};d.componentWillUnmount=function(){this.$3&&(this.$3.abort(),delete this.$3)};d.$5=function(){var a=this,c=this.props.item;if((c==null?void 0:c.itemType)!=="video")return;var d=b("CoverSlideshowUtil").getMediaId(c);this.setState({videoID:d});if(!d)return;b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(d,!0).then(function(b){var e;if(d!==a.state.videoID)return;e=(e=a.props.item)==null?void 0:e.carouselMediaData.videoData;b=b.thumbnails;a.setState({videoData:e,thumbnails:b});(c==null?void 0:c.isNewUpload)&&a.setState({showCoverVideoSettingDialog:!0})}))};d.$9=function(){var a=this.props,c=a.pageID,d=a.mediaID;a=a.existingMediaIDs;c=b("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",23).setEnum("generator",1).setInt("id",c).setString("data",String(d)).setFBIDSet("existing_media_ids",Array.from(a)).getURI();return j.jsx(i,{href:c,rel:"dialog",children:h._("Choose From Photos")})};d.$4=function(){var a=this,c=b("ActorURI").create(b("XPagesCoverVideoUploaderController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);this.$3=new(b("AsyncRequest"))(c).setHandler(function(b){a.setState({videoUploaderInitParams:b.payload.video_uploader_params})});this.$3.send()};d.$10=function(){return!this.props.isCoverSlideshowVideoEnabled?null:j.jsx(i,{onclick:this.$11,children:h._("Choose From Videos")})};d.$14=function(){var a,b=this.props.isCoverSlideshowVideoEnabled;a=(a=this.props.item)==null?void 0:a.itemType;return!b||a!=="video"||this.state.thumbnails.length===0?null:j.jsx(i,{onclick:this.$15,children:h._("Video Settings")})};d.$27=function(){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_uploading_failed",data:{}})};d.$28=function(){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_encoding_failed",data:{}})};d.$29=function(){var a=this.state.videoUploaderInitParams;if(!a)return null;var c=h._("Upload Photo\/Video");return j.jsx(i,{renderas:"label",children:j.jsx(b("PagesVideoUploader.react"),{"data-testid":void 0,extraAccept:"image/*",fileInputRef:this.$19,label:c,labelClassName:"_2ojv",onChange:this.$20,onEncodeFinished:this.$26,onEncodeProgressed:this.$22,onEncodeStarted:this.$23,onPostFailed:this.$28,onUploadFailed:this.$27,onUploadProgressed:this.$24,onUploadStarted:this.$25,onVideoMetadataLoaded:this.$21,videoUploaderInitParams:a})})};d.$30=function(){return!this.props.isCoverSlideshowVideoEnabled?j.jsx(i,{renderas:"label",children:j.jsx(b("FileInput.react"),{accept:"image/*",display:"inline-block",name:"pages_cover_slideshow_photo_uploader",onChange:this.$7,ref:this.$6,children:j.jsx("a",{className:"_2ojv",href:"#",children:h._("Upload Photo")})})}):this.$29()};d.$31=function(){return!this.props.hasItem?null:j.jsx(i,{onClick:this.$8,children:h._("Remove")})};d.$32=function(){return j.jsxs(b("ReactXUIMenu"),{children:[this.$9(),this.$10(),this.$14(),this.$30(),this.$31()]})};d.$33=function(){var a,c=this.state,d=c.videoData,e=c.preferredThumbnailID;c=c.isChooseFromExistingVideo;return!d?null:j.jsx(b("PagesCoverSlideshowVideoSettingDialog.react"),{dialogShown:this.state.showCoverVideoSettingDialog&&this.props.isCoverSlideshowVideoEnabled,isNewUpload:(a=this.props.item)==null?void 0:a.isNewUpload,onCancel:this.$17,onConfirm:this.$18,onToggle:this.$16,pageID:this.props.pageID,preferredThumbnailID:e,shouldShowBackButton:c,shouldShowNewUploadIndicator:(a=this.props.item)==null?void 0:a.isNewUpload,thumbnails:this.state.thumbnails,videoData:d})};d.render=function(){var a=this;return j.jsxs(b("PopoverMenu.react"),{disabled:!this.props.shouldAllowUploadingVideo,layerBehaviors:[b("ContextualDialogArrow")],menu:this.$32(),position:"below",ref:function(b){return a.$2=b},children:[this.props.icon,j.jsx(b("PagesCoverVideoBrowserDialog.react"),{dialogShown:this.state.showCoverVideoBrowserDialog&&this.props.isCoverSlideshowVideoEnabled,existingMediaIDs:this.props.existingMediaIDs,isForSlideshow:!0,onConfirm:this.$13,onToggle:this.$12,pageID:this.props.pageID}),this.$33()]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("div",{className:"_2aou",children:h.jsx("div",{className:"_2ap1",style:{height:a.thumbnailHeight,width:a.thumbnailWidth}})},"placeholder")}e.exports=a}),null);
__d("PagesCoverSlideshowPlaceholderWithPicker.react",["ix","cx","CenteredContainer.react","Image.react","Link.react","PagesCoverSlideshowItemEditMenu.react","React","XUISpinner.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.shouldShowLoadingScreenOnPickerPlaceholder)return null;var a=this.props.shouldAllowUploadingVideo?g("520746"):g("483131");a=i.jsx(b("CenteredContainer.react"),{className:"_30i-"+(this.props.shouldAllowUploadingVideo?"":" _6hs1"),style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:!0,children:i.jsx(b("Image.react"),{src:a})});return i.jsx(b("PagesCoverSlideshowItemEditMenu.react"),babelHelpers["extends"]({},this.props,{existingMediaIDs:this.props.existingMediaIDs,hasItem:!1,icon:a,index:this.props.index,isCoverSlideshowVideoEnabled:this.props.isCoverSlideshowVideoEnabled,isEditBarDragging:this.props.isEditBarDragging,pageID:this.props.pageID,shouldAllowUploadingVideo:this.props.shouldAllowUploadingVideo}))};d.$2=function(){return!this.props.shouldShowLoadingScreenOnPickerPlaceholder?null:i.jsx(b("CenteredContainer.react"),{className:"_30i-",style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:!0,children:i.jsx(b("XUISpinner.react"),{background:"light",size:"large"})})};d.render=function(){return i.jsx("div",{className:"_2aou",children:i.jsxs(b("Link.react"),{children:[this.$1(),this.$2()]})},"picker")};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowThumbnailItem.react",["cx","BackgroundImage.react","Link.react","PagesCoverDimension","PagesCoverSlideshowActionCreator","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesCoverDimension").THUMBNAIL_HEIGHT_IN_SETTINGS,i=b("PagesCoverDimension").THUMBNAIL_WIDTH_IN_SETTINGS,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesCoverSlideshowActionCreator").changeCurrentIndex(d.props.pageID,d.props.index)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return j.jsx("div",{className:"_2aou",children:j.jsx(b("Link.react"),{onClick:this.$1,children:j.jsx(b("BackgroundImage.react"),{alt:"pages_cover_photo_thumbnail",backgroundSize:"cover",className:this.props.isCurrent?"_4bou":"",height:this.props.isInSettingsPage?h:this.props.thumbnailHeight,src:this.props.thumbnailURI,width:this.props.isInSettingsPage?i:this.props.thumbnailWidth})})},this.props.thumbnailURI)};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowEditBar.react",["ix","cx","fbt","invariant","CoverSlideshowUtil","FBDraggableBar.react","FBDraggableItem.react","FBToggleSwitch.react","Focus","Image.react","PagesCoverDimension","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemEditMenu.react","PagesCoverSlideshowPlaceholder.react","PagesCoverSlideshowPlaceholderWithPicker.react","PagesCoverSlideshowThumbnailItem.react","React","Tooltip.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=(a=b("PagesCoverDimension")).COVER_HEIGHT_IN_SETTINGS,l=a.COVER_WIDTH_IN_SETTINGS,m=a.THUMBNAIL_HEIGHT_IN_SETTINGS,n=a.THUMBNAIL_WIDTH_IN_SETTINGS,o=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isEditBarDragged:!1},d.$3=function(a){a||a===0||j(0,3804),b("PagesCoverSlideshowActionCreator").changeCurrentIndex(d.props.pageID,a),d.setState({isEditBarDragged:!0})},d.$4=function(a){b("PagesCoverSlideshowActionCreator").toggleContentOptimizer(d.props.pageID,a)},d.$5=function(a,c){b("PagesCoverSlideshowActionCreator").reorderSlideshowItems(a,c,d.props.pageID),d.setState({isEditBarDragged:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){if(!a)return;b("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(a,1,i._("You can rearrange the order of your slideshow by dragging the photos to the position where you want them."),"below");b("Focus").set(a)};d.$2=function(a){if(!a)return;b("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(a,4,i._("To help get you started, we've chosen photos based on what performs well. If you let Facebook choose your slideshow, the photos may update based on your Page activity."),"left")};d.$6=function(){var a=this.props.shouldAllowUploadingVideo?g("477824"):g("495298");return o.jsx("div",{className:(this.props.shouldAllowUploadingVideo?"_6h3_":"")+(this.props.shouldAllowUploadingVideo?"":" _6h2n"),children:o.jsx(b("Image.react"),{src:a})})};d.$7=function(a,c,d){var e=b("CoverSlideshowUtil").getMediaId(a);if(!e)return null;var f=a.thumbnailData,g=this.$6();return o.jsxs(b("FBDraggableItem.react"),{index:c,onGrab:this.$3,children:[o.jsx(b("PagesCoverSlideshowThumbnailItem.react"),babelHelpers["extends"]({index:c,isCurrent:c===this.props.currentIndex,isInSettingsPage:this.props.isInSettingsPage,pageID:this.props.pageID},f)),o.jsx("div",{className:"_37bb",children:o.jsx(b("PagesCoverSlideshowItemEditMenu.react"),babelHelpers["extends"]({},f,{containerHeight:this.props.isInSettingsPage?k:this.props.containerHeight,containerWidth:this.props.isInSettingsPage?l:this.props.containerWidth,existingMediaIDs:d,hasItem:!0,icon:g,index:c,isCoverSlideshowVideoEnabled:this.props.isCoverSlideshowVideoEnabled,isEditBarDragging:this.state.isEditBarDragged,item:a,mediaID:e,pageID:this.props.pageID,shouldAllowUploadingVideo:this.props.shouldAllowUploadingVideo}))})]},e)};d.render=function(){var a=this;if(!this.props.isEditMode)return null;var c=b("CoverSlideshowUtil").getMediaIds(this.props.items),d=this.props.items.slice(0,5).map(function(d,b){return a.$7(d,b,c)}).filter(function(a){return!!a}),e=[],f=5-d.length;f>0&&e.push(o.jsx(b("PagesCoverSlideshowPlaceholderWithPicker.react"),{containerHeight:this.props.isInSettingsPage?k:this.props.containerHeight,containerWidth:this.props.isInSettingsPage?l:this.props.containerWidth,existingMediaIDs:c,index:d.length,isCoverSlideshowVideoEnabled:this.props.isCoverSlideshowVideoEnabled,isEditBarDragging:this.state.isEditBarDragged,pageID:this.props.pageID,shouldAllowUploadingVideo:this.props.shouldAllowUploadingVideo,shouldShowLoadingScreenOnPickerPlaceholder:this.props.shouldShowLoadingScreenOnPickerPlaceholder,thumbnailHeight:this.props.isInSettingsPage?m:this.props.thumbnailHeight,thumbnailWidth:this.props.isInSettingsPage?n:this.props.thumbnailWidth},"pages_cover_slideshow_picker"));var h=d.length+e.length;while(e.length<f)e.push(o.jsx(b("PagesCoverSlideshowPlaceholder.react"),{thumbnailHeight:this.props.isInSettingsPage?m:this.props.thumbnailHeight,thumbnailWidth:this.props.isInSettingsPage?n:this.props.thumbnailWidth},"pages_cover_slideshow_placeholder"+h)),h++;h=null;this.props.shouldShowEditSlideshowTooltip&&(h=o.jsx(b("Tooltip.react"),{className:"_69v-",tooltip:i._("Your cover is from the parent page. You can also create your own."),children:o.jsx("div",{className:"_69w3",children:o.jsx(b("Image.react"),{source:g("360715")})})}));return o.jsxs("div",{ref:this.$1,children:[o.jsxs("div",{className:"_3rgb",children:[i._("Choose photos you'd like to feature in your cover slideshow"),h,o.jsxs("span",{className:"_3rgc",ref:this.$2,children:[o.jsx("span",{className:"_3-8s",children:i._("Let Facebook Choose Photos")}),o.jsx(b("FBToggleSwitch.react"),{animate:!0,checked:this.props.isContentOptimizerOn,onToggle:this.$4,tooltip:i._("Facebook can select photos for you based on what performs well. These photos may update based on your Page activity. To create your own slideshow, add or edit photos.")})]})]}),o.jsxs("div",{className:"_3rgd",children:[o.jsx(b("FBDraggableBar.react"),{onReorder:this.$5,children:d}),e]})]})};return c}(o.PureComponent);e.exports=c}),null);
__d("PagesCoverSlideshowNUXTour.react",["AdsBlueTipTour.react","BasicFBNux","LayerFadeOnShow","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){b("BasicFBNux").onDismiss(5385)};d.$2=function(a){if(!a)return;b("BasicFBNux").onView(5385)};d.render=function(){if(this.props.steps.length===0||!this.props.shown)return null;var a=this.props.steps.map(function(a){return{content:a.description,context:a.context,position:a.position}});return g.jsx(b("AdsBlueTipTour.react"),{behaviors:{LayerFadeOnShow:b("LayerFadeOnShow")},highlightContext:!1,onComplete:this.$1,onXOut:this.$1,ref:this.$2,steps:a})};return c}(g.PureComponent);a.propTypes={shown:b("prop-types").bool.isRequired,steps:b("prop-types").array.isRequired};e.exports=a}),null);
__d("PagesCoverSlideshow.react",["cx","PagesCoverSlideshowActionCreator","PagesCoverSlideshowCarousel.react","PagesCoverSlideshowEditBar.react","PagesCoverSlideshowItemLoadingScreen.react","PagesCoverSlideshowNUXTour.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.hasPendingChanges?b("PagesCoverSlideshowActionCreator").confirmCancel(d.props.shouldAllowUploadingVideo):b("PagesCoverSlideshowActionCreator").onEditingCancelled()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.isEditMode||b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW)};d.render=function(){return!this.props.isCoverSlideshowEnabled?null:h.jsxs("div",{children:[h.jsxs("div",{className:"_626c",children:[h.jsx(b("PagesCoverSlideshowEditBar.react"),babelHelpers["extends"]({},this.props)),h.jsx(b("PagesCoverSlideshowCarousel.react"),babelHelpers["extends"]({},this.props)),h.jsx(b("PagesCoverSlideshowNUXTour.react"),{shown:this.props.shouldShowNUXTour&&this.props.isEditMode,steps:this.props.nuxTourSteps}),h.jsx(b("PagesCoverSlideshowItemLoadingScreen.react"),{shown:this.props.showLoadingScreen})]}),h.jsx("div",{className:this.props.isEditMode?"_i5t":"",onClick:this.$1,role:"link",tabIndex:0})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesLiveCoverVideo.react",["React","VideoComponentContextMenu.react","VideoComponentCover.react","VideoComponentDebugOverlay.react","VideoComponentEmbeddedControls.react","VideoComponentErrorOverlay.react","VideoComponentLiveEndScreen.react","VideoComponentLiveInterruptedScreen.react","VideoComponentLiveVideoIndicator.react","VideoComponentPlayButton.react","VideoComponentStreamingReactionTray.react","VideoComponentVolumeStorage.react","VideoComponentWithFallbackMode.react","VideoComponentWithLiveBroadcast.react","VideoDataContainer.react","VideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("VideoDataContainer.react"),{videoID:this.props.videoID,children:g.jsxs(b("VideoPlayer.react"),{autoplay:!0,height:this.props.renderedHeight,playerOrigin:"intern",subOrigin:"not_specified_please_fix",startMuted:!0,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,children:[g.jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!0}),g.jsx(b("VideoComponentWithLiveBroadcast.react"),{}),g.jsx(b("VideoComponentPlayButton.react"),{}),g.jsx(b("VideoComponentCover.react"),{}),g.jsx(b("VideoComponentLiveVideoIndicator.react"),{}),g.jsx(b("VideoComponentDebugOverlay.react"),{}),g.jsx(b("VideoComponentContextMenu.react"),{}),g.jsx(b("VideoComponentLiveInterruptedScreen.react"),{}),g.jsx(b("VideoComponentLiveEndScreen.react"),{}),g.jsx(b("VideoComponentStreamingReactionTray.react"),{}),g.jsx(b("VideoComponentVolumeStorage.react"),{}),g.jsx(b("VideoComponentWithFallbackMode.react"),{}),g.jsx(b("VideoComponentErrorOverlay.react"),{})]})})};return c}(g.PureComponent);e.exports=a}),null);
__d("ShowmarkErrorDialog.react",["ix","fbt","Image.react","Layout.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("Layout.react").Column,k=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.hide=function(){c.setState({shown:!1})};c.state={shown:!1};return c}var d=c.prototype;d.$1=function(){return this.props.validationFailure==="transparent_and_white"?h._("A showmark must be an all-white graphic on a transparent background."):null};d.$2=function(){return this.props.validationFailure==="transparent_and_white"?h._("Your showmark Can't be Added in This Format"):null};d.render=function(){return i.jsxs(b("XUIDialog.react"),{shown:this.state.shown,hideOnEscape:!1,layerHideOnBlur:!1,width:k,children:[i.jsx(b("XUIDialogTitle.react"),{children:i.jsxs(b("Layout.react"),{children:[i.jsx(j,{children:i.jsx(b("Image.react"),{className:"_3-90",src:g("26339")})}),i.jsx(j,{children:this.$2()})]})}),i.jsxs(b("XUIDialogBody.react"),{children:[this.$1(),i.jsx("div",{display:"block",className:"_3-8x",children:h._("Make sure your showmark meets these requirements and try again.")})]}),i.jsx(b("XUIDialogFooter.react"),{children:i.jsx(b("XUIDialogButton.react"),{label:h._("OK"),onClick:this.hide})})]})};d.show=function(){this.setState({shown:!0})};return c}(i.Component);e.exports=a}),null);
__d("ShowmarkTemplate",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RALEWAY:"RALEWAY",ASAPCONDENSED:"ASAPCONDENSED",MONTSERRAT:"MONTSERRAT",NOTOSERIF:"NOTOSERIF",ROBOTOSLAB:"ROBOTOSLAB",FREDOKAONE:"FREDOKAONE"})}),null);
__d("ShowmarkTemplateFontConfig",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ASAPCONDENSED:"Asap Condensed Medium",FREDOKAONE:"Fredoka One Regular",MONTSERRAT:"Montserrat Regular",NOTOSERIF:"Noto Serif Bold",RALEWAY:"Raleway ExtraBold",ROBOTOSLAB:"Roboto Slab Bold"});e.exports=a}),null);
__d("VideoShowsLogoFileInput.react",["FileInput.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx("span",{"data-testid":void 0,children:g.jsx(b("FileInput.react"),{accept:"image/png",multiple:!1,onChange:this.props.onFileChange,containerClassName:this.props.className,children:this.props.children})})};return c}(g.Component);e.exports=a}),null);
__d("XShowsLogoUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/showpages/logo/upload/",{page_id:{type:"FBID"},crop_window:{type:"IntVector"},file_data_url:{type:"String"}})}),null);
__d("VideoShowsLogoUploadDialog.react",["ix","cssVar","cx","fbt","ActorURI","AdsXUIProgressBar.react","BasicVector","DOM","FileInputUploader","Grid.react","Image.react","Layout.react","LeftRight.react","Link.react","PhotoZoomCropDimensions","PhotoZoomCropImagePreview.react","React","ReactDOM","ShowCreationFlowTypedLogger","ShowmarkErrorDialog.react","ShowmarkTemplate","ShowmarkTemplateFontConfig","ShowsConfig","SimpleNUXMessage","SimpleNUXMessageTypes","VideoShowsLogoFileInput.react","XShowsLogoUploadController","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react","XUITextInput.react","canvasToBlob","cxMargin","fbglyph","promiseDone"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=b("Grid.react").GridItem,m=b("Layout.react").Column,n=b("Layout.react").FillColumn,o=900,p=270,q=84,r=144,s=45,t=24,u=3,v=720,w=225,x=215,y=110;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={file:null,fileInput:null,fileDataURL:null,uploadToServerState:null,uploadState:null,url:d.props.existingLogoUrl,cropDims:null,cropWindow:null,useCreationTool:!1,templateSelected:null,templateText:d.props.pageName.substr(0,t),creationToolNuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").SHOWMARK_CREATION_TOOL_NUX)},d.$2=function(a){d.setState({uploadState:"loading"})},d.$3=function(a){var c=a.currentTarget.result,e=new Image();e.src=c;e.onload=function(){var a=document.createElement("canvas");a.width=e.width;a.height=e.height;a=a.getContext("2d");if(a==void 0)return;a.drawImage(e,0,0);a=a.getImageData(0,0,e.width,e.height);a=a.data;var f=0,g=0,h=b("ShowsConfig").countThreshold,i=e.width,j=0,l=e.height,m=0;for(var n=0;n<e.height;n++)for(var o=0;o<e.width;o++){var r=e.width*n+o;r=4*r;if(a[r+3]!=0){f++;o<i&&(i=o);o>j&&(j=o);n<l&&(l=n);n>m&&(m=n);var s=a[r],t=a[r+1];r=a[r+2];s=.2126*s+.7152*t+.0722*r;s>=250&&g++}}if(f===e.width*e.height||f*h>=g*100){f===e.width*e.height?d.$4("showmark_invalid",new Map([["reason","Not transparent"]])):d.$4("showmark_invalid",new Map([["reason","Not white"],["non transparent pixels",f],["whitePixels",g]]));t=k.jsx(b("ShowmarkErrorDialog.react"),{validationFailure:"transparent_and_white"});t=b("ReactDOM").render(t,b("DOM").create("div"));t.show();d.setState({uploadState:null,url:null});return}r=null;s=null;(i!==0||j!==e.width-1||l!==0||m!==e.height-1)&&(s=[i,l,j,m],r=new(b("PhotoZoomCropDimensions"))(new(b("BasicVector"))(e.width,e.height)),r.setCenter((i+j)/e.width/2,(l+m)/e.height/2),r=d.$5(r,s,p,q),d.$4("showmark_upload_cropped",{cropWindow:JSON.stringify(s)}));d.setState({uploadState:"success",url:c,cropDims:r,cropWindow:s})}},d.$6=function(a){d.setState({uploadState:"failed"})},d.$19=function(){d.$4("showmark_creation_toggle",new Map([["is_creation",!d.state.useCreationTool]]));var a=!d.state.useCreationTool;a&&d.$20();d.setState({useCreationTool:a,templateSelected:a?"RALEWAY":null})},d.$24=function(a){a=a.currentTarget.value;a.length<=t&&d.setState({templateText:a},d.$23)},d.$23=function(){var a=d.state,c=a.templateSelected;a=a.templateText;if(!c||a.length<u||a.length>t)return;var e=b("DOM").create("canvas");e.width=v;e.height=w;var f=e.getContext("2d");f.fillStyle="#FFFFFF";f.textAlign="left";f.textBaseline="bottom";var g=x;f=d.$25(f,g,c);while(f.measureText(a).width>v&&g>y)g--,f=d.$25(f,g,c);if(f.measureText(a).width<=v)f.fillText(a,0,w);else{c=a.split(" ");var h="";for(var c=c,i=Array.isArray(c),j=0,c=i?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=c.length)break;k=c[j++]}else{j=c.next();if(j.done)break;k=j.value}k=k;if(f.measureText(h+k).width<=v)h+=k+" ";else break}h=h.trim();k=a.slice(h.length).trim();if(f.measureText(k).width>v){while(f.measureText(h+a[h.length]).width<=v)h+=a[h.length];k=a.slice(h.length).trim();while(f.measureText(k).width>v)k=k.slice(0,-1)}f.fillText(h,0,w-g);f.fillText(k,0,w)}b("promiseDone")(b("canvasToBlob")(e,"image/png").then(function(a){var c=new FileReader();c.onload=function(c){d.$3(c),d.setState({file:new File([a],"temp-showmark.png"),fileInput:b("ReactDOM").findDOMNode(d.refs.showmarkCreationFileInput),fileDataURL:e.toDataURL()})};c.onprogress=d.$2;c.onerror=d.$6;c.readAsDataURL(a)}))},d.$20=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").SHOWMARK_CREATION_TOOL_NUX),d.setState({creationToolNuxShown:!1})},d.$28=function(){d.$4("showmark_upload_clicked",{cropWindow:JSON.stringify(d.state.cropWindow)});d.state.useCreationTool&&d.$4("showmark_creation_upload",new Map([["template",d.state.templateSelected],["template_text",d.state.templateText]]));if(d.state.fileInput){d.setState({uploadToServerState:"loading"});var a=b("XShowsLogoUploadController").getURIBuilder().setFBID("page_id",d.props.pageID);d.state.cropWindow&&a.setIntVector("crop_window",d.state.cropWindow);a=b("ActorURI").create(a.getURI(),d.props.pageID);a=new(b("FileInputUploader"))(d.state.fileInput).setURI(a).setFiles({file:d.state.file}).setData({file_data_url:d.state.fileDataURL});a.subscribe("success",function(a,b){d.$4("showmark_upload_success",new Map([["photo_id",b.photoID]])),d.setState({uploadToServerState:"success"}),d.props.onSuccess()});a.subscribe("failure",function(a,b){d.$4("showmark_upload_failed"),d.setState({uploadToServerState:"failed"})});a.send()}},d.$29=function(){d.$4("showmark_dialog_closed"),d.props.hideDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){a=a.files;return!a||!a[0]?null:a[0]};d.$7=function(a,b){a.preventDefault();a=a.target;var c=this.$1(a);this.setState({fileInput:a,file:c});if(!c)return;a=new FileReader();a.onload=this.$3;a.onprogress=this.$2;a.onerror=this.$6;a.readAsDataURL(c);b?this.$4("showmark_file_selected"):this.$4("showmark_file_changed")};d.$8=function(){return j._("Add Your Showmark")};d.$9=function(){return j._("Your showmark will appear as an overlay in the corner of your videos when they're not playing. Your showmark should represent your show rather than specific episodes.")};d.$4=function(a,c){a=new(b("ShowCreationFlowTypedLogger"))().setFlowSource(this.props.showCreationFlowSource).setStep(a).setPageID(this.props.pageID);c&&(a=a.updateExtraData(c));a.log()};d.$10=function(){return k.jsxs("div",{className:"_2gzs",children:[k.jsx(b("XUIText.react"),{display:"block",headingLevel:1,weight:"bold",className:"_2gzt",children:this.$8()}),k.jsx(b("XUIText.react"),{display:"block",className:"_2gzu",children:this.$9()})]})};d.$5=function(a,b,c,d){c=Math.min(Math.min(c/(b[2]-b[0]+1),d/(b[3]-b[1]+1)),1);d=a.clone();d.setSize((b[2]-b[0]+1)*c,(b[3]-b[1]+1)*c);d.setZoom(c);return d};d.$11=function(){var a=this.state,c=a.cropWindow,d=a.cropDims;a=a.url;d&&c&&(d=this.$5(d,c,r,s));c=k.jsx("div",{className:"_16wy",children:d?k.jsx(b("PhotoZoomCropImagePreview.react"),{dimensions:d,size:d.getSize(),src:String(a),className:"_16wz"}):k.jsx(b("Image.react"),{src:a,className:"_16wz"})});return k.jsxs("div",{className:"_2gzw",children:[k.jsx(b("XUIText.react"),{display:"block",weight:"bold",className:"_2gzz",children:j._("Preview Showmark")}),k.jsx(b("XUICard.react"),{background:"base-wash",className:"_2gz-",children:k.jsxs("div",{className:"_16w_",children:[k.jsxs(b("Layout.react"),{className:"_16x1",children:[k.jsx(m,{children:this.props.pageProfilePic?k.jsx(b("Image.react"),{src:this.props.pageProfilePic,className:"_4kh1"}):k.jsx("div",{className:"_4kh1"})}),k.jsxs(n,{children:[k.jsx(b("XUIText.react"),{weight:"bold",children:this.props.pageName}),k.jsxs(b("Layout.react"),{children:[k.jsx(m,{children:k.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",children:j._("2 hours ago")})}),k.jsx(m,{className:"_3-8r",children:k.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",children:"\xb7"})}),k.jsx(m,{children:k.jsx(b("Image.react"),{className:"_4kh3",src:g("124639")})})]})]}),k.jsx(m,{children:k.jsx(b("Image.react"),{src:g("125398")})})]}),k.jsx("div",{className:"_16x2"+(this.state.url?" _3d6w":""),children:this.state.url?c:k.jsx(b("XUIText.react"),{className:"_16wy",children:j._("Showmark").toString()})}),k.jsx("div",{className:"_16x5",children:k.jsxs(b("Layout.react"),{children:[k.jsxs(n,{children:[k.jsx(b("XUIGrayText.react"),{className:"_16x6",display:"block",shade:"light",size:"meta1",children:j._("LATEST EPISODE")}),k.jsx(b("XUIText.react"),{display:"block",weight:"bold",className:"_16x8",children:j._("Episode title")})]}),k.jsx(m,{children:k.jsx(b("XUIButton.react"),{className:"_16x9",image:k.jsx(b("Image.react"),{src:g("121816")}),label:j._("Watchlist"),use:"default",href:"#"})})]})})]})}),k.jsx("div",{className:"_2gz_",children:this.$12()})]})};d.$13=function(){return k.jsxs("div",{className:"_2g-0",children:[this.state.uploadToServerState==="loading"?k.jsx("div",{className:"_26of",children:k.jsx(b("XUISpinner.react"),{className:"_26oj",background:"dark",size:"large"})}):null,k.jsxs(b("LeftRight.react"),{children:[this.$14(),this.$11()]})]})};d.$15=function(){var a=this;return k.jsx(b("VideoShowsLogoFileInput.react"),{onFileChange:function(b){return a.$7(b,!0)},ref:"blankLogofileInput",children:k.jsx("a",{href:"#",children:k.jsxs("div",{className:"_45m5",children:[k.jsx(b("Image.react"),{className:"_3-94",src:g("124971")}),k.jsx(b("XUIGrayText.react"),{shade:"medium",size:"header3",className:"_37a1",children:j._("Upload or drag image")})]})})})};d.$16=function(){var a=this,c=k.jsx(b("VideoShowsLogoFileInput.react"),{onFileChange:function(b){return a.$7(b,!1)},ref:"changeLogofileInput",children:k.jsx(b("XUIButton.react"),{className:"_3-8y",image:k.jsx(b("Image.react"),{src:g("121748")}),label:j._("Change Showmark"),use:"default",href:"#"})});this.state.cropDims&&(c=k.jsxs(b("Layout.react"),{className:"_3-8o",children:[k.jsx(m,{children:k.jsx(b("Image.react"),{src:g("116731")})}),k.jsxs(n,{className:"_18p2",children:[k.jsx(b("XUIText.react"),{weight:"bold",display:"block",children:j._("Showmark Cropped")}),k.jsx(b("XUIText.react"),{display:"block",children:j._("To make sure your showmark displays properly, your graphic was automatically cropped to remove any extra padding around the sides.")}),k.jsxs("div",{children:[k.jsx(b("XUIButton.react"),{className:"_3-8y _3-90",image:k.jsx(b("Image.react"),{src:g("120765")}),label:j._("Revert"),use:"default",href:"#",onClick:function(){a.$4("showmark_upload_crop_reverted"),a.setState({cropDims:null,cropWindow:null})}}),c]})]})]}));var d=this.state,e=d.cropDims;d=d.url;return k.jsxs("div",{children:[k.jsx("div",{className:"_45m6",children:e?k.jsx(b("PhotoZoomCropImagePreview.react"),{className:"_18p3",dimensions:e,size:e.getSize(),src:String(d)}):k.jsx(b("Image.react"),{className:"_45m9",src:d})}),c]})};d.$17=function(){return k.jsx(b("AdsXUIProgressBar.react"),{className:"_45mb","data-testid":void 0,striped:!0,value:100})};d.$18=function(){return k.jsxs("ul",{className:"_2g-3",children:[k.jsx("li",{className:"_2g-4",children:j._("At least 300 pixels tall")}),k.jsx("li",{className:"_2g-4",children:j._("All white graphic on a transparent background")}),k.jsx("li",{className:"_2g-4",children:j._("PNG files only")}),k.jsxs("li",{className:"_2g-4",children:[j._("Tightly cropped around the edges of your graphic"),k.jsx("div",{className:"_2g-5",children:k.jsx("div",{className:"_2g-6",children:j._("Showmark").toString()})})]})]})};d.$21=function(){return k.jsxs("div",{children:[k.jsx(b("XUIText.react"),{className:"_2g-8",children:j._("ADD A SHOWMARK")}),this.state.url?this.$16():this.$15(),this.state.uploadState==="loading"?this.$17():null]})};d.$22=function(a){this.$4("showmark_creation_template_selected",new Map([["template",a]])),this.setState({templateSelected:a},this.$23)};d.$25=function(a,c,d){a.font=c+"px "+b("ShowmarkTemplateFontConfig")[d];return a};d.componentDidUpdate=function(a,b){this.state.useCreationTool&&!b.useCreationTool&&this.$22("RALEWAY")};d.$26=function(a){var c=this;return k.jsx("div",{className:"_3h-p"+(a===this.state.templateSelected?" _3h-q":""),onClick:function(){return c.$22(a)},role:"radio","aria-checked":a===this.state.templateSelected,tabIndex:Object.values(b("ShowmarkTemplate")).indexOf(a),children:k.jsx("span",{style:{fontFamily:b("ShowmarkTemplateFontConfig")[a]},className:"_3h-r",children:"Abc"})})};d.$27=function(){var a=this,c=t-this.state.templateText.length;return k.jsxs("div",{className:"_2put",children:[k.jsx(b("XUIText.react"),{className:"_2g-8",children:j._("SELECT A SHOWMARK TEMPLATE")}),k.jsx(b("Grid.react"),{cols:3,spacing:"pas",className:"_3-8o",children:Object.keys(b("ShowmarkTemplate")).map(function(b){return k.jsx(l,{children:a.$26(b)},b)})}),k.jsx(b("XUITextInput.react"),{className:"_2puu",value:this.state.templateText,onChange:this.$24}),k.jsx(b("XUIText.react"),{size:"meta1",display:"block",className:"_3-8x"+(c<=0||this.state.templateText.length<u?" _2puw":""),children:this.state.templateText.length>=u?j._({"*":"({number} characters remaining)","_1":"(1 character remaining)"},[j._plural(c,"number")]):j._("Showmark must be more than 3 characters")}),k.jsx(b("VideoShowsLogoFileInput.react"),{ref:"showmarkCreationFileInput",onFileChange:function(){},className:"hidden_elem",children:k.jsx("a",{href:"#"})})]})};d.$14=function(){var a=this,c=k.jsx(b("Link.react"),{href:"#",onClick:this.$19,className:"_33xa",ref:"creationToolToggleLink",children:this.state.useCreationTool?j._("Do you want to add your own showmark?"):j._("Don't have a showmark? Add a default showmark.")}),d=k.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.creationToolToggleLink},position:"below",shown:this.state.creationToolNuxShown,onCloseButtonClick:this.$20,children:j._("New! If you don't have a showmark, Facebook can make one for you to get started.")});return k.jsxs("div",{className:"_2g-7",children:[k.jsx(b("XUIText.react"),{className:"_2g-8",children:j._("SHOWMARK REQUIREMENTS")}),this.$18(),this.state.useCreationTool?this.$27():this.$21(),c,this.state.creationToolNuxShown?d:null]})};d.$12=function(){var a=this.state.uploadToServerState==="loading",c=this.state.useCreationTool&&(!this.state.templateSelected||this.state.templateText.length<u);return k.jsxs(b("LeftRight.react"),{children:[k.jsx("span",{}),k.jsxs("span",{children:[k.jsx(b("XUIDialogButton.react"),{label:j._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.$29,disabled:a}),k.jsx(b("XUIDialogButton.react"),{"data-testid":void 0,label:j._("Add Showmark"),action:"confirm",size:"large",use:"confirm",disabled:this.state.uploadState!=="success"||a||c,onClick:this.$28})]})]})};d.render=function(){return k.jsx("div",{children:k.jsx(b("XUIDialog.react"),{width:o,shown:!0,hideOnEscape:!1,label:this.$8(),layerHideOnBlur:!1,children:k.jsxs(b("XUIDialogBody.react"),{className:"_45me","data-testid":void 0,children:[this.$10(),this.$13()]})})})};return c}(k.Component);e.exports=a}),null);
__d("VideoComponentShowmarkOverlay.react",["ix","cx","fbt","AbstractButton.react","AsyncRequest","Image.react","Layout.react","PopoverMenu.react","React","ReactXUIMenu","ShowsCreationLoggerUtils","VideoShowsLogoUploadDialog.react","XPagesCoverReloadController","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(){b("ShowsCreationLoggerUtils").log("showmark_change_click",d.props.pageID,d.props.showCreationFlowSource),d.setState({showEditShowMarkDialog:!0})};d.$2=function(){d.setState({showEditShowMarkDialog:!1})};d.$3=function(){new(b("AsyncRequest"))().setURI(b("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI()).send(),d.$2(),d.props.onShowMarkUploadSuccess&&d.props.onShowMarkUploadSuccess()};d.state={showEditShowMarkDialog:!1};return d}var d=c.prototype;d.$4=function(){return j.jsx(b("Image.react"),{className:"_1o-v",src:this.props.showmarkURL})};d.$5=function(){if(!this.props.isAdmin)return null;var a=j.jsx(b("ReactXUIMenu"),{children:j.jsx(m,{onClick:this.$1,children:i._("Change Showmark")})}),c=j.jsx(b("Image.react"),{src:g("115342")}),d=i._("Edit showmark");return j.jsxs("div",{children:[this.state.showEditShowMarkDialog?j.jsx(b("VideoShowsLogoUploadDialog.react"),{existingLogoUrl:this.props.showmarkUploadPreviewURL,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePic:this.props.pageProfilePic,hideDialog:this.$2,onSuccess:this.$3,showCreationFlowSource:this.props.showCreationFlowSource}):null,j.jsx("div",{className:"_2210",children:j.jsx(b("PopoverMenu.react"),{menu:a,position:"below",children:j.jsx(b("AbstractButton.react"),{className:"_2212",image:c,label:d,labelIsHidden:!0,ref:"button",type:"button"})})})]})};d.render=function(){var a=this.props.isShowPageNewCover;return j.jsxs(b("Layout.react"),{className:(a?"":"_2213")+(a?" _11ro":""),children:[j.jsx(k,{children:this.$4()}),j.jsx(l,{children:this.$5()})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComponentShowsViewers.react",["cx","fbt","FacepileRounded.react","React","VideoComponent","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=30;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={vpc:null};return b}var d=c.prototype;d.enable=function(a){this.setState({vpc:a})};d.disable=function(){};d.$1=function(){if(!this.props.data||!this.props.data.showsFollowerData)return null;var a=this.props.data.showsFollowerData.friendsList;if(a==null||a.length===0)return null;a=a.map(function(a){return{image_src:"https://graph.facebook.com/"+a.userId+"/picture?height="+j*2+"&width="+j*2,name:a.userName}});return i.jsx(b("FacepileRounded.react"),{direction:"descending",className:(this.props.data.isShowPageNewCover?"":"_1kox")+(this.props.data.isShowPageNewCover?" _66j-":""),imageSize:j,profiles:a,hoverBehavior:"name",borderColor:this.props.data.isShowPageNewCover?"#000000":"#ffffff"})};d.render=function(){if(!this.props.data||!this.props.data.showsFollowerData)return null;var a=this.props.data.showsFollowerData,c=a.friendCount;a=a.followerCount;var d=this.state.vpc&&this.state.vpc.getState()==="playing",e=this.$1();a=c===0?i.jsx("span",{className:"_1koz",children:h._({"*":"{fan_count} followers","_1":"1 follower"},[h._plural(a,"fan_count",b("intlSummarizeNumber")(a))])}):i.jsx("span",{className:(this.props.data.isShowPageNewCover?"":"_1koz")+(this.props.data.isShowPageNewCover?" _66j_":""),children:h._({"*":{"*":"{fan_count} followers including {friend_count} friends"},"_1":{"_1":"1 follower including 1 friend"}},[h._plural(a,"fan_count",b("intlSummarizeNumber")(a)),h._plural(c,"friend_count",b("intlSummarizeNumber")(c))])});return i.jsxs("div",{className:(this.props.data.isShowPageNewCover?"":"_1ko-")+(this.props.data.isShowPageNewCover?" _4yj4":"")+(this.props.hideOnPlay?" _s0r":"")+(this.props.hideOnPlay&&d?" _s0s":""),children:[e,a]})};return c}(i.Component);e.exports=b("VideoComponent").createContainer(a,{observedVpcEvents:["stateChange"]})}),null);
__d("VideoShowsMetadataBlock.react",["cx","fbt","invariant","ActorURI","Bootloader","LineClamp.react","Link.react","React","ShimButton.react","UFIConfig","UFIReactionsBlingTokens.react","UFIReactionsProfileBrowserUtils","VideoComponentShowmarkOverlay.react","VideoComponentShowsViewers.react","XUFIReactionsSocialSentenceTooltipController","XUFIReactionTooltipController"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.preventDefault();var c=d.props.data.showsFeedbackData;c||i(0,2252);var e=c.actorId;c=c.videoId;e||i(0,2253);c||i(0,2254);var f=b("UFIReactionsProfileBrowserUtils").getDialogURI({actorID:e,feedbackTargetID:c}).toString();b("Bootloader").loadModules(["AsyncDialog"],function(b){b.bootstrap(f,a.currentTarget,"dialog")},"VideoShowsMetadataBlock.react")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.props.data.viewerCoverTrailerState;switch(a){case"resume_episode":return h._("CONTINUE WATCHING");case"latest_episode":return h._("LATEST EPISODE");case"watch_trailer":return h._("SHOW TRAILER")}return null};d.$3=function(){var a=this.props.data,c=a.viewerCoverTrailerState,d=a.showsFeedbackData;a=a.showsVideoData;if(c==="watch_trailer")return j.jsx(b("VideoComponentShowsViewers.react"),{data:this.props.data,hideOnPlay:!1});else{if(!d)return null;c={};if(d&&d.reactionCountMap){var e=d.reactionCountMap;for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(c[f]={"default":e[f]})}e=d.commentCount;var g=d.commentsCountReduced,i=d.reactionsCountReduced,k=this.$4({actorforpost:d.actorId,entidentifier:d.videoId});k=a&&e&&g&&e>0?j.jsxs("span",{className:"_1m-9",children:[j.jsx(b("ShimButton.react"),babelHelpers["extends"]({},k,{className:"_o12",inline:!0,onClick:this.$2,children:i}))," ","\xb7"," ",j.jsx(b("Link.react"),{href:a.uri,children:j.jsx("span",{className:"_o12",children:h._({"*":"{number} Comments","_1":"1 Comment"},[h._plural(e,"number",g)])})})]}):null;return j.jsxs("div",{className:"_1m-8",children:[j.jsx("span",{children:j.jsx(b("UFIReactionsBlingTokens.react"),{className:"_4ar- _ipn _1m-f",feedback:{actorforpost:d.actorId,entidentifier:d.videoId,reactioncountmap:c},max:3,size:"16"})}),k]})}};d.$4=function(a){var c=a.actorforpost;a=a.entidentifier;var d=b("UFIConfig").reactionsHasTooltipBreakdown?b("XUFIReactionsSocialSentenceTooltipController"):b("XUFIReactionTooltipController");return{"data-hover":"tooltip","data-tooltip-uri":b("ActorURI").create(d.getURIBuilder().setString("ft_ent_identifier",a).getURI(),c)}};d.$5=function(){var a=this.props.data,b=a.viewerCoverTrailerState,c=a.showsVideoData;a=a.showsData;return c&&(b==="latest_episode"||b==="resume_episode")?c.description:a.showDescription};d.$6=function(){var a=this.props.data.viewerCoverTrailerState;return(a==="latest_episode"||a==="resume_episode")&&this.props.data.showsVideoData?j.jsx("span",{className:"_2yyi",children:this.props.data.showsVideoData.title}):null};d.$7=function(){var a=this.props.data.showsData,c=a.showmarkURL,d=a.showmarkUploadPreviewURL,e=a.title;a=a.profilePic;return!c||!d?null:j.jsx(b("VideoComponentShowmarkOverlay.react"),{showmarkURL:c.toString(),showmarkUploadPreviewURL:d.toString(),pageID:this.props.pageID,pageName:e,pageProfilePic:a,isAdmin:this.props.data.isAdmin,isShowPageNewCover:this.props.data.isShowPageNewCover,onShowMarkUploadSuccess:this.props.onShowMarkUploadSuccess,showCreationFlowSource:this.props.showCreationFlowSource})};d.render=function(){return j.jsxs("div",{className:"_66ev",children:[this.$7(),j.jsxs("div",{children:[j.jsx("span",{className:"_2xn9",children:this.$1()}),this.$6(),j.jsx(b("LineClamp.react"),{fitHeightToShorterText:!0,lineHeight:18,lines:4,className:"_39rp",children:this.$5()}),this.$3()]})]})};return c}(j.Component);a.defaultProps={renderedHeight:461.25,renderedWidth:820};e.exports=a}),null);
__d("VideoComponentShowsTrailerOverlay.react",["ix","cx","fbt","ComposerXVideoUploadDialogController_DEPRECATED","ContextualDialogArrow","DateConsts","FileInput.react","Image.react","LeftRight.react","LineClamp.react","OptimisticVideoProgressBar.react","PopoverMenu.react","ProgressBar.react","React","ReactXUIMenu","ShowsCreationLoggerUtils","VideoComponent","VideoComponentShowmarkOverlay.react","VideoHomePlayButtonThumbnailOverlay.react","XUIOverlayButton.react","XUIText.react","fbglyph","formatDurationSeconds","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("DateConsts").MS_PER_SEC,k=b("React"),l=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$4=function(){b("ShowsCreationLoggerUtils").log("show_trailer_upload_new_clicked",d.props.pageID,d.props.showCreationFlowSource)};d.$5=function(){b("ShowsCreationLoggerUtils").log("show_trailer_upload_new_file_selected",d.props.pageID,d.props.showCreationFlowSource);var a=d.refs.fileInput;if(!a)return;a=a.getFileInput();b("ComposerXVideoUploadDialogController_DEPRECATED").showDialog({targetID:d.props.pageID,fileInput:a,composerEntryPointRef:"page_trailer"});d.props.onOpenUploadDialog&&d.props.onOpenUploadDialog()};d.state={vpc:null};return d}var d=c.prototype;d.enable=function(a){this.setState({vpc:a})};d.disable=function(){};d.$1=function(){var a=this.props.data.showsData,c=a.showmarkURL,d=a.showmarkUploadPreviewURL,e=a.title;a=a.profilePic;return!c||!d?null:k.jsx(b("VideoComponentShowmarkOverlay.react"),{showmarkURL:c.toString(),showmarkUploadPreviewURL:d.toString(),pageID:this.props.pageID,pageName:e,pageProfilePic:a,isAdmin:this.props.isAdmin,isShowPageNewCover:!1,onShowMarkUploadSuccess:this.props.onShowMarkUploadSuccess,showCreationFlowSource:this.props.showCreationFlowSource})};d.$2=function(){var a=this.props.data.viewerCoverTrailerState;switch(a){case"resume_episode":return i._("Continue Watching");case"latest_episode":return i._("Latest Episode");case"watch_trailer":return i._("Trailer")}return null};d.$3=function(){var a=this.props.data,c=a.showsVideoData;a=a.viewerCoverTrailerState;a=a==="watch_trailer";c=c?c.title:null;return k.jsxs("div",{className:"_39rm",children:[this.$1(),a?null:[k.jsx("div",{className:"_39ro",children:k.jsx(b("LineClamp.react"),{lines:2,children:c})},"title"),k.jsx("div",{className:"_39rn",children:this.$2()},"header")]]})};d.$6=function(){if(!this.props.isAdmin)return null;var a=k.jsx(b("ReactXUIMenu"),{children:k.jsx(l,{renderas:"label",children:k.jsx(b("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onClick:this.$4,onChange:this.$5,children:k.jsx("a",{style:{color:"inherit",textDecoration:"none"},children:i._("Upload New Video")})})})});return k.jsx("div",{className:"_20kk",children:k.jsx(b("PopoverMenu.react"),{layerBehaviors:[b("ContextualDialogArrow")],menu:a,position:"below",children:k.jsx(b("XUIOverlayButton.react"),{className:"_20kl",image:k.jsx(b("Image.react"),{src:g("125727")}),label:i._("Change Trailer"),href:"#"})})})};d.$7=function(){var a=this.props.data,c=a.isShowPageNewCover;a=a.showsVideoData;return c&&a?k.jsx(b("XUIText.react"),{className:"_3_sk",children:b("formatDurationSeconds")(a.duration/j)}):null};d.$8=function(){var a=this.props.data,c=a.showsVideoData;a=a.viewerCoverTrailerState;var d=c?c.duration:100;c=c?c.startTimestamp:40;return a==="resume_episode"&&d&&c?k.jsx("div",{className:"_tn4",children:k.jsx(b("ProgressBar.react"),{className:"_df_",max:d,min:0,value:c})}):null};d.$9=function(){var a=this.props.data.viewerCoverTrailerState;return a==="watch_trailer"?k.jsx(b("VideoHomePlayButtonThumbnailOverlay.react"),{size:"72",className:"_3_sl"}):null};d.render=function(){var a=this.state.vpc&&this.state.vpc.getState()==="playing",c=this.props.isTrailer&&(!this.state.vpc||this.state.vpc.getState()==="ready"),d=this.props.data.isShowPageNewCover;return d?k.jsxs("div",{children:[k.jsxs("div",{className:b("joinClasses")("_39s3"+(!this.props.isTrailer&&a?" _s0s":"")+(c?" _31ye":""),this.props.className),children:[this.props.uploadedVideoData?k.jsx("div",{className:"_20km",children:k.jsx(b("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"})}):null,k.jsx("div",{className:this.props.uploadedVideoData!=null?"hidden_elem":"",children:this.$6()}),this.$8()]}),this.$7(),this.$9()]}):k.jsxs("div",{className:b("joinClasses")("_39s3"+(!this.props.isTrailer&&a?" _s0s":"")+(c?" _31ye":""),this.props.className),children:[k.jsx("div",{className:"_39s4"}),k.jsx("div",{className:"_1fth"}),this.props.uploadedVideoData?k.jsx("div",{className:"_20km",children:k.jsx(b("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"})}):null,k.jsx("div",{className:this.props.uploadedVideoData!=null?"hidden_elem":"",children:k.jsxs(b("LeftRight.react"),{className:"_20kn _1fti",children:[k.jsx("div",{className:"_39s5",children:this.$3()}),this.$6()]})}),this.$8()]})};return c}(k.Component);e.exports=b("VideoComponent").createContainer(a,{observedVpcEvents:["stateChange"]})}),null);
__d("VideoComponentShowsVideoLink.react",["cx","fbt","React","VideoComponent","VideoLink.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){};d.disable=function(){};d.render=function(){var a=h._("Play episode");return i.jsx(b("VideoLink.react"),babelHelpers["extends"]({onClick:this.props.onClick,useTahoe:!0,referrer:this.props.referrer},this.props.data,{children:i.jsx("div",{className:"_1hvs",children:i.jsx("i",{className:"_3htz _1jto"+(this.props.hideButton?"":" _bsl"),children:i.jsx("input",{"aria-label":a,type:"button",className:"_yak"})})})}))};return c}(i.Component);e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoShowsAdminAddTrailer.react",["ix","cx","fbt","AbstractButton.react","ComposerXVideoUploadDialogController_DEPRECATED","FileInput.react","Image.react","OptimisticVideoProgressBar.react","React","Text.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.refs.fileInput;if(!a)return;a=a.getFileInput();b("ComposerXVideoUploadDialogController_DEPRECATED").showDialog({targetID:d.props.pageID,fileInput:a,composerEntryPointRef:"page_trailer"});d.props.onOpenDialog&&d.props.onOpenDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!this.props.isAdmin?null:j.jsx("div",{style:{width:this.props.width,height:this.props.height},className:"_1ew_ _5-9f",children:j.jsxs("div",{className:"_5-9g",children:[j.jsx("div",{className:"_4xv5",children:j.jsx(b("Image.react"),{className:"_4xv6",src:g("122642")})}),j.jsx(b("Text.react"),{className:"_5-9h",style:{fontSize:16,fontWeight:"600",color:"white"},children:i._("Introduce Your Show With a Trailer")}),j.jsx(b("Text.react"),{className:"_40em",children:i._("Your trailer is a 16:9 video used to promote your show across Facebook. It should be less than 2 minutes and 30 seconds long.")}),j.jsx(b("Text.react"),{className:"_40em _3-8w",children:i._("Your trailer and most recent episodes will play in this space.")}),this.props.uploadedVideoData?null:j.jsx(b("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onChange:this.$1,children:j.jsx(b("AbstractButton.react"),{className:"_5-9j",label:i._("Add Trailer"),href:"#"})}),this.props.uploadedVideoData?j.jsx(b("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"}):null]})})};return c}(j.Component);e.exports=a}),null);
__d("VideoShowsTrailer.react",["cx","Arbiter","AsyncRequest","DateConsts","OnVisible.react","PagesEventObserver","PagesEventType","React","ShowsCreationLoggerUtils","VideoComponentCover.react","VideoComponentEmbeddedControls.react","VideoComponentShowsTrailerOverlay.react","VideoComponentShowsVideoLink.react","VideoComponentShowsViewers.react","VideoComponentWithLoopingPlayback.react","VideoDataContainer.react","VideoPlayer.react","VideoShowsAdminAddTrailer.react","XPagesCoverReloadController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("DateConsts").MS_PER_SEC,i=b("React"),j=-100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=null;d.$2=null;d.$3=null;d.$4=!1;d.$6=function(){var a=d.refs.player;a&&a.vpc.isState("playing")&&(d.$4=!0,a.vpc.pause("page_visibility_initiated"))};d.$7=function(){if(!d.$4)return;d.$4=!1;var a=d.refs.player;a.vpc.play("page_visibility_initiated")};d.$8=function(){d.$5("COVER_TRAILER_CLICK")};d.$9=function(){return b("VideoDataContainer.react").renderSpinner(d.props.renderedWidth,d.props.renderedHeight)};d.state={uploadedVideoData:null};return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$5("COVER_TRAILER_IMPRESSION");this.$1=b("Arbiter").subscribe("videoUpload/complete",function(c,d){c="page_trailer_"+a.props.pageID;d.originalComposerID==c&&(b("ShowsCreationLoggerUtils").log("show_trailer_uploaded",a.props.pageID,a.props.showCreationFlowSource,new Map([["video_id",d.videoID]])),a.setState({uploadedVideoData:d}))});this.$2=b("Arbiter").subscribe("pageTrailerVideoEncode/complete",function(c,d){b("ShowsCreationLoggerUtils").log("show_trailer_encode_success",a.props.pageID,a.props.showCreationFlowSource,new Map([["video_id",d.videoID]])),new(b("AsyncRequest"))().setURI(b("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",a.props.pageID).getURI()).setHandler(function(a){this.setState({uploadedVideoData:null})}.bind(a)).send()});this.$3=b("Arbiter").subscribe("videoUpload/cancel",function(c,d){c="page_trailer_"+a.props.pageID;d.composerID==c&&b("ShowsCreationLoggerUtils").log("show_trailer_upload_cancelled",a.props.pageID,a.props.showCreationFlowSource)})};d.componentWillUnmount=function(){this.$1&&b("Arbiter").unsubscribe(this.$1),this.$2&&b("Arbiter").unsubscribe(this.$2),this.$3&&b("Arbiter").unsubscribe(this.$3)};d.$5=function(a){var c,d,e=this.props.data;if(!e)return;d=(d=e)!=null?(d=d.showsVideoData)!=null?d.videoID:d:d;c=(c=e)!=null?(c=c.showsVideoData)!=null?c.startTimestamp:c:c;b("PagesEventObserver").notify(b("PagesEventType")[a],this.props.pageID,{videoID:d,startTimestamp:c,viewerCoverTrailerState:e.viewerCoverTrailerState})};d.$10=function(){var a;return((a=this.props)!=null?(a=a.data)!=null?a.viewerCoverTrailerState:a:a)==="watch_trailer"};d.$11=function(){return this.$10()?i.jsx(b("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:!0,hideRemainingTime:!0,showFullscreenButton:!1,showSettingsButton:!1}):null};d.render=function(){var a=this.props.data;if(!a)return null;var c=a.showsVideoData,d=a.videoLinkData,e=a.isAdmin,f=a.isAutoplayGated;if(!c||!d)return i.jsx(b("VideoShowsAdminAddTrailer.react"),{isAdmin:e,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth,height:this.props.renderedHeight,pageID:this.props.pageID,onOpenDialog:this.props.onOpenUploadDialog});d=c.startTimestamp?c.startTimestamp/h:0;var g=this.props.referrer==="video_home"?"video_home":"page_timeline",k=this.props.referrer==="video_home"?"pages_timeline_pages_cover":"pages_cover";return i.jsx(b("OnVisible.react"),{className:"_28pj",buffer:j,onHidden:this.$6,onVisible:this.$7,children:i.jsx(b("VideoDataContainer.react"),{videoID:c.videoID,renderLoading:this.$9,children:i.jsxs(b("VideoPlayer.react"),{allowCrossPageTransition:!0,autoplay:this.$10()&&!f,forceHD:!0,height:this.props.renderedHeight,offsetType:"vertical",playerOrigin:g,subOrigin:k,ref:"player",startMuted:!0,startTimestamp:d,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.renderedWidth,children:[i.jsx(b("VideoComponentCover.react"),{hiddenAfterFinish:!0,showWhileBuffering:!0}),!a.isImmersiveShowPage&&i.jsx(b("VideoComponentShowsTrailerOverlay.react"),{data:a,isAdmin:e,isTrailer:this.$10(),pageID:this.props.pageID,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth,onOpenUploadDialog:this.props.onOpenUploadDialog,onShowMarkUploadSuccess:this.props.onShowMarkUploadSuccess}),!a.isShowPageNewCover&&!a.isImmersiveShowPage&&i.jsx(b("VideoComponentShowsViewers.react"),{data:a,hideOnPlay:!this.$10()}),i.jsx(b("VideoComponentWithLoopingPlayback.react"),{forceLooping:!0}),i.jsx(b("VideoComponentShowsVideoLink.react"),{data:a.videoLinkData,hideButton:this.$10(),onClick:this.$8,referrer:this.props.referrer}),a.isShowPageNewCover?null:this.$11()]})},c.videoID)})};return c}(i.Component);a.defaultProps={renderedHeight:461.25,renderedWidth:820};e.exports=a}),null);
__d("PagesCoverComponent.react",["cx","PageOnTourOverlay.react","PagesCoverLoadingScreen.react","PagesCoverPhoto.react","PagesCoverSlideshow.react","PagesCoverVideo.react","PagesLiveCoverVideo.react","React","VideoShowsMetadataBlock.react","VideoShowsTrailer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=null,d=null;switch(a.currentCoverType){case"loading":c=h.jsx(b("PagesCoverLoadingScreen.react"),{isInSettingsPage:a.isInSettingsPage});break;case"cover_live_video":var e=a.coverData.cover_live_video,f=e.videoID;e=e.renderedHeight;f&&(c=h.jsx(b("PagesLiveCoverVideo.react"),{renderedHeight:e,videoID:f}),d="_3wu6");break;case"cover_trailer":a.coverData.cover_trailer.isShowPageNewCover&&!a.coverData.cover_trailer.isImmersiveShowPage?c=h.jsxs("div",{className:"_2k2l",children:[h.jsx("div",{className:"_66et",children:h.jsx(b("VideoShowsMetadataBlock.react"),{data:a.coverData.cover_trailer,pageID:a.pageID,showCreationFlowSource:"show_permalink"})}),h.jsxs("div",{className:"_66-8","data-testid":void 0,children:[h.jsx("div",{className:"_66eu"}),h.jsx(b("VideoShowsTrailer.react"),{data:a.coverData.cover_trailer,pageID:a.pageID,referrer:a.referrer,renderedHeight:336,renderedWidth:598,showCreationFlowSource:"show_permalink"})]})]}):c=h.jsx("span",{"data-testid":void 0,children:h.jsx(b("VideoShowsTrailer.react"),{data:a.coverData.cover_trailer,pageID:a.pageID,showCreationFlowSource:"show_permalink"})});d="_3wu6";break;case"cover_video":c=h.jsx(b("PagesCoverVideo.react"),{isEditMode:a.isEditMode,isInSettingsPage:a.isInSettingsPage,isMigratedShowPage:a.isMigratedShowPage,videoData:a.coverData.cover_video});d="_3wu6";break;case"cover_slideshow":c=h.jsx(b("PagesCoverSlideshow.react"),babelHelpers["extends"]({isEditMode:a.isEditMode,isInSettingsPage:a.isInSettingsPage,pageID:a.pageID},a.coverData.cover_slideshow));d="_668x";break;case"cover_photo":default:c=h.jsx(b("PagesCoverPhoto.react"),babelHelpers["extends"]({isInSettingsPage:a.isInSettingsPage},a.coverData.cover_photo))}return h.jsxs("div",{children:[c,h.jsx(b("PageOnTourOverlay.react"),{className:d})]})}e.exports=a}),null);
__d("PagesCoverRemoveCoverConfirmationDialog.react",["fbt","AsyncRequest","PagesCoverDispatcher","React","XPagesCoverRemoveAsyncController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogTitle.react","gkx","prop-types","videoPageContextualColorFetchUpdatedThemeColor"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=445;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("XPagesCoverRemoveAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(a).setData({page_id:d.props.pageID}).setHandler(function(){b("gkx")("678704")&&b("videoPageContextualColorFetchUpdatedThemeColor")(d.props.pageID)}).send();d.props.onToggle(!1);b("PagesCoverDispatcher").dispatch({type:"cover_removing"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!this.props.shown?null:h.jsxs(b("XUIDialog.react"),{onToggle:this.props.onToggle,shown:!0,width:i,children:[h.jsx(b("XUIDialogTitle.react"),{children:g._("Remove Cover?")}),h.jsx(b("XUIDialogBody.react"),{children:g._("Are you sure you want to remove this cover?")}),h.jsxs(b("XUIDialogFooter.react"),{children:[h.jsx(b("XUIDialogCancelButton.react"),{}),h.jsx(b("XUIDialogConfirmButton.react"),{"data-testid":void 0,onClick:this.$1,use:"confirm"})]})]})};return c}(h.PureComponent);a.propTypes={coreData:(c=b("prop-types")).object.isRequired,onToggle:c.func.isRequired,pageID:c.string.isRequired,shown:c.bool.isRequired};e.exports=a}),null);
__d("PagesLiveCoverVideoActionCreator",["PagesCoverDispatcher"],(function(a,b,c,d,e,f){"use strict";a={onLiveCoverVideoEnabled:function(){b("PagesCoverDispatcher").dispatch({type:"live_video_enable"})},onLiveCoverVideoDisable:function(){b("PagesCoverDispatcher").dispatch({type:"live_video_disable"})}};e.exports=a}),null);
__d("PagesCoverEditMenu.react",["ix","cx","fbt","invariant","ActorURI","AsyncRequest","ContextualDialogArrow","FileInput.react","FileInputUploader","Image.react","PagesCoverCameraButton.react","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesCoverVideoActionCreator","PagesCoverVideoBrowserDialog.react","PagesLiveCoverVideoActionCreator","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","PagesVideoUploader.react","SimpleXUIDialog","XEventTourBadgeOnPagesCoverController","XPagesCoverPhotoUploadAsyncController","XPhotoBrowserDialogController","XPagesCoverLiveVideoToggleAsyncController","XPagesCoverVideoUploaderController","PagesCoverRemoveCoverConfirmationDialog.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showRemoveCoverConfirmationDialog:!1,showCoverVideoBrowserDialog:!1,videoUploaderInitParams:null,shouldExpandMenu:!1};d.$8=function(){d.setState({showCoverVideoBrowserDialog:!0})};d.$9=function(){d.setState({showCoverVideoBrowserDialog:!1})};d.$10=function(a){d.setState({showRemoveCoverConfirmationDialog:a})};d.$11=function(a){b("PagesCoverVideoActionCreator").editCoverVideo(d.props.pageID,a),d.setState({showCoverVideoBrowserDialog:!1})};d.$12=function(a){d.$2=a};d.$13=function(a,c,e){var f=d.props.coverData.cover_video,g=f.containerWidth;f=f.containerHeight;a=b("PagesCoverVideoActionCreator").validateCoverVideoMetadata(d.props.pageID,a,c,g,f);a&&b("PagesCoverVideoActionCreator").showCoverVideoUploadUI(e)};d.$14=function(a){var c=d.props.coverData.cover_video,e=c.containerWidth;c=c.containerHeight;b("PagesCoverVideoActionCreator").encodeFinished(d.props.pageID,a,e,c)};d.$17=function(a){b("PagesCoverVideoActionCreator").reloadCoverWithErrorDialog(d.props.pageID,a)};d.$18=function(){var a=d.props.coverData.cover_live_video;!a&&j(0,1474);var c=a.isEnabled?i._("Don't Show Your Live Video as Your Cover Photo"):i._("Show Your Live Video as Your Cover Photo"),e=a.isEnabled?i._("The next time you go live, your broadcast will no longer appear at the top of your Page."):i._("The next time you go live, your broadcast will appear at the top of your Page. It will automatically be replaced by your most recent live video.");b("SimpleXUIDialog").showConfirm(e,c,function(c){if(!c)return;c=b("XPagesCoverLiveVideoToggleAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({page_id:d.props.pageID,is_enabled:!a.isEnabled}).setHandler(function(a){a=a.payload;a?b("PagesLiveCoverVideoActionCreator").onLiveCoverVideoEnabled():b("PagesLiveCoverVideoActionCreator").onLiveCoverVideoDisable()}).send()})};d.$20=function(){b("PagesCoverSlideshowActionCreator").enterEditMode(d.props.pageID,d.props.coreData.currentCoverType!=="cover_slideshow")};d.$26=function(){d.setState({showRemoveCoverConfirmationDialog:!0})};d.$23=function(){var a=d.props.coreData.currentCoverType;if(a==="cover_photo")b("PagesCoverDispatcher").dispatch({data:{isPreviewMode:!0},type:"photo_previewing"});else if(a==="cover_video"){a=d.props.coverData.cover_video.videoID;b("PagesCoverVideoActionCreator").editCoverVideo(d.props.pageID,a)}};d.$16=function(a,c){if(c)return;a=b("ActorURI").create(b("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI(),d.props.pageID);new(b("FileInputUploader"))(b("ReactDOM").findDOMNode(d.$2)).setURI(a).setAllowCrossOrigin(!0).send();b("PagesCoverDispatcher").dispatch({type:"photo_uploading"})};d.$25=function(){var a=d.props.coreData.eventTourBadgeInfo.eventTourBadgeStatus;if(a==="no_tour")return;a=b("XEventTourBadgeOnPagesCoverController").getURIBuilder().setFBID("page_id",d.props.pageID).setBool("enable",a==="tour_badge_hidden").getURI();new(b("AsyncRequest"))(a).setHandler(function(a){a.payload&&b("PagesCoverDispatcher").dispatch({type:"on_tour_badge_updated",data:a.payload})}).send();b("PagesCoverDispatcher").dispatch({type:"loading"})};d.$28=function(){d.setState({shouldExpandMenu:!0})};d.$29=function(){d.setState({shouldExpandMenu:!1})};d.$1=null;d.$2=null;return d}var d=c.prototype;d.componentDidMount=function(){this.props.coreData.canViewerEditProfile&&this.$3()};d.UNSAFE_componentWillReceiveProps=function(a){a.coreData.hasCoverSet!==this.props.coreData.hasCoverSet&&(this.$1=null),a.coreData.canViewerEditProfile!==this.props.coreData.canViewerEditProfile&&this.$3()};d.$3=function(){var a=this,c=b("ActorURI").create(b("XPagesCoverVideoUploaderController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);new(b("AsyncRequest"))(c).setHandler(function(b){a.setState({videoUploaderInitParams:b.payload.video_uploader_params})}).send()};d.$4=function(){return!!this.props.coreData.hasCoverSet};d.$5=function(){return!this.$4()?i._("Add a Cover"):i._("Change Cover")};d.$6=function(){if(!this.props.coverData.cover_photo.pageHasPhotos)return null;var a=b("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",20).setEnum("generator",1).setString("data","pages_cover_photo").setInt("id",this.props.pageID).getURI();return k.jsx(l,{href:a,rel:"dialog",children:i._("Choose From Photos")})};d.$7=function(){var a;a=!!((a=this.props)!=null?(a=a.coverData)!=null?(a=a.cover_video)!=null?a.shouldShowChooseFromCoverVideoMenu:a:a:a);return!a?null:k.jsx(l,{onclick:this.$8,children:i._("Choose From Videos")})};d.$15=function(){if(this.props.coreData.disableCoverVideoUploadOption)return k.jsx(l,{renderas:"label",children:k.jsx(b("FileInput.react"),{accept:"image/*","data-testid":void 0,display:"inline-block",name:"cover_pic",onChange:this.$16,ref:this.$12,children:k.jsx("a",{className:"_3ihw",href:"#",children:i._("Upload Photo")})})});var a=this.state.videoUploaderInitParams;if(!a)return null;var c=i._("Upload Photo\/Video");return k.jsx(l,{renderas:"label",children:k.jsx(b("PagesVideoUploader.react"),{"data-testid":void 0,extraAccept:"image/*",fileInputRef:this.$12,label:c,labelClassName:"_3ihw",onChange:this.$16,onEncodeFinished:this.$14,onEncodeProgressed:b("PagesCoverVideoActionCreator").encodeProgressed,onEncodeStarted:b("PagesCoverVideoActionCreator").encodeStarted,onPostFailed:this.$17,onUploadFailed:this.$17,onUploadProgressed:b("PagesCoverVideoActionCreator").uploadProgressed,onUploadStarted:b("PagesCoverVideoActionCreator").uploadStarted,onVideoMetadataLoaded:this.$13,videoUploaderInitParams:a})})};d.$19=function(){var a=this.props.coverData.cover_live_video;if(!a.canEnable)return null;a=a.isEnabled?i._("Don't Show Live Video"):i._("Show Live Video");return k.jsx(l,{onClick:this.$18,children:a})};d.$21=function(){var a;a=(a=this.props)!=null?(a=a.coverData)!=null?a.cover_slideshow:a:a;if(!a||!a.isCoverSlideshowEnabled)return null;a=a.shouldShowMenuNux?k.jsx(b("Image.react"),{src:g("115777"),style:{verticalAlign:"middle"}}):null;var c=this.props.coreData.currentCoverType==="cover_slideshow"?i._("Edit Slideshow"):i._("Create Slideshow");return k.jsxs(l,{onclick:this.$20,children:[c,a]})};d.$22=function(){var a;a=(a=this.props.coverData)!=null?(a=a.cover_video)!=null?a.isFromParentPage:a:a;return!this.$4()||this.props.coreData.currentCoverType==="cover_video"&&a||this.props.coreData.currentCoverType==="cover_slideshow"?null:k.jsx(l,{onclick:this.$23,children:i._("Reposition")})};d.$24=function(){switch(this.props.coreData.eventTourBadgeInfo.eventTourBadgeStatus){case"tour_badge_hidden":return k.jsx(l,{onclick:this.$25,children:i._("Show Tour Info")});case"tour_badge_shown":return k.jsx(l,{onclick:this.$25,children:i._("Hide Tour Info")});default:return null}};d.$27=function(){var a;a=(a=this.props.coverData)!=null?(a=a.cover_video)!=null?a.isFromParentPage:a:a;return!this.$4()||this.props.coreData.currentCoverType==="cover_video"&&a?null:k.jsx(l,{"data-testid":void 0,onclick:this.$26,children:i._("Remove")})};d.render=function(){if(!this.props.coreData.canViewerEditProfile||!this.state.videoUploaderInitParams)return null;var a=k.jsxs(b("ReactXUIMenu"),{children:[this.$6(),this.$7(),this.$15(),this.$19(),this.$21(),this.$22(),this.$24(),this.$27()]});return k.jsxs(b("PopoverMenu.react"),{className:"_3ihv"+(this.props.coreData.shouldShowEditMenuForAdmins?"":" hidden_elem"),layerBehaviors:[b("ContextualDialogArrow")],menu:a,onBlur:this.$29,onFocus:this.$28,position:"below",children:[k.jsx(b("PagesCoverCameraButton.react"),{expanded:!this.$4()||this.state.shouldExpandMenu,label:this.$5(),shouldShowCoverSlideshowMenuOptionNux:this.props.coverData.cover_slideshow.isCoverSlideshowEnabled&&this.props.coverData.cover_slideshow.shouldShowMenuNux&&this.props.coreData.currentCoverType!=="cover_slideshow",shouldshowOnTourBadgeMenuOptionNux:this.props.coreData.eventTourBadgeInfo.shouldShowNux}),k.jsx(b("PagesCoverRemoveCoverConfirmationDialog.react"),{coreData:this.props.coreData,onToggle:this.$10,pageID:this.props.pageID,shown:this.state.showRemoveCoverConfirmationDialog}),k.jsx(b("PagesCoverVideoBrowserDialog.react"),{dialogShown:this.state.showCoverVideoBrowserDialog,isForSlideshow:!1,onConfirm:this.$11,onToggle:this.$9,pageID:this.props.pageID})]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowStore",["AsyncRequest","CoverSlideshowUtil","FluxReduceStore","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","XPagesCoverSlideshowEditableItemsAsyncController","immutable"],(function(a,b,c,d,e,f){"use strict";a={pageID:0,isCoverSlideshowEnabled:!1,isCoverSlideshowVideoEnabled:!1,items:[],currentIndex:0,thumbnailHeight:0,thumbnailWidth:0,containerHeight:0,containerWidth:0,showLoadingScreen:!1,hasPendingChanges:!1,nuxTourSteps:[],shouldShowNUXTour:!1,isContentOptimizerOn:!1,shouldShowLoadingScreenOnPickerPlaceholder:!1,shouldShowMenuNux:!1,shouldShowEditSlideshowTooltip:!1,shouldAllowUploadingVideo:!0};var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(a));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$PagesCoverSlideshowStore6=new Set(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getInitialState=function(){return new g()};d.getCurrentState=function(){return{pageID:this.getState().get("pageID"),isCoverSlideshowEnabled:this.getState().get("isCoverSlideshowEnabled"),isCoverSlideshowVideoEnabled:this.getState().get("isCoverSlideshowVideoEnabled"),items:this.getState().get("items"),currentIndex:this.getState().get("currentIndex"),thumbnailHeight:this.getState().get("thumbnailHeight"),thumbnailWidth:this.getState().get("thumbnailWidth"),containerHeight:this.getState().get("containerHeight"),containerWidth:this.getState().get("containerWidth"),showLoadingScreen:this.getState().get("showLoadingScreen"),hasPendingChanges:this.getState().get("hasPendingChanges"),nuxTourSteps:this.getState().get("nuxTourSteps"),shouldShowNUXTour:this.getState().get("shouldShowNUXTour"),isContentOptimizerOn:this.getState().get("isContentOptimizerOn"),shouldShowLoadingScreenOnPickerPlaceholder:this.getState().get("shouldShowLoadingScreenOnPickerPlaceholder"),shouldShowMenuNux:this.getState().get("shouldShowMenuNux"),shouldShowEditSlideshowTooltip:this.getState().get("shouldShowEditSlideshowTooltip"),shouldAllowUploadingVideo:this.getState().get("shouldAllowUploadingVideo")}};d.$PagesCoverSlideshowStore7=function(){if(this.$PagesCoverSlideshowStore3===void 0||this.$PagesCoverSlideshowStore3===null){var a=b("XPagesCoverSlideshowEditableItemsAsyncController").getURIBuilder().setFBID("page_id",this.getState().get("pageID")).setString("optimizer_status","on").getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){b("PagesCoverSlideshowActionCreator").loadPrefilledItems(a.payload)}).send();return null}else return this.$PagesCoverSlideshowStore3};d.$PagesCoverSlideshowStore8=function(a,c){for(var d=0;d<c.length;d++)if(b("CoverSlideshowUtil").getMediaId(c[d])===a)return c[d];return null};d.$PagesCoverSlideshowStore9=function(a,c,d){if(!c)return a;var e=!1,f=a.map(function(a,f){if(b("CoverSlideshowUtil").getMediaId(a)===d){e=!0;return c}else return a});e||(f=Array.from(a),f.push(c));return f};d.$PagesCoverSlideshowStore10=function(a,b,c){var d=null;c<a.length?d=a.map(function(a,d){return c===d?b:a}):(d=Array.from(a),d.push(b),d);return d};d.$PagesCoverSlideshowStore11=function(a,b,c){var d=Array.from(a);if(b===c)return a;a=d.splice(b,1);d.splice(c,0,a[0]);return d};d.$PagesCoverSlideshowStore12=function(a,b){if(a<0)return 0;return a>=b?Math.max(b-1,0):a};d.$PagesCoverSlideshowStore13=function(){var a=b("XPagesCoverSlideshowEditableItemsAsyncController").getURIBuilder().setFBID("page_id",this.getState().get("pageID")).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){b("PagesCoverSlideshowActionCreator").loadEditableItems(a.payload)}).send();return null};d.$PagesCoverSlideshowStore14=function(a){return Array.from(a).map(function(a){a.shouldFocusOnItem=!1;return a})};d.reduce=function(a,c){var d,e=null,f=null,g=a.get("items"),h=a.get("currentIndex");switch(c.type){case"new_cover_data":d=(d=c.data)!=null?(d=d.coverData)!=null?d.cover_slideshow:d:d;d&&(a=a.set("items",d.items),a=a.set("isCoverSlideshowEnabled",d.isCoverSlideshowEnabled),a=a.set("isCoverSlideshowVideoEnabled",d.isCoverSlideshowVideoEnabled),a=a.set("thumbnailHeight",d.thumbnailHeight),a=a.set("thumbnailWidth",d.thumbnailWidth),a=a.set("containerHeight",d.containerHeight),a=a.set("containerWidth",d.containerWidth),this.$PagesCoverSlideshowStore1=Array.from(d.items),this.$PagesCoverSlideshowStore6.clear(),a=a.set("showLoadingScreen",!1),a=a.set("hasPendingChanges",!1),a=a.set("shouldShowNUXTour",d.shouldShowNUXTour),a=a.set("isContentOptimizerOn",d.isContentOptimizerOn),a=a.set("shouldShowMenuNux",d.shouldShowMenuNux),a=a.set("shouldShowEditSlideshowTooltip",d.shouldShowEditSlideshowTooltip),a=a.set("currentIndex",this.$PagesCoverSlideshowStore12(a.currentIndex,d.items.length)));a=a.set("shouldAllowUploadingVideo",!0);d=c.data.pageID;d&&(a=a.set("pageID",d));break;case"slideshow_edit":d=c.data.isCreate;d&&(a=a.set("hasPendingChanges",!0));this.$PagesCoverSlideshowStore13();break;case"slideshow_photo_previewing":if(c.data){d=c.data;var i=d.itemData;d=d.previousKey;e=this.$PagesCoverSlideshowStore9(g,i,d);a=a.set("items",e);a=a.set("hasPendingChanges",!0);a=a.set("isContentOptimizerOn",!1)}a=a.set("shouldShowLoadingScreenOnPickerPlaceholder",!1);break;case"slideshow_photo_uploading":i=c.data.uploadingIndex;i<g.length?(f=babelHelpers["extends"]({},g[i],{shouldShowLoadingIndicator:!0}),e=this.$PagesCoverSlideshowStore10(g,f,i),a=a.set("items",e),a=a.set("currentIndex",i)):a=a.set("shouldShowLoadingScreenOnPickerPlaceholder",!0);a=a.set("hasPendingChanges",!0);break;case"slideshow_video_start_upload":if(c.data){d=c.data;i=d.url;var j=d.uploadingIndex;d=d.videoUploadTempID;d={itemType:"video",carouselMediaData:{photoData:null,videoData:{videoID:d,containerHeight:this.getState().get("containerHeight"),containerWidth:this.getState().get("containerWidth"),isForSlideshow:!0,offsetType:0,offsetValue:0,shouldCoverVideoLoop:!0,status:"uploading",progress:0}},thumbnailData:{thumbnailID:null,thumbnailURI:i,thumbnailHeight:this.getState().get("thumbnailHeight"),thumbnailWidth:this.getState().get("thumbnailWidth")},shouldFocusOnItem:!0};e=this.$PagesCoverSlideshowStore10(g,d,j);a=a.set("items",e)}a=a.set("shouldAllowUploadingVideo",!1);a=a.set("hasPendingChanges",!0);break;case"slideshow_video_uploading":if(c.data){i=c.data;d=i.previousKey;j=i.progress;i=this.$PagesCoverSlideshowStore8(d,g);!!i&&!!i.carouselMediaData.videoData&&(i.carouselMediaData.videoData.progress=j,i.carouselMediaData.videoData.status="uploading",e=this.$PagesCoverSlideshowStore9(g,i,d),a=a.set("items",e))}break;case"slideshow_video_encoding":if(c.data){j=c.data;i=j.previousKey;d=j.progress;j=this.$PagesCoverSlideshowStore8(i,g);!!j&&!!j.carouselMediaData.videoData&&(j.carouselMediaData.videoData.progress=d,j.carouselMediaData.videoData.status="encoding",e=this.$PagesCoverSlideshowStore9(g,j,i),a=a.set("items",e))}break;case"slideshow_video_encode_finished":if(c.data){d=c.data;j=d.videoData;i=d.previousKey;d=this.$PagesCoverSlideshowStore8(i,g);if(!d)break;d=babelHelpers["extends"]({},d.thumbnailData);j={itemType:"video",carouselMediaData:{photoData:null,videoData:j},thumbnailData:d,isNewUpload:!0,shouldFocusOnItem:!0};e=this.$PagesCoverSlideshowStore9(g,j,i);a=a.set("items",e)}break;case"slideshow_video_setting_confirmed":if(c.data){d=c.data;j=d.videoData;i=d.preferredThumbnailID;var k=d.preferredThumbnailURL,l=d.previousKey;d=d.shouldFocusOnItem;j.status="previewing";j={itemType:"video",carouselMediaData:{photoData:null,videoData:j},thumbnailData:{thumbnailID:i,thumbnailURI:k,thumbnailHeight:this.getState().get("thumbnailHeight"),thumbnailWidth:this.getState().get("thumbnailWidth")},shouldFocusOnItem:d};e=this.$PagesCoverSlideshowStore9(g,j,l);a=a.set("shouldAllowUploadingVideo",!0);a=a.set("items",e);a=a.set("hasPendingChanges",!0);a=a.set("isContentOptimizerOn",!1)}break;case"slideshow_video_repositioned":if(c.data){i=c.data;k=i.itemRepositionedIndex;d=i.offsetType;j=i.offsetValue;f=babelHelpers["extends"]({},g[k]);(f.carouselMediaData.videoData.offsetType!==d||f.carouselMediaData.videoData.offsetValue!==j)&&(a=a.set("hasPendingChanges",!0));f.carouselMediaData.videoData.offsetType=d;f.carouselMediaData.videoData.offsetValue=j;e=this.$PagesCoverSlideshowStore10(g,f,k);a=a.set("items",e)}break;case"slideshow_video_uploading_failed":case"slideshow_video_encoding_failed":a=a.set("shouldAllowUploadingVideo",!0);break;case"slideshow_change_carousel_index":a=a.set("currentIndex",this.$PagesCoverSlideshowStore12(c.data.currentIndex,a.get("items").length));e=this.$PagesCoverSlideshowStore14(g);a=a.set("items",e);break;case"slideshow_item_repositioned":l=c.data.itemRepositionedIndex;this.$PagesCoverSlideshowStore6.has(l)||(this.$PagesCoverSlideshowStore6.add(l),b("PagesLogger").log(a.get("pageID"),b("PagesLoggerEventEnum").DRAG,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reposition_slideshow_item"}),a=a.set("hasPendingChanges",!0));break;case"slideshow_photo_removed":i=c.data.removedIndex;e=Array.from(g);e.splice(i,1);a=a.set("items",e);a=a.set("hasPendingChanges",!0);a=a.set("isContentOptimizerOn",!1);(h>i||h>=e.length)&&(a=a.set("currentIndex",this.$PagesCoverSlideshowStore12(h-1,e.length)));break;case"slideshow_editing_cancelled":e=Array.from(this.$PagesCoverSlideshowStore1);a=a.set("items",e);a=a.set("hasPendingChanges",!1);a=a.set("shouldAllowUploadingVideo",!0);a=a.set("currentIndex",this.$PagesCoverSlideshowStore12(Math.min(e.length-1,h),e.length));this.$PagesCoverSlideshowStore6.clear();break;case"slideshow_saving":a=a.set("showLoadingScreen",!0);a=a.set("hasPendingChanges",!1);a=a.set("shouldAllowUploadingVideo",!0);break;case"slideshow_change_order":d=c.data;j=d.fromIndex;f=d.toIndex;e=this.$PagesCoverSlideshowStore11(g,j,f);a=a.set("items",e);a=a.set("hasPendingChanges",!0);a=a.set("currentIndex",this.$PagesCoverSlideshowStore12(f,e.length));a=a.set("isContentOptimizerOn",!1);break;case"slideshow_nux_tour_element_loaded":if(a.get("shouldShowNUXTour")){k=c.data;l=k.context;i=k.step;h=k.description;d=k.position;(this.$PagesCoverSlideshowStore4===void 0||this.$PagesCoverSlideshowStore4===null)&&(this.$PagesCoverSlideshowStore4=[]);(this.$PagesCoverSlideshowStore5===void 0||this.$PagesCoverSlideshowStore5===null)&&(this.$PagesCoverSlideshowStore5=new Set());this.$PagesCoverSlideshowStore5.has(i)||(this.$PagesCoverSlideshowStore4.splice(i,0,{context:l,description:h,position:d}),this.$PagesCoverSlideshowStore5.add(i),a=a.set("nuxTourSteps",this.$PagesCoverSlideshowStore4))}break;case"slideshow_nux_tour_finished":a=a.set("shouldShowNUXTour",!1);break;case"slideshow_toggle_content_switcher":g=!!c.data;g?(this.$PagesCoverSlideshowStore2=a.get("items"),e=this.$PagesCoverSlideshowStore7(),e!==null&&(a=a.set("items",e))):this.$PagesCoverSlideshowStore2===void 0||this.$PagesCoverSlideshowStore2===null?this.$PagesCoverSlideshowStore2=a.get("items"):a=a.set("items",this.$PagesCoverSlideshowStore2);a=a.set("isContentOptimizerOn",g);a=a.set("hasPendingChanges",!0);break;case"slideshow_prefilled_photo_loaded":j=c.data.prefilledItems;this.$PagesCoverSlideshowStore3=j;a=a.set("items",j);break;case"slideshow_editable_item_loaded":f=c.data.editableItems;a=a.set("items",f);break;default:return a}return a};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesCoverDispatcher"))}),null);
__d("PagesCoverTrailerStore",["FluxReduceStore","PagesCoverDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{showsData:{title:""},viewerCoverTrailerState:"watch_trailer",isAdmin:!1,isAutoplayGated:!1,isImmersiveShowPage:!1,isShowPageNewCover:!1}};c.reduce=function(a,b){var c=null;switch(b.type){case"new_cover_data":b=(b=b.data)!=null?(b=b.coverData)!=null?b.cover_trailer:b:b;b!==null&&(c=babelHelpers["extends"]({},b),this.$PagesCoverTrailerStore1=c);break}return c||a};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesCoverDispatcher"))}),null);
__d("PagesCoverVideoStore",["FluxReduceStore","PagesCoverDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{videoID:"",status:"published",isViewerAdmin:!1,shouldShowChooseFromCoverVideoMenu:!1,isForSlideshow:!1,isFromParentPage:!1,isParentLocationPage:!1,shouldCoverVideoLoop:!1,minPlayableDurationInSec:20,maxPlayableDurationInSec:120,containerHeight:312,containerWidth:820,thumbnails:[],offsetType:0,offsetValue:0}};c.reduce=function(a,b){var c,d=null;switch(b.type){case"new_cover_data":this.$PagesCoverVideoStore1=b.data.pageID;c=(c=b.data)!=null?(c=c.coverData)!=null?c.cover_video:c:c;c&&(d=babelHelpers["extends"]({},a,c,{isForSlideshow:!1,playerOrigin:"page_timeline"}));break;case"video_repositioned":c=b.data;var e=c.offsetType;c=c.offsetValue;d=babelHelpers["extends"]({},a,{offsetType:e,offsetValue:c});break;case"video_start_upload":d=babelHelpers["extends"]({},a,{status:"uploading",progress:0,thumbnails:b.data.thumbnails});break;case"video_uploading":d=babelHelpers["extends"]({},a,{status:"uploading",progress:b.data.progress});break;case"video_encoding":d=babelHelpers["extends"]({},a,{status:"encoding",progress:b.data.progress});break;case"video_previewing":d=babelHelpers["extends"]({},a,b.data,{status:"previewing"});break;case"video_choosing_thumbnail":d=babelHelpers["extends"]({},a,b.data,{status:"choosing_thumbnail"});break;case"video_publishing":d=babelHelpers["extends"]({},a,{status:"publishing"});break;case"video_published":d=babelHelpers["extends"]({},a,{status:"published"},b.data);break;case"video_cancelling":default:d=a}return d||a};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesCoverDispatcher"))}),null);
__d("PagesLiveCoverVideoStore",["FluxReduceStore","PagesCoverDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a={videoID:null,canEnable:!1,isEnabled:!1,renderedWidth:812};var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(a));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new g()};c.reduce=function(a,b){switch(b.type){case"new_cover_data":b=b.data.coverData.cover_live_video;a=new g(b);return a;case"live_video_enable":a=a.set("isEnabled",!0);return a;case"live_video_disable":a=a.set("isEnabled",!1);return a;default:return a}};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesCoverDispatcher"))}),null);
__d("PagesCoverContainer.react",["cx","CenteredContainer.react","FluxContainer","ModernWatchQueueFollowedShowTapMutation","PagesCoverComponent.react","PagesCoverCoreStore","PagesCoverDispatcher","PagesCoverEditMenu.react","PagesCoverPhotoStore","PagesCoverSlideshowStore","PagesCoverTrailerStore","PagesCoverVideoStore","PagesLiveCoverVideoStore","React","RelayFBEnvironment","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesCoverCoreStore"),b("PagesLiveCoverVideoStore"),b("PagesCoverPhotoStore"),b("PagesCoverSlideshowStore"),b("PagesCoverTrailerStore"),b("PagesCoverVideoStore")]};c.calculateState=function(){return{coreData:b("PagesCoverCoreStore").getState(),coverData:{cover_live_video:b("PagesLiveCoverVideoStore").getState(),cover_photo:b("PagesCoverPhotoStore").getState(),cover_slideshow:b("PagesCoverSlideshowStore").getCurrentState(),cover_trailer:b("PagesCoverTrailerStore").getState(),cover_video:b("PagesCoverVideoStore").getState()}}};function c(c){var d;d=a.call(this,c)||this;b("PagesCoverDispatcher").explicitlyRegisterStores([b("PagesCoverCoreStore"),b("PagesLiveCoverVideoStore"),b("PagesCoverPhotoStore"),b("PagesCoverVideoStore"),b("PagesCoverTrailerStore"),b("PagesCoverSlideshowStore")]);b("PagesCoverDispatcher").dispatch({type:"new_cover_data",data:c});var e=b("PagesCoverTrailerStore").getState();if(!e||!e.isShowPageNewCover)return babelHelpers.assertThisInitialized(d);e=e.showsFeedbackData;if(e&&e.actorId){c=c.pageID;b("ModernWatchQueueFollowedShowTapMutation").commit(b("RelayFBEnvironment"),{pageID:c,actorID:e.actorId})}return d}var d=c.prototype;d.render=function(){if(!this.state.coreData.hasCoverSet&&!this.state.coreData.canViewerEditProfile)return null;var a=this.state.coreData.shouldShowLoadingOverlay?h.jsx("div",{className:"_b1w",children:h.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0,children:h.jsx(b("XUISpinner.react"),{background:"light",size:"large"})})}):null,c=this.props.isInSettingsPage===!0;return h.jsxs("div",{className:"_5_yy",children:[h.jsx(b("PagesCoverComponent.react"),{coverData:this.state.coverData,currentCoverType:this.state.coreData.currentCoverType,isEditMode:this.state.coreData.isEditMode,isInSettingsPage:c,isMigratedShowPage:this.props.isMigratedShowPage,pageID:this.props.pageID,referrer:this.props.referrer}),h.jsx(b("PagesCoverEditMenu.react"),babelHelpers["extends"]({pageID:this.props.pageID},this.state)),a]})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesBlueCrossAddStoryButton.react",["ix","cx","ActorURI","AsyncRequest","Image.react","PageContentTabLoadingDialog","React","ShimButton.react","XPagesComposerDialogController","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=g("489388"),k=g("624751");function l(a){switch(a){case"small":return j;default:return k}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.$1()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a=this.props.pageID;if(a===null||a===void 0)return;b("PageContentTabLoadingDialog").show();var c=b("XPagesComposerDialogController").getURIBuilder().setString("entry_point","pages_profile_pic_add_story").getURI();new(b("AsyncRequest"))().setURI(b("ActorURI").create(c,a)).setHandler(function(){b("PageContentTabLoadingDialog").hide()}).send()};d.render=function(){var a=this.props,c=a.borderWidth,d=a.bottomRightMargin;a=a.size;d="_6usj"+(d==="margin-4"?" margin-4":"")+(d==="margin-8"?" margin-8":"")+(c==="thin"?" border-thin":"")+(c==="thick"?" border-thick":"")+(a==="small"?" size-small":"")+(a==="normal"?" size-normal":"");return i.jsx(b("ShimButton.react"),{className:"_6uxp",onClick:this.$2,children:i.jsx("div",{className:d,children:i.jsx(b("Image.react"),{src:l(a)})})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCircularProfilePictureOverlay.react",["ix","cx","fbt","FDSText.react","Image.react","Link.react","React","XPhotoPermalinkController","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=i._("View Photo"),l=i._("Update"),m=i._("Add a Picture"),n=i._("Options");function o(a){return!a.canViewerEdit?j.jsxs(j.Fragment,{children:[j.jsx("div",{children:j.jsx(b("Image.react"),{src:g("504208")})}),j.jsx(b("FDSText.react"),{color:"white",size:"body3",weight:"bold",children:k})]}):a.showStoryRing?j.jsxs(j.Fragment,{children:[j.jsx("div",{children:j.jsx(b("Image.react"),{src:g("492300")})}),j.jsx("div",{className:"_6y7_",children:j.jsx(b("FDSText.react"),{color:"white",size:"body3",weight:"bold",children:n})}),j.jsx("div",{className:"_6y1q",children:j.jsx(b("Image.react"),{src:g("483253")})})]}):j.jsxs(j.Fragment,{children:[j.jsx("div",{children:j.jsx(b("Image.react"),{src:g("681203")})}),j.jsx(b("FDSText.react"),{color:"white",size:"body3",weight:"bold",children:a.hasProfilePhoto?l:m})]})}function a(a){var c=a.canViewerEdit,d=a.profilePictureData,e=a.showStoryRing;a=a.onOverlayClick;var f=d.photoID;d=d.photoSourcePageID;if((!e||f==null)&&!c)return null;e=j.jsx("div",{className:"_6v9b",children:j.jsx("div",{className:"_6v8o"+(e?" size-small":"")+(e?"":" size-large"),children:j.jsx("div",{className:"_6w7n",children:j.jsx(o,{canViewerEdit:c,hasProfilePhoto:f!==null,showStoryRing:e})})})});if(!c){c=b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",f).setString("vanity",d).getURI();return j.jsx(b("Link.react"),{"aria-label":i._("Profile picture"),className:"_2dgj",href:c,rel:"theater",children:e})}return j.jsx(b("Link.react"),{"aria-label":i._("Update menu"),className:"_2dgj",onClick:a,children:e})}e.exports=a}),null);
__d("PagesProfilePictureLink.react",["cx","fbt","Link.react","React","VideoData","XPhotoPermalinkController","XVideoPermalinkController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){var c=a.children,d=a.loading,e=a.photoSourcePageID,f=a.photoID,g=a.videoData;g=g!==null?new(b("VideoData"))(g).getVideoID():null;if(f===null&&g===null||d)return i.Children.only(c);d=null;g!==null?d=b("XVideoPermalinkController").getURIBuilder().setString("vanity",e).setInt("video_id",g).getURI():d=b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",f).setString("vanity",e).getURI();return i.jsx(b("Link.react"),{"aria-label":h._("Profile picture"),className:"_2dgj",href:d,rel:"theater",children:a.children})};e.exports=a}),null);
__d("XProfilePicCameraPhotoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/camera_photo_dialog/",{profile_id:{type:"Int",required:!0},source:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("XProfilePicMenuDialogEditThumbnailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/menu_dialog/edit_thumbnail/",{profile_id:{type:"FBID",required:!0}})}),null);
__d("XProfilePicRemoveDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/remove_dialog/",{profile_id:{type:"Int",required:!0},delete_from_album:{type:"Bool",defaultValue:!1},__asyncDialog:{type:"Int"}})}),null);
__d("PagesProfilePictureStoryEditMenu.react",["cx","fbt","ActorURI","FBStoriesActions","FBStoriesStore","FBStoriesViewer2","FDSText.react","FileInput.react","FileInputUploader","Link.react","PagesProfilePictureActions","React","ReactDOM","StoriesLoggingConstants","SUIActionMenu.react","SUIBusinessTheme","XPagesProfilePictureUploadAsyncController","XPhotoBrowserDialogController","XPhotoPermalinkController","XProfilePicCameraPhotoController","XProfilePicMenuDialogEditThumbnailController","XProfilePicRemoveDialogController","XProfilePictureOverlayLandingController","goURI"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesProfilePictureActions").updateProfilePicture,j=b("React"),k=h._("Choose From Photos"),l=h._("Add Frame"),m=h._("Take Photo"),n=h._("Upload Photo"),o=h._("Edit Thumbnail"),p=h._("Remove"),q=h._("Update Profile Photo"),r=h._("Add Profile Photo"),s=h._("View Profile Photo"),t=h._("View Story"),u=h._("Profile picture"),v=h._("Page stories");function w(a,b){return b!==a}function x(a){return j.jsx(b("FileInput.react"),{accept:"image/*",containerClassName:"_6xfx","data-testid":void 0,display:"inline-block",name:"profile_pic",onChange:a.onUploadPhoto,ref:a.fileInputRef,children:j.jsx(b("Link.react"),{className:"_6xfx",href:"#",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:n})})})}function y(a){return j.jsx(b("Link.react"),{ajaxify:a.uri,className:"_6xfx",href:"#",rel:"dialog",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:a.labelText})})}function z(a){a=a.profilePictureData;var c=a.pageID,d=a.photoID;a=a.photoSourcePageID;d=b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",d).setString("vanity",a).getURI();return j.jsx(b("Link.react"),{"aria-label":u,className:"_6xfx",href:b("ActorURI").create(d,c),rel:"theater",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",weight:"bold",children:s})})}function A(a){return j.jsx(b("Link.react"),{"aria-label":v,className:"_6xfx",onClick:a.onViewStoryClick,children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",weight:"bold",children:t})})}function B(a,c){return!a?null:b("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",4).setEnum("generator",1).setString("data","pages_profile_picture").setInt("id",c).getURI()}function C(a){var c=b("XProfilePicCameraPhotoController").getURIBuilder().setInt("profile_id",a).setString("source","timeline").getURI();return b("ActorURI").create(c,a)}function D(a){var c=a.pageID,d=a.photoID,e=a.photoIsSquare;a=a.photoSourcePageID;if(d===null||e||w(c,a))return null;d=b("XProfilePicMenuDialogEditThumbnailController").getURIBuilder().setFBID("profile_id",c).getURI();return b("ActorURI").create(d,c)}function E(a){var c=a.pageID,d=a.photoID;a=a.photoSourcePageID;if(d===null||w(c,a))return null;d=b("XProfilePicRemoveDialogController").getURIBuilder().setInt("profile_id",c).getURI();return b("ActorURI").create(d,c)}function F(a,c,d,e){var f=c.pageID,g=c.pageHasPhotos,h=c.photoID,i=[];g=B(g,f);g!==null&&i.push({type:"item",label:j.jsx(y,{labelText:k,uri:g}),onClick:d});if(h!=null){var n=b("XProfilePictureOverlayLandingController").getURIBuilder().setInt("profile_id",f).setInt("photo_id",h).getURI();i.push({type:"item",label:j.jsx(y,{labelText:l,uri:null}),onClick:function(){return b("goURI")(n)}})}i.push({type:"item",label:j.jsx(y,{labelText:m,uri:C(f)}),onClick:d});i.push({type:"item",label:j.jsx(x,{fileInputRef:a,onUploadPhoto:e}),onClick:function(){}});g=D(c);g!==null&&i.push({type:"item",label:j.jsx(y,{labelText:o,uri:g}),onClick:d});h=E(c);h!==null&&i.push({type:"item",label:j.jsx(y,{labelText:p,uri:h}),onClick:d});return i}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=j.createRef(),d.$3=function(){var a=d.props,c=a.profilePictureData;a=a.onMenuClick;c=c.pageID;i();c=b("ActorURI").create(b("XPagesProfilePictureUploadAsyncController").getURIBuilder().setFBID("page_id",c).getURI(),c);new(b("FileInputUploader"))(b("ReactDOM").findDOMNode(d.$2.current)).setURI(c).setAllowCrossOrigin(!0).send();a()},d.$4=function(){var a=d.props.bucketID;if(a!==null&&a!==void 0){var c=b("FBStoriesActions").userSelectedBucket(a)&&b("FBStoriesStore").getThreadCountForSelectedBucket()>0;c&&b("FBStoriesViewer2").open({bucketID:a,openSource:b("StoriesLoggingConstants").ACTION_SOURCE.PAGE_PROFILE,cardID:null,traySessionID:null})}},d.$5=function(a){d.$1=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1&&this.$1.focus()};d.render=function(){var a=this.props,c=a.profilePictureData,d=a.showCircularLoader,e=a.showStoryRing,f=a.onMenuClick,g=a.onMouseEnterMenu,h=a.onMouseLeaveMenu;a=a.onOverlayBlur;var i=c.photoID,k=[],l=F(this.$2,c,f,this.$3),m=j.jsx(b("SUIActionMenu.react"),{items:l,theme:b("SUIBusinessTheme")});e&&(k.push({type:"item",label:j.jsx(A,{onViewStoryClick:this.$4}),onClick:f}),i!==null&&k.push({type:"item",label:j.jsx(z,{profilePictureData:c}),onClick:f}),k.push({type:"group",label:i!==null?q:r,items:l}),m=j.jsx(b("SUIActionMenu.react"),{items:k,theme:b("SUIBusinessTheme")}));return j.jsx("div",{className:"_6xgp"+(!e&&!d?" small-padding":"")+(e||d?" large-padding":""),onBlur:a,onMouseEnter:g,onMouseLeave:h,ref:this.$5,tabIndex:"0",children:m})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesProfilePictureStoryLink.react",["cx","fbt","FBStoriesActions","FBStoriesStore","FBStoriesViewer2","Link.react","React","StoriesLoggingConstants"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h._("Page stories");function a(a){var c=a.bucketID;a=a.children;var d=function(){b("FBStoriesActions").userSelectedBucket(c)&&b("FBStoriesStore").getThreadCountForSelectedBucket()>0&&b("FBStoriesViewer2").open({bucketID:c,openSource:b("StoriesLoggingConstants").ACTION_SOURCE.PAGE_PROFILE,cardID:null,traySessionID:null})};return i.jsx(b("Link.react"),{"aria-label":j,className:"_2dgj",onClick:d,children:a})}e.exports=a}),null);
__d("PagesCircularProfilePicture.react",["cx","Image.react","PagesBlueCrossAddStoryButton.react","PagesCircularProfilePictureOverlay.react","PagesProfilePictureActions","PagesProfilePictureLink.react","PagesProfilePictureStoryEditMenu.react","PagesProfilePictureStoryLink.react","PagesStoryCreationStatusTypes","ProfileHeaderSpinner.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesProfilePictureActions").updateProfilePictureStory,i=b("React"),j=172,k=156;function l(a){var c=a.canViewerEdit,d=a.overlayShown,e=a.profilePictureData,f=a.showCircularLoader,g=a.showStoryRing,h=a.storyBucket,l=a.onMouseEnterProfilePicture,m=a.onMouseLeaveProfilePicture;a=a.onOverlayClick;var n=e.loading,o=e.uri,p=f||g?k:j;o=i.jsx("div",{className:"_6tay",style:{width:p,height:p},children:i.jsx(b("Image.react"),{className:"_6tb5"+(n?" _179t":""),height:p,src:o,width:p})});return i.jsxs("div",{className:"_6taw",children:[i.jsxs("div",{className:"_6tax",onMouseEnter:l,onMouseLeave:m,children:[g?i.jsx(b("PagesProfilePictureStoryLink.react"),{bucketID:h.bucketID,children:o}):i.jsx(b("PagesProfilePictureLink.react"),babelHelpers["extends"]({},e,{children:o})),!n&&d&&i.jsx(b("PagesCircularProfilePictureOverlay.react"),{canViewerEdit:c,onOverlayClick:a,profilePictureData:e,showStoryRing:g||f})]}),i.jsx(b("ProfileHeaderSpinner.react"),{shown:n})]})}c=function(c){babelHelpers.inheritsLoose(d,c);function d(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=c.call.apply(c,[this].concat(f))||this,d.state={menuShown:!1,mouseOnMenu:!1,overlayShown:((a=d.props)!=null?(a=a.profilePictureData)!=null?a.photoID:a:a)===null},d.$1=function(){d.setState({overlayShown:!0})},d.$2=function(){var a;((a=d.props)!=null?(a=a.profilePictureData)!=null?a.photoID:a:a)!==null&&d.setState({overlayShown:!1})},d.$3=function(){d.setState({mouseOnMenu:!0})},d.$4=function(){d.setState({mouseOnMenu:!1})},d.$5=function(){var a=d.state.menuShown;a&&d.$4();d.setState({menuShown:!a})},d.$6=function(a){var b;b=(b=a)!=null?b.relatedTarget:b;a=(a=a)!=null?a.currentTarget:a;if(b instanceof HTMLElement&&a instanceof HTMLElement){b=b&&b.parentElement;var c=b&&b.parentElement;if(b===a||c===a)return}((b=d.props)!=null?(b=b.profilePictureData)!=null?b.photoID:b:b)!==null&&!d.state.mouseOnMenu&&!d.state.overlayShown&&d.setState({menuShown:!1,mouseOnMenu:!1,overlayShown:!1})},b)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.shouldComponentUpdate=function(a){var c,d;d=(d=this.props)!=null?(d=d.profilePictureData)!=null?d.profilePicStoryData:d:d;c=(c=a)!=null?(c=c.profilePictureData)!=null?c.profilePicStoryData:c:c;if(!c)return!0;c=c.get("storyCreationStatus");if(c===b("PagesStoryCreationStatusTypes").STORY_CREATION_SUCCESS){d=!!d&&d.get("storyCreationStatus");d=d===b("PagesStoryCreationStatusTypes").STORY_CREATION_STARTED&&c!==b("PagesStoryCreationStatusTypes").STORY_CREATION_STARTED;if(d){return((c=a)!=null?(c=c.storyBucket)!=null?c.latestThreadCreationTime:c:c)!==((d=this.props)!=null?(d=d.storyBucket)!=null?d.latestThreadCreationTime:d:d)}else return!!a.storyBucket}return!0};e.componentDidUpdate=function(a){!a.storyBucket&&!!this.props.storyBucket&&h(null)};e.render=function(){var a,c,d=this.props,e=d.profilePictureData;d=d.storyBucket;c=(c=e)!=null?c.profilePicStoryData:c;a=!!((a=e)!=null?a.editable:a);c=!!c&&c.get("storyCreationStatus")===b("PagesStoryCreationStatusTypes").STORY_CREATION_STARTED;var f=this.state,g=f.overlayShown;f=f.menuShown;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"_6taw"+(!!d||c?" _6tv-":"")+(c?" _6zia":"")+(!!d&&d.hasUnseenThreads?" _6two":""),children:[i.jsx(l,{canViewerEdit:a,onMouseEnterProfilePicture:this.$1,onMouseLeaveProfilePicture:this.$2,onOverlayClick:this.$5,overlayShown:g||f,profilePictureData:e,showCircularLoader:c,showStoryRing:!!d,storyBucket:d}),c&&i.jsx("div",{className:"_6zg7"}),a?i.jsx(b("PagesBlueCrossAddStoryButton.react"),{bottomRightMargin:!!d||c?"margin-4":"margin-8",pageID:e.pageID,size:"normal"}):null]}),f&&i.jsx(b("PagesProfilePictureStoryEditMenu.react"),{bucketID:d?d.bucketID:null,onMenuClick:this.$5,onMouseEnterMenu:this.$3,onMouseLeaveMenu:this.$4,onOverlayBlur:this.$6,profilePictureData:e,showCircularLoader:c,showStoryRing:!!d})]})};return d}(i.Component);e.exports=c}),null);
__d("PagesCircularProfilePictureContainer.react",["CurrentUser","FBStoriesActions","FBStoriesDispatcher","FBStoriesStore","FBStoriesViewerBucketQueryWebGraphQLQuery","FluxContainer","PagesCircularProfilePicture.react","PagesStoryCreationStatusTypes","React","WebGraphQL","fbStoriesRootSelectors","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("FBStoriesStore")]};c.calculateState=function(){var a=b("FBStoriesStore").getState();return{storyBucketDescriptors:b("fbStoriesRootSelectors").bucketDescriptors(a)}};var d=c.prototype;d.componentDidMount=function(){b("FBStoriesDispatcher").explicitlyRegisterStores([b("FBStoriesStore")]);var a=this.state.storyBucketDescriptors;a=a&&a[0];a||this.$1()};d.componentDidUpdate=function(a,c){a=this.state.storyBucketDescriptors;a=a&&a[0];c=c.storyBucketDescriptors&&c.storyBucketDescriptors[0];!!c&&!a&&this.$1();c=(c=this.props)!=null?(c=c.profilePictureData)!=null?c.profilePicStoryData:c:c;c=!!c&&c.get("storyCreationStatus");c===b("PagesStoryCreationStatusTypes").STORY_CREATION_SUCCESS&&!a&&this.$1()};d.componentWillUnmount=function(){b("FBStoriesActions").resetStore()};d.$1=function(){var a=this,c;if(!b("CurrentUser").isLoggedIn())return;c=(c=this.props)!=null?(c=c.profilePictureData)!=null?c.profilePicStoryData:c:c;c=c&&c.get("bucketID");if(c===null||c===void 0)return;c=new(b("FBStoriesViewerBucketQueryWebGraphQLQuery"))({bucketID:c,threadCount:100});b("promiseDone")(b("WebGraphQL").exec(c),function(b){return a.$2(b)},function(b){return a.$3(b)})};d.$2=function(a){a=(a=a)!=null?a.node:a;if(a===null||a===void 0)return;b("FBStoriesActions").loadData(b("CurrentUser").getName(),b("CurrentUser").getID(),null,null,[a])};d.$3=function(a){};d.render=function(){var a=this.state.storyBucketDescriptors;return g.jsx(b("PagesCircularProfilePicture.react"),{profilePictureData:this.props.profilePictureData,storyBucket:a&&a[0]})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesProfilePictureStore",["FluxReduceStore","PagesHeaderDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{currentCoverType:"cover_photo",editable:!1,loading:!1,modules:{PagesProfilePictureEditMenu:null},pageHasPhotos:!1,pageID:"0",photoID:null,photoIsSquare:!0,photoSourcePageID:"0",size:0,uri:null,videoData:null,isShowPageProfileInHeader:!1,profilePicStoryData:null}};d.reduce=function(a,c){var d;switch(c.type){case"profile_picture_data":return babelHelpers["extends"]({},a,c.data,{profilePicStoryData:b("immutable").fromJS((d=c)!=null?(d=d.data)!=null?d.profilePicStoryData:d:d)});case"profile_picture_update":return babelHelpers["extends"]({},a,c.data);case"profile_picture_story_uploading":var e;d=a.profilePicStoryData;if(!d)return babelHelpers["extends"]({},a);e=(e=c)!=null?(e=e.data)!=null?e.profilePicStoryData:e:e;d=d.set("storyCreationStatus",!!e&&e.get("storyCreationStatus"));return babelHelpers["extends"]({},a,c.data,{profilePicStoryData:d})}return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesHeaderDispatcher"))}),null);
__d("PagesProfilePictureContainer.react",["FluxContainer","PagesCircularProfilePictureContainer.react","PagesHeaderDispatcher","PagesProfilePictureStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesProfilePictureStore")]};c.calculateState=function(){return b("PagesProfilePictureStore").getState()};function c(c){c=a.call(this,c)||this;b("PagesHeaderDispatcher").explicitlyRegisterStore(b("PagesProfilePictureStore"));b("PagesHeaderDispatcher").dispatch({data:c.props,type:"profile_picture_data"});return c}var d=c.prototype;d.render=function(){return g.jsx(b("PagesCircularProfilePictureContainer.react"),{profilePictureData:this.state})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesUsername.react",["ix","cx","fbt","BootloadedComponent.react","ChatOpenTabEventLogger","FantaTabActions","Image.react","JSResource","Link.react","LoadingDialog.react","MercuryIDs","PageContentTabMessageOwnerDialog","React","TooltipLink.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={showDialog:!1};return b}var d=c.prototype;d.render=function(){var a=this,c=this.props.username;if(c!=null)return this.props.isMessagingEnabled?j.jsx(b("TooltipLink.react"),{className:"_2wmb",href:"#",onClick:this.$1(),position:"below",tooltip:this.$2(c),children:j.jsxs("span",{children:[j.jsx(b("Image.react"),{className:"_3mj1",src:g("123858")}),"@"+c]})}):j.jsx(b("TooltipLink.react"),{className:"_2wmb",href:"#",position:"below",tooltip:this.$2(c),children:"@"+c});if(!this.props.editable)return null;var d=null;this.state.showDialog&&(d=j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("PageUsernameEditDialog.react").__setRef("PagesUsername.react"),bootloadPlaceholder:j.jsx(b("LoadingDialog.react"),{}),existingUsername:c,onDialogToggle:function(b){a.setState({showDialog:b})},pageID:this.props.pageID,pageName:this.props.name,profilePictureSrc:this.props.usernameEditDialogProfilePictureURI}));return j.jsxs("div",{children:[j.jsx(b("Link.react"),{className:"_2wmb",onClick:function(){a.setState({showDialog:!0})},children:i._("Create Page \u0040Username")}),d]})};d.$2=function(a){return this.props.editable&&!this.props.isMessagingEnabled?i._("People can search for {username of a Page} to find your Page easily. You can change your \u0040username in the Page Info section.",[i._param("username of a Page","@"+a)]):this.props.isMessagingEnabled&&this.props.editable?i._("Send {username of a Page} a message.",[i._param("username of a Page","@"+a)]):i._("Search for {username of a Page} on Facebook or in Messenger to find this Page easily.",[i._param("username of a Page","@"+a)])};d.$1=function(){var a=this,c=this.props.isMessagingEnabled&&!this.props.showModal,d=this.props.isMessagingEnabled&&this.props.showModal;if(d)return function(c){b("PageContentTabMessageOwnerDialog").show(a.props.name,a.props.pageID)};else if(c)return function(c){c=b("MercuryIDs").getThreadIDFromUserID(a.props.pageID);b("FantaTabActions").openTab(c);b("ChatOpenTabEventLogger").logUserClickOpen("page_username",a.props.pageID)};return null};return c}(j.Component);e.exports=a}),null);
__d("EntityTitle.react",["csx","cx","AutoScalingContent.react","CSS","DOMContainer.react","DOMQuery","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(a,b){c.setState({noResize:!0});return 1};c.state={noResize:!1};return c}var d=c.prototype;d.render=function(){var a=this.props.title;(!this.props.autoScale||this.state.noResize)&&b("CSS").addClass(a,"_3d2d");if(!this.props.autoScale){b("CSS").addClass(a,"_3d2f");return i.jsx(b("DOMContainer.react"),{children:a})}var c=b("DOMQuery").scry(a,"._3d2h *");c.length>0&&b("CSS").addClass(a,"_3d2g");return i.jsx(b("AutoScalingContent.react"),{handleMinWidthRatioViolation:this.$1,minWidthRatio:.7,children:i.jsx(b("DOMContainer.react"),{children:a})})};return c}(i.Component);a.defaultProps={autoScale:!0};e.exports=a}),null);