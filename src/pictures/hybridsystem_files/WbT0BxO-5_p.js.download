if (self.CavalryLogger) { CavalryLogger.start_js(["rnihk"]); }

/**
 * License: https://www.facebook.com/legal/license/oyybAxN87_l/
 */
__d("ieee754-1.1.13",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){g.read=function(a,b,c,d,e){var f,g=e*8-d-1,h=(1<<g)-1,i=h>>1,j=-7;e=c?e-1:0;c=c?-1:1;var k=a[b+e];e+=c;f=k&(1<<-j)-1;k>>=-j;j+=g;for(;j>0;f=f*256+a[b+e],e+=c,j-=8);g=f&(1<<-j)-1;f>>=-j;j+=d;for(;j>0;g=g*256+a[b+e],e+=c,j-=8);if(f===0)f=1-i;else if(f===h)return g?NaN:(k?-1:1)*Infinity;else g=g+Math.pow(2,d),f=f-i;return(k?-1:1)*g*Math.pow(2,f-d)},g.write=function(a,b,c,d,e,f){var g,h,i,j=f*8-e-1,k=(1<<j)-1,l=k>>1,m=e===23?Math.pow(2,-24)-Math.pow(2,-77):0;f=d?0:f-1;d=d?1:-1;var n=b<0||b===0&&1/b<0?1:0;b=Math.abs(b);isNaN(b)||b===Infinity?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),g+l>=1?b+=m/i:b+=m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g=g+l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));for(;e>=8;a[c+f]=h&255,f+=d,h/=256,e-=8);g=g<<e|h;j+=e;for(;j>0;a[c+f]=g&255,f+=d,g/=256,j-=8);a[c+f-d]|=n*128}}var j=!1,k=function(){j||(j=!0,i());return h.exports};a=function(a){switch(a){case void 0:return k()}};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("buffer-5.2.1",["base64-js-1.3.1","ieee754-1.1.13"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("base64-js-1.3.1")),h=a(b("ieee754-1.1.13")),i={},j={exports:i};function k(){var a=g(),b=h();i.Buffer=f;i.SlowBuffer=s;i.INSPECT_MAX_BYTES=50;var c=2147483647;i.kMaxLength=c;f.TYPED_ARRAY_SUPPORT=d();!f.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof emptyFunction==="function";function d(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return a.foo()===42}catch(a){return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){return!f.isBuffer(this)?void 0:this.buffer}});Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){return!f.isBuffer(this)?void 0:this.byteOffset}});function e(a){if(a>c)throw new RangeError('The value "'+a+'" is invalid for option "size"');a=new Uint8Array(a);a.__proto__=f.prototype;return a}function f(a,b,c){if(typeof a==="number"){if(typeof b==="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(a)}return j(a,b,c)}typeof Symbol!=="undefined"&&Symbol.species!=null&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});f.poolSize=8192;function j(a,b,c){if(typeof a==="string")return n(a,b);if(ArrayBuffer.isView(a))return o(a);if(a==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(Z(a,ArrayBuffer)||a&&Z(a.buffer,ArrayBuffer))return p(a,b,c);if(typeof a==="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var d=a.valueOf&&a.valueOf();if(d!=null&&d!==a)return f.from(d,b,c);d=q(a);if(d)return d;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]==="function")return f.from(a[Symbol.toPrimitive]("string"),b,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}f.from=function(a,b,c){return j(a,b,c)};f.prototype.__proto__=Uint8Array.prototype;f.__proto__=Uint8Array;function k(a){if(typeof a!=="number")throw new TypeError('"size" argument must be of type number');else if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function l(a,b,c){k(a);if(a<=0)return e(a);return b!==void 0?typeof c==="string"?e(a).fill(b,c):e(a).fill(b):e(a)}f.alloc=function(a,b,c){return l(a,b,c)};function m(a){k(a);return e(a<0?0:r(a)|0)}f.allocUnsafe=function(a){return m(a)};f.allocUnsafeSlow=function(a){return m(a)};function n(a,b){(typeof b!=="string"||b==="")&&(b="utf8");if(!f.isEncoding(b))throw new TypeError("Unknown encoding: "+b);var c=t(a,b)|0,d=e(c);a=d.write(a,b);a!==c&&(d=d.slice(0,a));return d}function o(a){var b=a.length<0?0:r(a.length)|0,c=e(b);for(var d=0;d<b;d+=1)c[d]=a[d]&255;return c}function p(a,b,c){if(b<0||a.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<b+(c||0))throw new RangeError('"length" is outside of buffer bounds');var d;b===void 0&&c===void 0?d=new Uint8Array(a):c===void 0?d=new Uint8Array(a,b):d=new Uint8Array(a,b,c);d.__proto__=f.prototype;return d}function q(a){if(f.isBuffer(a)){var b=r(a.length)|0,c=e(b);if(c.length===0)return c;a.copy(c,0,0,b);return c}if(a.length!==void 0)return typeof a.length!=="number"||$(a.length)?e(0):o(a);if(a.type==="Buffer"&&Array.isArray(a.data))return o(a.data)}function r(a){if(a>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return a|0}function s(a){+a!=a&&(a=0);return f.alloc(+a)}f.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==f.prototype};f.compare=function(a,b){Z(a,Uint8Array)&&(a=f.from(a,a.offset,a.byteLength));Z(b,Uint8Array)&&(b=f.from(b,b.offset,b.byteLength));if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;var c=a.length,d=b.length;for(var e=0,g=Math.min(c,d);e<g;++e)if(a[e]!==b[e]){c=a[e];d=b[e];break}if(c<d)return-1;return d<c?1:0};f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};f.concat=function(a,b){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return f.alloc(0);var c;if(b===void 0){b=0;for(c=0;c<a.length;++c)b+=a[c].length}b=f.allocUnsafe(b);var d=0;for(c=0;c<a.length;++c){var e=a[c];Z(e,Uint8Array)&&(e=f.from(e));if(!f.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(b,d);d+=e.length}return b};function t(a,b){if(f.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||Z(a,ArrayBuffer))return a.byteLength;if(typeof a!=="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);var c=a.length,d=arguments.length>2&&arguments[2]===!0;if(!d&&c===0)return 0;var e=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return U(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return X(a).length;default:if(e)return d?-1:U(a).length;b=(""+b).toLowerCase();e=!0}}f.byteLength=t;function u(a,b,c){var d=!1;(b===void 0||b<0)&&(b=0);if(b>this.length)return"";(c===void 0||c>this.length)&&(c=this.length);if(c<=0)return"";c>>>=0;b>>>=0;if(c<=b)return"";a||(a="utf8");while(!0)switch(a){case"hex":return K(this,b,c);case"utf8":case"utf-8":return F(this,b,c);case"ascii":return I(this,b,c);case"latin1":case"binary":return J(this,b,c);case"base64":return E(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();d=!0}}f.prototype._isBuffer=!0;function v(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}f.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)v(this,b,b+1);return this};f.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)v(this,b,b+3),v(this,b+1,b+2);return this};f.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)v(this,b,b+7),v(this,b+1,b+6),v(this,b+2,b+5),v(this,b+3,b+4);return this};f.prototype.toString=function(){var a=this.length;if(a===0)return"";return arguments.length===0?F(this,0,a):u.apply(this,arguments)};f.prototype.toLocaleString=f.prototype.toString;f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:f.compare(this,a)===0};f.prototype.inspect=function(){var a,b=i.INSPECT_MAX_BYTES;a=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim();this.length>b&&(a+=" ... ");return"<Buffer "+a+">"};f.prototype.compare=function(a,b,c,d,e){Z(a,Uint8Array)&&(a=f.from(a,a.offset,a.byteLength));if(!f.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);b===void 0&&(b=0);c===void 0&&(c=a?a.length:0);d===void 0&&(d=0);e===void 0&&(e=this.length);if(b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;b>>>=0;c>>>=0;d>>>=0;e>>>=0;if(this===a)return 0;var g=e-d,h=c-b,i=Math.min(g,h);d=this.slice(d,e);e=a.slice(b,c);for(var a=0;a<i;++a)if(d[a]!==e[a]){g=d[a];h=e[a];break}if(g<h)return-1;return h<g?1:0};function w(a,b,c,d,e){if(a.length===0)return-1;typeof c==="string"?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648);c=+c;$(c)&&(c=e?0:a.length-1);c<0&&(c=a.length+c);if(c>=a.length)if(e)return-1;else c=a.length-1;else if(c<0)if(e)c=0;else return-1;typeof b==="string"&&(b=f.from(b,d));if(f.isBuffer(b))return b.length===0?-1:x(a,b,c,d,e);else if(typeof b==="number"){b=b&255;if(typeof Uint8Array.prototype.indexOf==="function")if(e)return Uint8Array.prototype.indexOf.call(a,b,c);else return Uint8Array.prototype.lastIndexOf.call(a,b,c);return x(a,[b],c,d,e)}throw new TypeError("val must be string, number or Buffer")}function x(a,b,c,d,e){var f=1,g=a.length,h=b.length;if(d!==void 0){d=String(d).toLowerCase();if(d==="ucs2"||d==="ucs-2"||d==="utf16le"||d==="utf-16le"){if(a.length<2||b.length<2)return-1;f=2;g/=2;h/=2;c/=2}}function i(a,b){if(f===1)return a[b];else return a.readUInt16BE(b*f)}if(e){d=-1;for(e=c;e<g;e++)if(i(a,e)===i(b,d===-1?0:e-d)){d===-1&&(d=e);if(e-d+1===h)return d*f}else d!==-1&&(e-=e-d),d=-1}else{c+h>g&&(c=g-h);for(e=c;e>=0;e--){d=!0;for(var g=0;g<h;g++)if(i(a,e+g)!==i(b,g)){d=!1;break}if(d)return e}}return-1}f.prototype.includes=function(a,b,c){return this.indexOf(a,b,c)!==-1};f.prototype.indexOf=function(a,b,c){return w(this,a,b,c,!0)};f.prototype.lastIndexOf=function(a,b,c){return w(this,a,b,c,!1)};function y(a,b,c,d){c=Number(c)||0;var e=a.length-c;!d?d=e:(d=Number(d),d>e&&(d=e));e=b.length;d>e/2&&(d=e/2);for(var e=0;e<d;++e){var f=parseInt(b.substr(e*2,2),16);if($(f))return e;a[c+e]=f}return e}function z(a,b,c,d){return Y(U(b,a.length-c),a,c,d)}function A(a,b,c,d){return Y(V(b),a,c,d)}function B(a,b,c,d){return A(a,b,c,d)}function C(a,b,c,d){return Y(X(b),a,c,d)}function D(a,b,c,d){return Y(W(b,a.length-c),a,c,d)}f.prototype.write=function(a,b,c,d){if(b===void 0)d="utf8",c=this.length,b=0;else if(c===void 0&&typeof b==="string")d=b,c=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(c)?(c=c>>>0,d===void 0&&(d="utf8")):(d=c,c=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var e=this.length-b;(c===void 0||c>e)&&(c=e);if(a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");e=!1;for(;;)switch(d){case"hex":return y(this,a,b,c);case"utf8":case"utf-8":return z(this,a,b,c);case"ascii":return A(this,a,b,c);case"latin1":case"binary":return B(this,a,b,c);case"base64":return C(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,a,b,c);default:if(e)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase();e=!0}};f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(b,c,d){if(c===0&&d===b.length)return a.fromByteArray(b);else return a.fromByteArray(b.slice(c,d))}function F(a,b,c){c=Math.min(a.length,c);var d=[];b=b;while(b<c){var e=a[b],f=null,g=e>239?4:e>223?3:e>191?2:1;if(b+g<=c){var h,i,j,k;switch(g){case 1:e<128&&(f=e);break;case 2:h=a[b+1];(h&192)===128&&(k=(e&31)<<6|h&63,k>127&&(f=k));break;case 3:h=a[b+1];i=a[b+2];(h&192)===128&&(i&192)===128&&(k=(e&15)<<12|(h&63)<<6|i&63,k>2047&&(k<55296||k>57343)&&(f=k));break;case 4:h=a[b+1],i=a[b+2],j=a[b+3],(h&192)===128&&(i&192)===128&&(j&192)===128&&(k=(e&15)<<18|(h&63)<<12|(i&63)<<6|j&63,k>65535&&k<1114112&&(f=k))}}f===null?(f=65533,g=1):f>65535&&(f-=65536,d.push(f>>>10&1023|55296),f=56320|f&1023);d.push(f);b+=g}return H(d)}var G=4096;function H(a){var b=a.length;if(b<=G)return String.fromCharCode.apply(String,a);var c="",d=0;while(d<b)c+=String.fromCharCode.apply(String,a.slice(d,d+=G));return c}function I(a,b,c){var d="";c=Math.min(a.length,c);for(var b=b;b<c;++b)d+=String.fromCharCode(a[b]&127);return d}function J(a,b,c){var d="";c=Math.min(a.length,c);for(var b=b;b<c;++b)d+=String.fromCharCode(a[b]);return d}function K(a,b,c){var d=a.length;(!b||b<0)&&(b=0);(!c||c<0||c>d)&&(c=d);d="";for(var b=b;b<c;++b)d+=T(a[b]);return d}function L(a,b,c){a=a.slice(b,c);b="";for(var c=0;c<a.length;c+=2)b+=String.fromCharCode(a[c]+a[c+1]*256);return b}f.prototype.slice=function(a,b){var c=this.length;a=~~a;b=b===void 0?c:~~b;a<0?(a+=c,a<0&&(a=0)):a>c&&(a=c);b<0?(b+=c,b<0&&(b=0)):b>c&&(b=c);b<a&&(b=a);c=this.subarray(a,b);c.__proto__=f.prototype;return c};function M(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUIntLE=function(b,a,c){b=b>>>0;a=a>>>0;c||M(b,a,this.length);c=this[b];var d=1,e=0;while(++e<a&&(d*=256))c+=this[b+e]*d;return c};f.prototype.readUIntBE=function(b,a,c){b=b>>>0;a=a>>>0;c||M(b,a,this.length);c=this[b+--a];var d=1;while(a>0&&(d*=256))c+=this[b+--a]*d;return c};f.prototype.readUInt8=function(a,b){a=a>>>0;b||M(a,1,this.length);return this[a]};f.prototype.readUInt16LE=function(a,b){a=a>>>0;b||M(a,2,this.length);return this[a]|this[a+1]<<8};f.prototype.readUInt16BE=function(a,b){a=a>>>0;b||M(a,2,this.length);return this[a]<<8|this[a+1]};f.prototype.readUInt32LE=function(a,b){a=a>>>0;b||M(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216};f.prototype.readUInt32BE=function(a,b){a=a>>>0;b||M(a,4,this.length);return this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])};f.prototype.readIntLE=function(b,a,c){b=b>>>0;a=a>>>0;c||M(b,a,this.length);c=this[b];var d=1,e=0;while(++e<a&&(d*=256))c+=this[b+e]*d;d*=128;c>=d&&(c-=Math.pow(2,8*a));return c};f.prototype.readIntBE=function(b,a,c){b=b>>>0;a=a>>>0;c||M(b,a,this.length);c=a;var d=1,e=this[b+--c];while(c>0&&(d*=256))e+=this[b+--c]*d;d*=128;e>=d&&(e-=Math.pow(2,8*a));return e};f.prototype.readInt8=function(a,b){a=a>>>0;b||M(a,1,this.length);return!(this[a]&128)?this[a]:(255-this[a]+1)*-1};f.prototype.readInt16LE=function(a,b){a=a>>>0;b||M(a,2,this.length);b=this[a]|this[a+1]<<8;return b&32768?b|4294901760:b};f.prototype.readInt16BE=function(a,b){a=a>>>0;b||M(a,2,this.length);b=this[a+1]|this[a]<<8;return b&32768?b|4294901760:b};f.prototype.readInt32LE=function(a,b){a=a>>>0;b||M(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};f.prototype.readInt32BE=function(a,b){a=a>>>0;b||M(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};f.prototype.readFloatLE=function(a,c){a=a>>>0;c||M(a,4,this.length);return b.read(this,a,!0,23,4)};f.prototype.readFloatBE=function(a,c){a=a>>>0;c||M(a,4,this.length);return b.read(this,a,!1,23,4)};f.prototype.readDoubleLE=function(a,c){a=a>>>0;c||M(a,8,this.length);return b.read(this,a,!0,52,8)};f.prototype.readDoubleBE=function(a,c){a=a>>>0;c||M(a,8,this.length);return b.read(this,a,!1,52,8)};function N(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<g)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}f.prototype.writeUIntLE=function(b,c,a,d){b=+b;c=c>>>0;a=a>>>0;if(!d){d=Math.pow(2,8*a)-1;N(this,b,c,a,d,0)}d=1;var e=0;this[c]=b&255;while(++e<a&&(d*=256))this[c+e]=b/d&255;return c+a};f.prototype.writeUIntBE=function(b,c,a,d){b=+b;c=c>>>0;a=a>>>0;if(!d){d=Math.pow(2,8*a)-1;N(this,b,c,a,d,0)}d=a-1;var e=1;this[c+d]=b&255;while(--d>=0&&(e*=256))this[c+d]=b/e&255;return c+a};f.prototype.writeUInt8=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,1,255,0);this[b]=a&255;return b+1};f.prototype.writeUInt16LE=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,2,65535,0);this[b]=a&255;this[b+1]=a>>>8;return b+2};f.prototype.writeUInt16BE=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,2,65535,0);this[b]=a>>>8;this[b+1]=a&255;return b+2};f.prototype.writeUInt32LE=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,4,4294967295,0);this[b+3]=a>>>24;this[b+2]=a>>>16;this[b+1]=a>>>8;this[b]=a&255;return b+4};f.prototype.writeUInt32BE=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,4,4294967295,0);this[b]=a>>>24;this[b+1]=a>>>16;this[b+2]=a>>>8;this[b+3]=a&255;return b+4};f.prototype.writeIntLE=function(b,c,a,d){b=+b;c=c>>>0;if(!d){d=Math.pow(2,8*a-1);N(this,b,c,a,d-1,-d)}d=0;var e=1,f=0;this[c]=b&255;while(++d<a&&(e*=256))b<0&&f===0&&this[c+d-1]!==0&&(f=1),this[c+d]=(b/e>>0)-f&255;return c+a};f.prototype.writeIntBE=function(b,c,a,d){b=+b;c=c>>>0;if(!d){d=Math.pow(2,8*a-1);N(this,b,c,a,d-1,-d)}d=a-1;var e=1,f=0;this[c+d]=b&255;while(--d>=0&&(e*=256))b<0&&f===0&&this[c+d+1]!==0&&(f=1),this[c+d]=(b/e>>0)-f&255;return c+a};f.prototype.writeInt8=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,1,127,-128);a<0&&(a=255+a+1);this[b]=a&255;return b+1};f.prototype.writeInt16LE=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,2,32767,-32768);this[b]=a&255;this[b+1]=a>>>8;return b+2};f.prototype.writeInt16BE=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,2,32767,-32768);this[b]=a>>>8;this[b+1]=a&255;return b+2};f.prototype.writeInt32LE=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,4,2147483647,-2147483648);this[b]=a&255;this[b+1]=a>>>8;this[b+2]=a>>>16;this[b+3]=a>>>24;return b+4};f.prototype.writeInt32BE=function(a,b,c){a=+a;b=b>>>0;c||N(this,a,b,4,2147483647,-2147483648);a<0&&(a=4294967295+a+1);this[b]=a>>>24;this[b+1]=a>>>16;this[b+2]=a>>>8;this[b+3]=a&255;return b+4};function O(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function P(a,c,d,e,f){c=+c;d=d>>>0;f||O(a,c,d,4,34028234663852886e22,-34028234663852886e22);b.write(a,c,d,e,23,4);return d+4}f.prototype.writeFloatLE=function(a,b,c){return P(this,a,b,!0,c)};f.prototype.writeFloatBE=function(a,b,c){return P(this,a,b,!1,c)};function Q(a,c,d,e,f){c=+c;d=d>>>0;f||O(a,c,d,8,17976931348623157e292,-17976931348623157e292);b.write(a,c,d,e,52,8);return d+8}f.prototype.writeDoubleLE=function(a,b,c){return Q(this,a,b,!0,c)};f.prototype.writeDoubleBE=function(a,b,c){return Q(this,a,b,!1,c)};f.prototype.copy=function(a,b,c,d){if(!f.isBuffer(a))throw new TypeError("argument should be a Buffer");c||(c=0);!d&&d!==0&&(d=this.length);b>=a.length&&(b=a.length);b||(b=0);d>0&&d<c&&(d=c);if(d===c)return 0;if(a.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length);a.length-b<d-c&&(d=a.length-b+c);var e=d-c;if(this===a&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(b,c,d);else if(this===a&&c<b&&b<d)for(var g=e-1;g>=0;--g)a[g+b]=this[g+c];else Uint8Array.prototype.set.call(a,this.subarray(c,d),b);return e};f.prototype.fill=function(a,b,c,d){if(typeof a==="string"){typeof b==="string"?(d=b,b=0,c=this.length):typeof c==="string"&&(d=c,c=this.length);if(d!==void 0&&typeof d!=="string")throw new TypeError("encoding must be a string");if(typeof d==="string"&&!f.isEncoding(d))throw new TypeError("Unknown encoding: "+d);if(a.length===1){var e=a.charCodeAt(0);(d==="utf8"&&e<128||d==="latin1")&&(a=e)}}else typeof a==="number"&&(a=a&255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b=b>>>0;c=c===void 0?this.length:c>>>0;a||(a=0);if(typeof a==="number")for(e=b;e<c;++e)this[e]=a;else{d=f.isBuffer(a)?a:f.from(a,d);var g=d.length;if(g===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(e=0;e<c-b;++e)this[e+b]=d[e%g]}return this};var R=/[^+/0-9A-Za-z-_]/g;function S(a){a=a.split("=")[0];a=a.trim().replace(R,"");if(a.length<2)return"";while(a.length%4!==0)a=a+"=";return a}function T(a){return a<16?"0"+a.toString(16):a.toString(16)}function U(a,b){b=b||Infinity;var c,d=a.length,e=null,f=[];for(var g=0;g<d;++g){c=a.charCodeAt(g);if(c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}else if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189);e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&((b-=3)>-1&&f.push(239,191,189));e=null;if(c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,c&63|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return f}function V(a){var b=[];for(var c=0;c<a.length;++c)b.push(a.charCodeAt(c)&255);return b}function W(a,b){var c,d,e=[];for(var f=0;f<a.length;++f){if((b-=2)<0)break;c=a.charCodeAt(f);d=c>>8;c=c%256;e.push(c);e.push(d)}return e}function X(b){return a.toByteArray(S(b))}function Y(a,b,c,d){for(var e=0;e<d;++e){if(e+c>=b.length||e>=a.length)break;b[e+c]=a[e]}return e}function Z(a,b){return a instanceof b||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===b.name}function $(a){return a!==a}}var l=!1,m=function(){l||(l=!0,k());return j.exports};c=function(a){switch(a){case void 0:return m()}};e.exports=c}),null);
__d("buffer",["buffer-5.2.1"],(function(a,b,c,d,e,f){e.exports=b("buffer-5.2.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("hash-sum-2.0.0",[],(function(a,b,c,d,e,f){"use strict";a={};var g={exports:a};function h(){function a(a,b){while(a.length<b)a="0"+a;return a}function b(a,b){var c,d,e;if(b.length===0)return a;for(c=0,e=b.length;c<e;c++)d=b.charCodeAt(c),a=(a<<5)-a+d,a|=0;return a<0?a*-2:a}function c(a,b,c){return Object.keys(b).sort().reduce(e,a);function e(a,e){return d(a,b[e],e,c)}}function d(a,d,f,g){a=b(b(b(a,f),e(d)),typeof d);if(d===null)return b(a,"null");if(d===void 0)return b(a,"undefined");if(typeof d==="object"||typeof d==="function"){if(g.indexOf(d)!==-1)return b(a,"[Circular]"+f);g.push(d);f=c(a,d,g);if(!("valueOf"in d)||typeof d.valueOf!=="function")return f;try{return b(f,String(d.valueOf()))}catch(a){return b(f,"[valueOf exception]"+(a.stack||a.message))}}return b(a,d.toString())}function e(a){return Object.prototype.toString.call(a)}function f(b){return a(d(0,b,"",[]).toString(16),8)}g.exports=f}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
__d("hash-sum",["hash-sum-2.0.0"],(function(a,b,c,d,e,f){e.exports=b("hash-sum-2.0.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("remove-array-items-1.0.0",[],(function(a,b,c,d,e,f){"use strict";a={};var g={exports:a};function h(){g.exports=function(a,b,c){var d=a.length;if(b>=d||c===0)return;c=b+c>d?d-b:c;d=d-c;for(b=b;b<d;++b)a[b]=a[b+c];a.length=d}}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("resource-loader-2.1.1",["mini-signals-1.2.0","parse-uri-1.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("mini-signals-1.2.0")),h=a(b("parse-uri-1.0.0")),i={},j={exports:i};function k(){i.__esModule=!0;i.eachSeries=b;i.queue=d;function a(){}function b(a,b,c,d){var e=0,f=a.length;(function g(h){if(h||e===f){c&&c(h);return}d?setTimeout(function(){b(a[e++],g)},1):b(a[e++],g)})()}function c(a){return function(){if(a===null)throw new Error("Callback was already called.");var b=a;a=null;b.apply(this,arguments)}}function d(b,d){if(d==null)d=1;else if(d===0)throw new Error("Concurrency must not be zero");var e=0,f={_tasks:[],concurrency:d,saturated:a,unsaturated:a,buffer:d/4,empty:a,drain:a,error:a,started:!1,paused:!1,push:function(a,b){g(a,!1,b)},kill:function(){e=0,f.drain=a,f.started=!1,f._tasks=[]},unshift:function(a,b){g(a,!0,b)},process:function(){while(!f.paused&&e<f.concurrency&&f._tasks.length){var a=f._tasks.shift();f._tasks.length===0&&f.empty();e+=1;e===f.concurrency&&f.saturated();b(a.data,c(h(a)))}},length:function(){return f._tasks.length},running:function(){return e},idle:function(){return f._tasks.length+e===0},pause:function(){if(f.paused===!0)return;f.paused=!0},resume:function(){if(f.paused===!1)return;f.paused=!1;for(var a=1;a<=f.concurrency;a++)f.process()}};function g(b,c,d){if(d!=null&&typeof d!=="function")throw new Error("task callback must be a function");f.started=!0;if(b==null&&f.idle()){setTimeout(function(){return f.drain()},1);return}b={data:b,callback:typeof d==="function"?d:a};c?f._tasks.unshift(b):f._tasks.push(b);setTimeout(function(){return f.process()},1)}function h(a){return function(){e-=1,a.callback.apply(a,arguments),arguments[0]!=null&&f.error(arguments[0],a.data),e<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}return f}}var l=!1,m=function(){l||(l=!0,k());return j.exports},n={},o={exports:n};function p(){n.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=h(),c=e(b);b=g();var d=e(b);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var i=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest())),j=null,k=0,l=200,m=204,o=1223,p=2;function q(){}e=function(){b.setExtensionLoadType=function(a,c){r(b._loadTypeMap,a,c)};b.setExtensionXhrType=function(a,c){r(b._xhrTypeMap,a,c)};function b(a,c,e){f(this,b);if(typeof a!=="string"||typeof c!=="string")throw new Error("Both name and url are required for constructing a resource.");e=e||{};this._flags=0;this._setFlag(b.STATUS_FLAGS.DATA_URL,c.indexOf("data:")===0);this.name=a;this.url=c;this.extension=this._getExtension();this.data=null;this.crossOrigin=e.crossOrigin===!0?"anonymous":e.crossOrigin;this.loadType=e.loadType||this._determineLoadType();this.xhrType=e.xhrType;this.metadata=e.metadata||{};this.error=null;this.xhr=null;this.children=[];this.type=b.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=q;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new d["default"]();this.onProgress=new d["default"]();this.onComplete=new d["default"]();this.onAfterMiddleware=new d["default"]()}b.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(b.STATUS_FLAGS.COMPLETE,!0);this._setFlag(b.STATUS_FLAGS.LOADING,!1);this.onComplete.dispatch(this)};b.prototype.abort=function(a){if(this.error)return;this.error=new Error(a);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=b.EMPTY_GIF;else while(this.data.firstChild)this.data.removeChild(this.data.firstChild);this.complete()};b.prototype.load=function(a){var c=this;if(this.isLoading)return;if(this.isComplete){a&&setTimeout(function(){return a(c)},1);return}else a&&this.onComplete.once(a);this._setFlag(b.STATUS_FLAGS.LOADING,!0);this.onStart.dispatch(this);(this.crossOrigin===!1||typeof this.crossOrigin!=="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url));switch(this.loadType){case b.LOAD_TYPE.IMAGE:this.type=b.TYPE.IMAGE;this._loadElement("image");break;case b.LOAD_TYPE.AUDIO:this.type=b.TYPE.AUDIO;this._loadSourceElement("audio");break;case b.LOAD_TYPE.VIDEO:this.type=b.TYPE.VIDEO;this._loadSourceElement("video");break;case b.LOAD_TYPE.XHR:default:i&&this.crossOrigin?this._loadXdr():this._loadXhr();break}};b.prototype._hasFlag=function(a){return!!(this._flags&a)};b.prototype._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a};b.prototype._loadElement=function(a){this.metadata.loadElement?this.data=this.metadata.loadElement:a==="image"&&typeof window.Image!=="undefined"?this.data=new Image():this.data=document.createElement(a),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)};b.prototype._loadSourceElement=function(a){this.metadata.loadElement?this.data=this.metadata.loadElement:a==="audio"&&typeof window.Audio!=="undefined"?this.data=new Audio():this.data=document.createElement(a);if(this.data===null){this.abort("Unsupported element: "+a);return}if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url)){var b=this.metadata.mimeType;for(var c=0;c<this.url.length;++c)this.data.appendChild(this._createSource(a,this.url[c],Array.isArray(b)?b[c]:b))}else{c=this.metadata.mimeType;this.data.appendChild(this._createSource(a,this.url,Array.isArray(c)?c[0]:c))}this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()};b.prototype._loadXhr=function(){typeof this.xhrType!=="string"&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest();a.open("GET",this.url,!0);this.xhrType===b.XHR_RESPONSE_TYPE.JSON||this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT?a.responseType=b.XHR_RESPONSE_TYPE.TEXT:a.responseType=this.xhrType;a.addEventListener("error",this._boundXhrOnError,!1);a.addEventListener("abort",this._boundXhrOnAbort,!1);a.addEventListener("progress",this._boundOnProgress,!1);a.addEventListener("load",this._boundXhrOnLoad,!1);a.send()};b.prototype._loadXdr=function(){typeof this.xhrType!=="string"&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest();a.timeout=5e3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXdrOnTimeout;a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,!0);setTimeout(function(){return a.send()},1)};b.prototype._createSource=function(a,b,c){c||(c=a+"/"+this._getExtension(b));a=document.createElement("source");a.src=b;a.type=c;return a};b.prototype._onError=function(a){this.abort("Failed to load element using: "+a.target.nodeName)};b.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)};b.prototype._xhrOnError=function(){var a=this.xhr;this.abort(s(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')};b.prototype._xhrOnAbort=function(){this.abort(s(this.xhr)+" Request was aborted by the user.")};b.prototype._xdrOnTimeout=function(){this.abort(s(this.xhr)+" Request timed out.")};b.prototype._xhrOnLoad=function(){var a=this.xhr,c="",d=typeof a.status==="undefined"?l:a.status;(a.responseType===""||a.responseType==="text"||typeof a.responseType==="undefined")&&(c=a.responseText);d===k&&(c.length>0||a.responseType===b.XHR_RESPONSE_TYPE.BUFFER)?d=l:d===o&&(d=m);d=d/100|0;if(d===p)if(this.xhrType===b.XHR_RESPONSE_TYPE.TEXT)this.data=c,this.type=b.TYPE.TEXT;else if(this.xhrType===b.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(c),this.type=b.TYPE.JSON}catch(a){this.abort("Error trying to parse loaded json: "+a);return}else if(this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){d=new DOMParser();this.data=d.parseFromString(c,"text/xml")}else{d=document.createElement("div");d.innerHTML=c;this.data=d}this.type=b.TYPE.XML}catch(a){this.abort("Error trying to parse loaded xml: "+a);return}else this.data=a.response||c;else{this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL);return}this.complete()};b.prototype._determineCrossOrigin=function(a,b){if(a.indexOf("data:")===0)return"";b=b||window.location;j||(j=document.createElement("a"));j.href=a;a=c["default"](j.href,{strictMode:!0});var d=!a.port&&b.port===""||a.port===b.port,e=a.protocol?a.protocol+":":"";return a.host!==b.hostname||!d||e!==b.protocol?"anonymous":""};b.prototype._determineXhrType=function(){return b._xhrTypeMap[this.extension]||b.XHR_RESPONSE_TYPE.TEXT};b.prototype._determineLoadType=function(){return b._loadTypeMap[this.extension]||b.LOAD_TYPE.XHR};b.prototype._getExtension=function(){var a=this.url;if(this.isDataUrl){var b=a.indexOf("/");b=a.substring(b+1,a.indexOf(";",b))}else{var c=a.indexOf("?"),d=a.indexOf("#");c=Math.min(c>-1?c:a.length,d>-1?d:a.length);a=a.substring(0,c);b=a.substring(a.lastIndexOf(".")+1)}return b.toLowerCase()};b.prototype._getMimeFromXhrType=function(a){switch(a){case b.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case b.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case b.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case b.XHR_RESPONSE_TYPE.JSON:return"application/json";case b.XHR_RESPONSE_TYPE.DEFAULT:case b.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}};a(b,[{key:"isDataUrl",get:function(){return this._hasFlag(b.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(b.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(b.STATUS_FLAGS.LOADING)}}]);return b}();n["default"]=e;e.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};e.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};e.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};e.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO};e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER};e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function r(a,b,c){b&&b.indexOf(".")===0&&(b=b.substring(1));if(!b)return;a[b]=c}function s(a){return a.toString().replace("object ","")}}var q=!1,r=function(){q||(q=!0,p());return o.exports},s={},t={exports:s};function u(){s.__esModule=!0;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),c=g(),d=k(c);c=h();var e=k(c);c=m();var f=j(c);j=r();var i=k(j);function j(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var n=100,o=/(#[\w-]+)?$/;c=function(){function c(){var a=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;l(this,c);this.baseUrl=b;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(b,c){return a._loadResource(b,c)};this._queue=f.queue(this._boundLoadResource,e);this._queue.pause();this.resources={};this.onProgress=new d["default"]();this.onError=new d["default"]();this.onLoad=new d["default"]();this.onStart=new d["default"]();this.onComplete=new d["default"]()}c.prototype.add=function(b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;++f)this.add(b[f]);return this}(typeof b==="undefined"?"undefined":a(b))==="object"&&(e=c||b.callback||b.onComplete,d=b,c=b.url,b=b.name||b.key||b.url);typeof c!=="string"&&(e=d,d=c,c=b);if(typeof c!=="string")throw new Error("No url passed to add resource to loader.");typeof d==="function"&&(e=d,d=null);if(this.loading&&(!d||!d.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[b])throw new Error('Resource named "'+b+'" already exists.');c=this._prepareUrl(c);this.resources[b]=new i["default"](b,c,d);typeof e==="function"&&this.resources[b].onAfterMiddleware.once(e);if(this.loading){f=d.parentResource;c=[];for(var e=0;e<f.children.length;++e)f.children[e].isComplete||c.push(f.children[e]);d=f.progressChunk*(c.length+1);e=d/(c.length+2);f.children.push(this.resources[b]);f.progressChunk=e;for(var d=0;d<c.length;++d)c[d].progressChunk=e;this.resources[b].progressChunk=e}this._queue.push(this.resources[b]);return this};c.prototype.pre=function(a){this._beforeMiddleware.push(a);return this};c.prototype.use=function(a){this._afterMiddleware.push(a);return this};c.prototype.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var a in this.resources){var b=this.resources[a];b._onLoadBinding&&b._onLoadBinding.detach();b.isLoading&&b.abort()}this.resources={};return this};c.prototype.load=function(a){typeof a==="function"&&this.onComplete.once(a);if(this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{a=this._queue._tasks.length;a=100/a;for(var b=0;b<this._queue._tasks.length;++b)this._queue._tasks[b].data.progressChunk=a;this._onStart();this._queue.resume()}return this};c.prototype._prepareUrl=function(a){var b=e["default"](a,{strictMode:!0}),c=void 0;b.protocol||!b.path||a.indexOf("//")===0?c=a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&a.charAt(0)!=="/"?c=this.baseUrl+"/"+a:c=this.baseUrl+a;if(this.defaultQueryString){b=o.exec(c)[0];c=c.substr(0,c.length-b.length);c.indexOf("?")!==-1?c+="&"+this.defaultQueryString:c+="?"+this.defaultQueryString;c+=b}return c};c.prototype._loadResource=function(a,b){var c=this;a._dequeue=b;f.eachSeries(this._beforeMiddleware,function(b,d){b.call(c,a,function(){d(a.isComplete?{}:null)})},function(){a.isComplete?c._onLoad(a):(a._onLoadBinding=a.onComplete.once(c._onLoad,c),a.load())},!0)};c.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)};c.prototype._onComplete=function(){this.progress=n,this.loading=!1,this.onComplete.dispatch(this,this.resources)};c.prototype._onLoad=function(a){var b=this;a._onLoadBinding=null;this._resourcesParsing.push(a);a._dequeue();f.eachSeries(this._afterMiddleware,function(c,d){c.call(b,a,d)},function(){a.onAfterMiddleware.dispatch(a),b.progress+=a.progressChunk,b.onProgress.dispatch(b,a),a.error?b.onError.dispatch(a.error,b,a):b.onLoad.dispatch(b,a),b._resourcesParsing.splice(b._resourcesParsing.indexOf(a),1),b._queue.idle()&&b._resourcesParsing.length===0&&b._onComplete()},!0)};b(c,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(a){this._queue.concurrency=a}}]);return c}();s["default"]=c}var v=!1,w=function(){v||(v=!0,u());return t.exports},x={},y={exports:x};function z(){x.__esModule=!0;x.encodeBinary=b;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(b){var c="",d=0;while(d<b.length){var e=[0,0,0],f=[0,0,0,0];for(var g=0;g<e.length;++g)d<b.length?e[g]=b.charCodeAt(d++)&255:e[g]=0;f[0]=e[0]>>2;f[1]=(e[0]&3)<<4|e[1]>>4;f[2]=(e[1]&15)<<2|e[2]>>6;f[3]=e[2]&63;g=d-(b.length-1);switch(g){case 2:f[3]=64;f[2]=64;break;case 1:f[3]=64;break;default:break}for(var e=0;e<f.length;++e)c+=a.charAt(f[e])}return c}}var A=!1,B=function(){A||(A=!0,z());return y.exports};c={};var C={exports:c};function D(){var a=w()["default"],b=r()["default"],c=m(),d=B();a.Resource=b;a.async=c;a.base64=d;C.exports=a;C.exports["default"]=a}var E=!1,F=function(){E||(E=!0,D());return C.exports},G={},H={exports:G};function I(){G.__esModule=!0;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};G.blobMiddlewareFactory=f;f=r();var b=d(f);f=B();var c=d(f);function d(a){return a&&a.__esModule?a:{"default":a}}var e=window.URL||window.webkitURL;function f(){return function(d,f){if(!d.data){f();return}if(d.xhr&&d.xhrType===b["default"].XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||typeof d.data==="string"){var g=d.xhr.getResponseHeader("content-type");if(g&&g.indexOf("image")===0){d.data=new Image();d.data.src="data:"+g+";base64,"+c["default"].encodeBinary(d.xhr.responseText);d.type=b["default"].TYPE.IMAGE;d.data.onload=function(){d.data.onload=null,f()};return}}else if(d.data.type.indexOf("image")===0){g=function(){var a=e.createObjectURL(d.data);d.blob=d.data;d.data=new Image();d.data.src=a;d.type=b["default"].TYPE.IMAGE;d.data.onload=function(){e.revokeObjectURL(a),d.data.onload=null,f()};return{v:void 0}}();if((typeof g==="undefined"?"undefined":a(g))==="object")return g.v}f()}}}var J=!1,K=function(){J||(J=!0,I());return H.exports};d=function(a){switch(a){case void 0:return F();case"/lib/middlewares/parsing/blob":return K()}};e.exports=d}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("pixi-js-4.8.1",["object-assign-4.1.1","pixi-gl-core-1.1.4","eventemitter3-2.0.3","ismobilejs-0.4.1","remove-array-items-1.0.0","earcut-2.1.3","bit-twiddle-1.0.2","resource-loader-2.1.1"],(function(a,b,c,d,e,f){"use strict";function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("object-assign-4.1.1")),h=c(b("pixi-gl-core-1.1.4")),i=c(b("eventemitter3-2.0.3")),j=c(b("ismobilejs-0.4.1")),k=c(b("remove-array-items-1.0.0")),l=c(b("earcut-2.1.3")),m=c(b("bit-twiddle-1.0.2")),n=c(b("resource-loader-2.1.1"));d={};var o={exports:d};function p(){var a=g();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}Object.assign||(Object.assign=b["default"])}var q=!1,r=function(){q||(q=!0,p());return o.exports};f={};var s={exports:f};function t(){var b=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(a.performance&&a.performance.now)){var c=Date.now();a.performance||(a.performance={});a.performance.now=function(){return Date.now()-c}}var d=Date.now(),e=["ms","moz","webkit","o"];for(var f=0;f<e.length&&!a.requestAnimationFrame;++f){var g=e[f];a.requestAnimationFrame=a[g+"RequestAnimationFrame"];a.cancelAnimationFrame=a[g+"CancelAnimationFrame"]||a[g+"CancelRequestAnimationFrame"]}a.requestAnimationFrame||(a.requestAnimationFrame=function(a){if(typeof a!=="function")throw new TypeError(a+"is not a function");var c=Date.now(),e=b+d-c;e<0&&(e=0);d=c;return setTimeout(function(){d=Date.now(),a(performance.now())},e)});a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){return clearTimeout(a)})}var u=!1,v=function(){u||(u=!0,t());return s.exports};c={};var w={exports:c};function x(){Math.sign||(Math.sign=function(a){a=Number(a);return a===0||isNaN(a)?a:a>0?1:-1})}var y=!1,z=function(){y||(y=!0,x());return w.exports};b={};var A={exports:b};function B(){Number.isInteger||(Number.isInteger=function(a){return typeof a==="number"&&isFinite(a)&&Math.floor(a)===a})}var C=!1,D=function(){C||(C=!0,B());return A.exports};d={};var E={exports:d};function F(){r(),v(),z(),D(),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)}var G=!1,H=function(){G||(G=!0,F());return E.exports},I={},J={exports:I};function aa(){I.__esModule=!0,I.VERSION="4.8.1",I.PI_2=Math.PI*2,I.RAD_TO_DEG=180/Math.PI,I.DEG_TO_RAD=Math.PI/180,I.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},I.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},I.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},I.SCALE_MODES={LINEAR:0,NEAREST:1},I.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},I.GC_MODES={AUTO:0,MANUAL:1},I.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,I.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,I.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,I.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},I.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},I.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},I.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},I.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}}var ba=!1,K=function(){ba||(ba=!0,aa());return J.exports},ca={},da={exports:ca};function L(){ca.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;a(this,b);this.x=c;this.y=d}b.prototype.clone=function(){return new b(this.x,this.y)};b.prototype.copy=function(a){this.set(a.x,a.y)};b.prototype.equals=function(a){return a.x===this.x&&a.y===this.y};b.prototype.set=function(a,b){this.x=a||0,this.y=b||(b!==0?this.x:0)};return b}();ca["default"]=b}var ea=!1,fa=function(){ea||(ea=!0,L());return da.exports},M={},N={exports:M};function ga(){M.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(a,d){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;b(this,c);this._x=e;this._y=f;this.cb=a;this.scope=d}c.prototype.set=function(a,b){a=a||0;b=b||(b!==0?a:0);(this._x!==a||this._y!==b)&&(this._x=a,this._y=b,this.cb.call(this.scope))};c.prototype.copy=function(a){(this._x!==a.x||this._y!==a.y)&&(this._x=a.x,this._y=a.y,this.cb.call(this.scope))};a(c,[{key:"x",get:function(){return this._x},set:function(a){this._x!==a&&(this._x=a,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(a){this._y!==a&&(this._y=a,this.cb.call(this.scope))}}]);return c}();M["default"]=c}var ha=!1,ia=function(){ha||(ha=!0,ga());return N.exports},ja={},ka={exports:ja};function la(){ja.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=fa(),c=e(b),d=K();function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}e=function(){function b(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;f(this,b);this.a=a;this.b=c;this.c=d;this.d=e;this.tx=g;this.ty=h;this.array=null}b.prototype.fromArray=function(a){this.a=a[0],this.b=a[1],this.c=a[3],this.d=a[4],this.tx=a[2],this.ty=a[5]};b.prototype.set=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f;return this};b.prototype.toArray=function(a,b){this.array||(this.array=new Float32Array(9));b=b||this.array;a?(b[0]=this.a,b[1]=this.b,b[2]=0,b[3]=this.c,b[4]=this.d,b[5]=0,b[6]=this.tx,b[7]=this.ty,b[8]=1):(b[0]=this.a,b[1]=this.c,b[2]=this.tx,b[3]=this.b,b[4]=this.d,b[5]=this.ty,b[6]=0,b[7]=0,b[8]=1);return b};b.prototype.apply=function(a,b){b=b||new c["default"]();var d=a.x;a=a.y;b.x=this.a*d+this.c*a+this.tx;b.y=this.b*d+this.d*a+this.ty;return b};b.prototype.applyInverse=function(a,b){b=b||new c["default"]();var d=1/(this.a*this.d+this.c*-this.b),e=a.x;a=a.y;b.x=this.d*d*e+-this.c*d*a+(this.ty*this.c-this.tx*this.d)*d;b.y=this.a*d*a+-this.b*d*e+(-this.ty*this.a+this.tx*this.b)*d;return b};b.prototype.translate=function(a,b){this.tx+=a;this.ty+=b;return this};b.prototype.scale=function(a,b){this.a*=a;this.d*=b;this.c*=a;this.b*=b;this.tx*=a;this.ty*=b;return this};b.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.a,d=this.c,e=this.tx;this.a=c*b-this.b*a;this.b=c*a+this.b*b;this.c=d*b-this.d*a;this.d=d*a+this.d*b;this.tx=e*b-this.ty*a;this.ty=e*a+this.ty*b;return this};b.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.d;this.a=a.a*b+a.b*d;this.b=a.a*c+a.b*e;this.c=a.c*b+a.d*d;this.d=a.c*c+a.d*e;this.tx=a.tx*b+a.ty*d+this.tx;this.ty=a.tx*c+a.ty*e+this.ty;return this};b.prototype.setTransform=function(a,b,c,d,e,f,g,h,i){this.a=Math.cos(g+i)*e;this.b=Math.sin(g+i)*e;this.c=-Math.sin(g-h)*f;this.d=Math.cos(g-h)*f;this.tx=a-(c*this.a+d*this.c);this.ty=b-(c*this.b+d*this.d);return this};b.prototype.prepend=function(a){var b=this.tx;if(a.a!==1||a.b!==0||a.c!==0||a.d!==1){var c=this.a,d=this.c;this.a=c*a.a+this.b*a.c;this.b=c*a.b+this.b*a.d;this.c=d*a.a+this.d*a.c;this.d=d*a.b+this.d*a.d}this.tx=b*a.a+this.ty*a.c+a.tx;this.ty=b*a.b+this.ty*a.d+a.ty;return this};b.prototype.decompose=function(a){var b=this.a,c=this.b,e=this.c,f=this.d,g=-Math.atan2(-e,f),h=Math.atan2(c,b),i=Math.abs(g+h);i<1e-5||Math.abs(d.PI_2-i)<1e-5?(a.rotation=h,b<0&&f>=0&&(a.rotation+=a.rotation<=0?Math.PI:-Math.PI),a.skew.x=a.skew.y=0):(a.rotation=0,a.skew.x=g,a.skew.y=h);a.scale.x=Math.sqrt(b*b+c*c);a.scale.y=Math.sqrt(e*e+f*f);a.position.x=this.tx;a.position.y=this.ty;return a};b.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;this.a=d/f;this.b=-b/f;this.c=-c/f;this.d=a/f;this.tx=(c*this.ty-d*e)/f;this.ty=-(a*this.ty-b*e)/f;return this};b.prototype.identity=function(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;return this};b.prototype.clone=function(){var a=new b();a.a=this.a;a.b=this.b;a.c=this.c;a.d=this.d;a.tx=this.tx;a.ty=this.ty;return a};b.prototype.copy=function(a){a.a=this.a;a.b=this.b;a.c=this.c;a.d=this.d;a.tx=this.tx;a.ty=this.ty;return a};a(b,null,[{key:"IDENTITY",get:function(){return new b()}},{key:"TEMP_MATRIX",get:function(){return new b()}}]);return b}();ja["default"]=e}var ma=!1,na=function(){ma||(ma=!0,la());return ka.exports},oa={},pa={exports:oa};function qa(){oa.__esModule=!0;var a=na(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}var d=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],e=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],f=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],g=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],i=[];function j(a){if(a<0)return-1;return a>0?1:0}function k(){for(var a=0;a<16;a++){var c=[];i.push(c);for(var k=0;k<16;k++){var l=j(d[a]*d[k]+f[a]*e[k]),m=j(e[a]*d[k]+g[a]*e[k]),n=j(d[a]*f[k]+f[a]*g[k]),o=j(e[a]*f[k]+g[a]*g[k]);for(var p=0;p<16;p++)if(d[p]===l&&e[p]===m&&f[p]===n&&g[p]===o){c.push(p);break}}}for(var l=0;l<16;l++){m=new b["default"]();m.set(d[l],e[l],f[l],g[l],0,0);h.push(m)}}k();var l={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return d[a]},uY:function(a){return e[a]},vX:function(a){return f[a]},vY:function(a){return g[a]},inv:function(a){return a&8?a&15:-a&7},add:function(a,b){return i[a][b]},sub:function(a,b){return i[a][l.inv(b)]},rotate180:function(a){return a^4},isVertical:function(a){return(a&3)===2},byDirection:function(a,b){if(Math.abs(a)*2<=Math.abs(b))return b>=0?l.S:l.N;else if(Math.abs(b)*2<=Math.abs(a))return a>0?l.E:l.W;else if(b>0)return a>0?l.SE:l.SW;else if(a>0)return l.NE;return l.NW},matrixAppendRotationInv:function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,e=h[l.inv(b)];e.tx=c;e.ty=d;a.append(e)}};oa["default"]=l}var ra=!1,sa=function(){ra||(ra=!0,qa());return pa.exports},ta={},ua={exports:ta};function va(){ta.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=K();function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function d(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;c(this,d);this.x=Number(a);this.y=Number(e);this.width=Number(f);this.height=Number(g);this.type=b.SHAPES.RECT}d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)};d.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this};d.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;return a>=this.x&&a<this.x+this.width&&(b>=this.y&&b<this.y+this.height)?!0:!1};d.prototype.pad=function(a,b){a=a||0,b=b||(b!==0?a:0),this.x-=a,this.y-=b,this.width+=a*2,this.height+=b*2};d.prototype.fit=function(a){this.x<a.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=a.x),this.y<a.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=a.y),this.x+this.width>a.x+a.width&&(this.width=a.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>a.y+a.height&&(this.height=a.height-this.y,this.height<0&&(this.height=0))};d.prototype.enlarge=function(a){var b=Math.min(this.x,a.x),c=Math.max(this.x+this.width,a.x+a.width),d=Math.min(this.y,a.y);a=Math.max(this.y+this.height,a.y+a.height);this.x=b;this.width=c-b;this.y=d;this.height=a-d};a(d,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new d(0,0,0,0)}}]);return d}();ta["default"]=d}var wa=!1,xa=function(){wa||(wa=!0,va());return ua.exports},ya={},za={exports:ya};function Aa(){ya.__esModule=!0;var a=xa(),b=d(a),c=K();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e(this,a);this.x=b;this.y=d;this.radius=f;this.type=c.SHAPES.CIRC}a.prototype.clone=function(){return new a(this.x,this.y,this.radius)};a.prototype.contains=function(a,b){if(this.radius<=0)return!1;var c=this.radius*this.radius;a=this.x-a;b=this.y-b;a*=a;b*=b;return a+b<=c};a.prototype.getBounds=function(){return new b["default"](this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)};return a}();ya["default"]=d}var Ba=!1,Ca=function(){Ba||(Ba=!0,Aa());return za.exports},Da={},Ea={exports:Da};function Fa(){Da.__esModule=!0;var a=xa(),b=d(a),c=K();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;e(this,a);this.x=b;this.y=d;this.width=f;this.height=g;this.type=c.SHAPES.ELIP}a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;a=(a-this.x)/this.width;b=(b-this.y)/this.height;a*=a;b*=b;return a+b<=1};a.prototype.getBounds=function(){return new b["default"](this.x-this.width,this.y-this.height,this.width,this.height)};return a}();Da["default"]=d}var Ga=!1,Ha=function(){Ga||(Ga=!0,Fa());return Ea.exports},Ia={},Ja={exports:Ia};function Ka(){Ia.__esModule=!0;var a=fa(),b=d(a),c=K();function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(){for(var d=arguments.length,f=Array(d),g=0;g<d;g++)f[g]=arguments[g];e(this,a);Array.isArray(f[0])&&(f=f[0]);if(f[0]instanceof b["default"]){var h=[];for(var i=0,j=f.length;i<j;i++)h.push(f[i].x,f[i].y);f=h}this.closed=!0;this.points=f;this.type=c.SHAPES.POLY}a.prototype.clone=function(){return new a(this.points.slice())};a.prototype.close=function(){var a=this.points;(a[0]!==a[a.length-2]||a[1]!==a[a.length-1])&&a.push(a[0],a[1])};a.prototype.contains=function(a,b){var c=!1,d=this.points.length/2;for(var e=0,f=d-1;e<d;f=e++){var g=this.points[e*2],h=this.points[e*2+1],i=this.points[f*2],j=this.points[f*2+1];i=h>b!==j>b&&a<(i-g)*((b-h)/(j-h))+g;i&&(c=!c)}return c};return a}();Ia["default"]=d}var La=!1,Ma=function(){La||(La=!0,Ka());return Ja.exports},Na={},Oa={exports:Na};function Pa(){Na.__esModule=!0;var a=K();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20;b(this,c);this.x=d;this.y=e;this.width=f;this.height=g;this.radius=h;this.type=a.SHAPES.RREC}c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.radius)};c.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;if(a>=this.x&&a<=this.x+this.width&&(b>=this.y&&b<=this.y+this.height)){if(b>=this.y+this.radius&&b<=this.y+this.height-this.radius||a>=this.x+this.radius&&a<=this.x+this.width-this.radius)return!0;var c=a-(this.x+this.radius),d=b-(this.y+this.radius),e=this.radius*this.radius;if(c*c+d*d<=e)return!0;c=a-(this.x+this.width-this.radius);if(c*c+d*d<=e)return!0;d=b-(this.y+this.height-this.radius);if(c*c+d*d<=e)return!0;c=a-(this.x+this.radius);if(c*c+d*d<=e)return!0}return!1};return c}();Na["default"]=c}var Qa=!1,Ra=function(){Qa||(Qa=!0,Pa());return Oa.exports},O={},Sa={exports:O};function Ta(){O.__esModule=!0;var a=fa();Object.defineProperty(O,"Point",{enumerable:!0,get:function(){return j(a)["default"]}});var b=ia();Object.defineProperty(O,"ObservablePoint",{enumerable:!0,get:function(){return j(b)["default"]}});var c=na();Object.defineProperty(O,"Matrix",{enumerable:!0,get:function(){return j(c)["default"]}});var d=sa();Object.defineProperty(O,"GroupD8",{enumerable:!0,get:function(){return j(d)["default"]}});var e=Ca();Object.defineProperty(O,"Circle",{enumerable:!0,get:function(){return j(e)["default"]}});var f=Ha();Object.defineProperty(O,"Ellipse",{enumerable:!0,get:function(){return j(f)["default"]}});var g=Ma();Object.defineProperty(O,"Polygon",{enumerable:!0,get:function(){return j(g)["default"]}});var h=xa();Object.defineProperty(O,"Rectangle",{enumerable:!0,get:function(){return j(h)["default"]}});var i=Ra();Object.defineProperty(O,"RoundedRectangle",{enumerable:!0,get:function(){return j(i)["default"]}});function j(a){return a&&a.__esModule?a:{"default":a}}}var Ua=!1,P=function(){Ua||(Ua=!0,Ta());return Sa.exports},Va={},Wa={exports:Va};function Xa(){Va.__esModule=!0;var a=P();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(){b(this,c),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}c.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};c.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity};c.prototype.getRectangle=function(b){if(this.minX>this.maxX||this.minY>this.maxY)return a.Rectangle.EMPTY;b=b||new a.Rectangle(0,0,1,1);b.x=this.minX;b.y=this.minY;b.width=this.maxX-this.minX;b.height=this.maxY-this.minY;return b};c.prototype.addPoint=function(a){this.minX=Math.min(this.minX,a.x),this.maxX=Math.max(this.maxX,a.x),this.minY=Math.min(this.minY,a.y),this.maxY=Math.max(this.maxY,a.y)};c.prototype.addQuad=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY,f=a[0],g=a[1];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;f=a[2];g=a[3];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;f=a[4];g=a[5];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;f=a[6];g=a[7];b=f<b?f:b;c=g<c?g:c;d=f>d?f:d;e=g>e?g:e;this.minX=b;this.minY=c;this.maxX=d;this.maxY=e};c.prototype.addFrame=function(a,b,c,d,e){a=a.worldTransform;var f=a.a,g=a.b,h=a.c,i=a.d,j=a.tx;a=a.ty;var k=this.minX,l=this.minY,m=this.maxX,n=this.maxY,o=f*b+h*c+j,p=g*b+i*c+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;o=f*d+h*c+j;p=g*d+i*c+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;o=f*b+h*e+j;p=g*b+i*e+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;o=f*d+h*e+j;p=g*d+i*e+a;k=o<k?o:k;l=p<l?p:l;m=o>m?o:m;n=p>n?p:n;this.minX=k;this.minY=l;this.maxX=m;this.maxY=n};c.prototype.addVertices=function(a,b,c,d){a=a.worldTransform;var e=a.a,f=a.b,g=a.c,h=a.d,i=a.tx;a=a.ty;var j=this.minX,k=this.minY,l=this.maxX,m=this.maxY;for(var c=c;c<d;c+=2){var n=b[c],o=b[c+1],p=e*n+g*o+i;o=h*o+f*n+a;j=p<j?p:j;k=o<k?o:k;l=p>l?p:l;m=o>m?o:m}this.minX=j;this.minY=k;this.maxX=l;this.maxY=m};c.prototype.addBounds=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY;this.minX=a.minX<b?a.minX:b;this.minY=a.minY<c?a.minY:c;this.maxX=a.maxX>d?a.maxX:d;this.maxY=a.maxY>e?a.maxY:e};c.prototype.addBoundsMask=function(a,b){var c=a.minX>b.minX?a.minX:b.minX,d=a.minY>b.minY?a.minY:b.minY,e=a.maxX<b.maxX?a.maxX:b.maxX;a=a.maxY<b.maxY?a.maxY:b.maxY;if(c<=e&&d<=a){b=this.minX;var f=this.minY,g=this.maxX,h=this.maxY;this.minX=c<b?c:b;this.minY=d<f?d:f;this.maxX=e>g?e:g;this.maxY=a>h?a:h}};c.prototype.addBoundsArea=function(a,b){var c=a.minX>b.x?a.minX:b.x,d=a.minY>b.y?a.minY:b.y,e=a.maxX<b.x+b.width?a.maxX:b.x+b.width;a=a.maxY<b.y+b.height?a.maxY:b.y+b.height;if(c<=e&&d<=a){b=this.minX;var f=this.minY,g=this.maxX,h=this.maxY;this.minX=c<b?c:b;this.minY=d<f?d:f;this.maxX=e>g?e:g;this.maxY=a>h?a:h}};return c}();Va["default"]=c}var Ya=!1,Za=function(){Ya||(Ya=!0,Xa());return Wa.exports},$a={},ab={exports:$a};function bb(){$a.__esModule=!0;$a["default"]=c;c=j();var a=b(c);function b(a){return a&&a.__esModule?a:{"default":a}}function c(b){return a["default"].tablet||a["default"].phone?4:b}}var cb=!1,db=function(){cb||(cb=!0,bb());return ab.exports},eb={},fb={exports:eb};function gb(){eb.__esModule=!0;eb["default"]=a;function a(){var a=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!a}}var hb=!1,ib=function(){hb||(hb=!0,gb());return fb.exports},jb={},kb={exports:jb};function lb(){jb.__esModule=!0;var a=db();a=c(a);var b=ib();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}jb["default"]={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:a["default"](32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:c["default"](),MESH_CANVAS_PADDING:0}}var mb=!1,Q=function(){mb||(mb=!0,lb());return kb.exports},nb={},ob={exports:nb};function pb(){nb.__esModule=!0;var a=P();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(){b(this,c),this.worldTransform=new a.Matrix(),this.localTransform=new a.Matrix(),this._worldID=0,this._parentID=0}c.prototype.updateLocalTransform=function(){};c.prototype.updateTransform=function(a){a=a.worldTransform;var b=this.worldTransform,c=this.localTransform;b.a=c.a*a.a+c.b*a.c;b.b=c.a*a.b+c.b*a.d;b.c=c.c*a.a+c.d*a.c;b.d=c.c*a.b+c.d*a.d;b.tx=c.tx*a.a+c.ty*a.c+a.tx;b.ty=c.tx*a.b+c.ty*a.d+a.ty;this._worldID++};return c}();nb["default"]=c;c.prototype.updateWorldTransform=c.prototype.updateTransform;c.IDENTITY=new c()}var qb=!1,rb=function(){qb||(qb=!0,pb());return ob.exports},sb={},tb={exports:sb};function ub(){sb.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=P(),c=rb();d=d(c);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(c){g(d,c);function d(){e(this,d);var a=f(this,c.call(this));a.position=new b.ObservablePoint(a.onChange,a,0,0);a.scale=new b.ObservablePoint(a.onChange,a,1,1);a.pivot=new b.ObservablePoint(a.onChange,a,0,0);a.skew=new b.ObservablePoint(a.updateSkew,a,0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;a._localID=0;a._currentLocalID=0;return a}d.prototype.onChange=function(){this._localID++};d.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++};d.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)};d.prototype.updateTransform=function(a){var b=this.localTransform;this._localID!==this._currentLocalID&&(b.a=this._cx*this.scale._x,b.b=this._sx*this.scale._x,b.c=this._cy*this.scale._y,b.d=this._sy*this.scale._y,b.tx=this.position._x-(this.pivot._x*b.a+this.pivot._y*b.c),b.ty=this.position._y-(this.pivot._x*b.b+this.pivot._y*b.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==a._worldID){var c=a.worldTransform,d=this.worldTransform;d.a=b.a*c.a+b.b*c.c;d.b=b.a*c.b+b.b*c.d;d.c=b.c*c.a+b.d*c.c;d.d=b.c*c.b+b.d*c.d;d.tx=b.tx*c.a+b.ty*c.c+c.tx;d.ty=b.tx*c.b+b.ty*c.d+c.ty;this._parentID=a._worldID;this._worldID++}};d.prototype.setFromMatrix=function(a){a.decompose(this),this._localID++};a(d,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a,this.updateSkew()}}]);return d}(d["default"]);sb["default"]=c}var vb=!1,wb=function(){vb||(vb=!0,ub());return tb.exports},xb={},yb={exports:xb};function zb(){xb.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=P(),c=rb();d=d(c);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(c){g(d,c);function d(){e(this,d);var a=f(this,c.call(this));a.position=new b.Point(0,0);a.scale=new b.Point(1,1);a.skew=new b.ObservablePoint(a.updateSkew,a,0,0);a.pivot=new b.Point(0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;return a}d.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)};d.prototype.updateLocalTransform=function(){var a=this.localTransform;a.a=this._cx*this.scale.x;a.b=this._sx*this.scale.x;a.c=this._cy*this.scale.y;a.d=this._sy*this.scale.y;a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c);a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d)};d.prototype.updateTransform=function(a){var b=this.localTransform;b.a=this._cx*this.scale.x;b.b=this._sx*this.scale.x;b.c=this._cy*this.scale.y;b.d=this._sy*this.scale.y;b.tx=this.position.x-(this.pivot.x*b.a+this.pivot.y*b.c);b.ty=this.position.y-(this.pivot.x*b.b+this.pivot.y*b.d);a=a.worldTransform;var c=this.worldTransform;c.a=b.a*a.a+b.b*a.c;c.b=b.a*a.b+b.b*a.d;c.c=b.c*a.a+b.d*a.c;c.d=b.c*a.b+b.d*a.d;c.tx=b.tx*a.a+b.ty*a.c+a.tx;c.ty=b.tx*a.b+b.ty*a.d+a.ty;this._worldID++};d.prototype.setFromMatrix=function(a){a.decompose(this)};a(d,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a,this.updateSkew()}}]);return d}(d["default"]);xb["default"]=c}var Ab=!1,Bb=function(){Ab||(Ab=!0,zb());return yb.exports},Cb={},Db={exports:Cb};function Eb(){Cb.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=i();b=k(b);var c=K(),d=Q(),e=k(d);d=wb();var f=k(d);d=Bb();var g=k(d);d=Za();var h=k(d),j=P();function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function n(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}k=function(b){n(d,b);function d(){l(this,d);var a=m(this,b.call(this)),i=e["default"].TRANSFORM_MODE===c.TRANSFORM_MODE.STATIC?f["default"]:g["default"];a.tempDisplayObjectParent=null;a.transform=new i();a.alpha=1;a.visible=!0;a.renderable=!0;a.parent=null;a.worldAlpha=1;a.filterArea=null;a._filters=null;a._enabledFilters=null;a._bounds=new h["default"]();a._boundsID=0;a._lastBoundsID=-1;a._boundsRect=null;a._localBoundsRect=null;a._mask=null;a._destroyed=!1;return a}d.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++};d.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};d.prototype.getBounds=function(a,b){a||(!this.parent?(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null):(this._recursivePostUpdateTransform(),this.updateTransform()));this._boundsID!==this._lastBoundsID&&this.calculateBounds();b||(this._boundsRect||(this._boundsRect=new j.Rectangle()),b=this._boundsRect);return this._bounds.getRectangle(b)};d.prototype.getLocalBounds=function(a){var b=this.transform,c=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;a||(this._localBoundsRect||(this._localBoundsRect=new j.Rectangle()),a=this._localBoundsRect);a=this.getBounds(!1,a);this.parent=c;this.transform=b;return a};d.prototype.toGlobal=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;c||(this._recursivePostUpdateTransform(),!this.parent?(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null):this.displayObjectUpdateTransform());return this.worldTransform.apply(a,b)};d.prototype.toLocal=function(a,b,c,d){b&&(a=b.toGlobal(a,c,d));d||(this._recursivePostUpdateTransform(),!this.parent?(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null):this.displayObjectUpdateTransform());return this.worldTransform.applyInverse(a,c)};d.prototype.renderWebGL=function(a){};d.prototype.renderCanvas=function(a){};d.prototype.setParent=function(a){if(!a||!a.addChild)throw new Error("setParent: Argument must be a Container");a.addChild(this);return a};d.prototype.setTransform=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,i=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0;this.position.x=a;this.position.y=b;this.scale.x=c?c:1;this.scale.y=d?d:1;this.rotation=e;this.skew.x=f;this.skew.y=g;this.pivot.x=h;this.pivot.y=i;return this};d.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0};a(d,[{key:"_tempDisplayObjectParent",get:function(){this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new d());return this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},{key:"y",get:function(){return this.position.y},set:function(a){this.transform.position.y=a}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},{key:"scale",get:function(){return this.transform.scale},set:function(a){this.transform.scale.copy(a)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copy(a)}},{key:"skew",get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},{key:"worldVisible",get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=a,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}]);return d}(b["default"]);Cb["default"]=k;k.prototype.displayObjectUpdateTransform=k.prototype.updateTransform}var Fb=!1,Gb=function(){Fb||(Fb=!0,Eb());return Db.exports},Hb={},Ib={exports:Hb};function Jb(){Hb.__esModule=!0;function a(a){a.__plugins={},a.registerPlugin=function(b,c){a.__plugins[b]=c},a.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var b in a.__plugins)this.plugins[b]=new a.__plugins[b](this)},a.prototype.destroyPlugins=function(){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;this.plugins=null}}Hb["default"]={mixin:function(b){a(b)}}}var Kb=!1,Lb=function(){Kb||(Kb=!0,Jb());return Ib.exports},Mb={},Nb={exports:Mb};function Ob(){Mb.__esModule=!0;Mb.mixin=a;Mb.delayMixin=c;Mb.performMixins=d;function a(a,b){if(!a||!b)return;var c=Object.keys(b);for(var d=0;d<c.length;++d){var e=c[d];Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(b,e))}}var b=[];function c(a,c){b.push(a,c)}function d(){for(var c=0;c<b.length;c+=2)a(b[c],b[c+1]);b.length=0}}var Pb=!1,Qb=function(){Pb||(Pb=!0,Ob());return Nb.exports},Rb={},Sb={exports:Rb};function Tb(){Rb.__esModule=!0;Rb["default"]=b;var a=K();function b(){var b=[],c=[];for(var d=0;d<32;d++)b[d]=d,c[d]=d;b[a.BLEND_MODES.NORMAL_NPM]=a.BLEND_MODES.NORMAL;b[a.BLEND_MODES.ADD_NPM]=a.BLEND_MODES.ADD;b[a.BLEND_MODES.SCREEN_NPM]=a.BLEND_MODES.SCREEN;c[a.BLEND_MODES.NORMAL]=a.BLEND_MODES.NORMAL_NPM;c[a.BLEND_MODES.ADD]=a.BLEND_MODES.ADD_NPM;c[a.BLEND_MODES.SCREEN]=a.BLEND_MODES.SCREEN_NPM;d=[];d.push(c);d.push(b);return d}}var Ub=!1,Vb=function(){Ub||(Ub=!0,Tb());return Sb.exports},R={},Wb={exports:R};function Xb(){R.__esModule=!0;R.premultiplyBlendMode=R.BaseTextureCache=R.TextureCache=R.earcut=R.mixins=R.pluginTarget=R.EventEmitter=R.removeItems=R.isMobile=void 0;R.uid=g;R.hex2rgb=h;R.hex2string=m;R.rgb2hex=n;R.getResolutionOfUrl=o;R.decomposeDataUri=p;R.getUrlFileExtension=q;R.getSvgSize=r;R.skipHello=s;R.sayHello=t;R.isWebGLSupported=u;R.sign=v;R.destroyTextureCache=y;R.clearTextureCache=z;R.correctBlendMode=B;R.premultiplyTint=C;R.premultiplyRgba=D;R.premultiplyTintToRgba=E;var a=K();g=Q();var b=d(g);h=i();m=d(h);n=Lb();o=d(n);p=Qb();q=c(p);r=j();s=c(r);t=k();u=d(t);v=Vb();y=d(v);z=l();B=d(z);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a){return a&&a.__esModule?a:{"default":a}}var e=0,f=!1;R.isMobile=s;R.removeItems=u["default"];R.EventEmitter=m["default"];R.pluginTarget=o["default"];R.mixins=q;R.earcut=B["default"];function g(){return++e}function h(a,b){b=b||[];b[0]=(a>>16&255)/255;b[1]=(a>>8&255)/255;b[2]=(a&255)/255;return b}function m(a){a=a.toString(16);a="000000".substr(0,6-a.length)+a;return"#"+a}function n(a){return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)}function o(a,c){a=b["default"].RETINA_PREFIX.exec(a);return a?parseFloat(a[1]):c!==void 0?c:1}function p(b){b=a.DATA_URI.exec(b);return b?{mediaType:b[1]?b[1].toLowerCase():void 0,subType:b[2]?b[2].toLowerCase():void 0,charset:b[3]?b[3].toLowerCase():void 0,encoding:b[4]?b[4].toLowerCase():void 0,data:b[5]}:void 0}function q(b){b=a.URL_FILE_EXTENSION.exec(b);return b?b[1].toLowerCase():void 0}function r(b){b=a.SVG_SIZE.exec(b);var c={};b&&(c[b[1]]=Math.round(parseFloat(b[3])),c[b[5]]=Math.round(parseFloat(b[7])));return c}function s(){f=!0}function t(b){if(f)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var c=["\n %c %c %c PixiJS "+a.VERSION+" - \u2730 "+b+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,c)}else window.console&&window.console.log("PixiJS "+a.VERSION+" - "+b+" - http://www.pixijs.com/");f=!0}function u(){var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas");b=b.getContext("webgl",a)||b.getContext("experimental-webgl",a);a=!!(b&&b.getContextAttributes().stencil);if(b){var c=b.getExtension("WEBGL_lose_context");c&&c.loseContext()}b=null;return a}catch(a){return!1}}function v(a){return a===0?0:a<0?-1:1}var w=R.TextureCache=Object.create(null),x=R.BaseTextureCache=Object.create(null);function y(){var a;for(a in w)w[a].destroy();for(a in x)x[a].destroy()}function z(){var a;for(a in w)delete w[a];for(a in x)delete x[a]}var A=R.premultiplyBlendMode=y["default"]();function B(a,b){return A[b?1:0][a]}function C(a,b){if(b===1)return(b*255<<24)+a;if(b===0)return 0;var c=a>>16&255,d=a>>8&255;a=a&255;c=c*b+.5|0;d=d*b+.5|0;a=a*b+.5|0;return(b*255<<24)+(c<<16)+(d<<8)+a}function D(a,b,c,d){c=c||new Float32Array(4);d||d===void 0?(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b):(c[0]=a[0],c[1]=a[1],c[2]=a[2]);c[3]=b;return c}function E(a,b,c,d){c=c||new Float32Array(4);c[0]=(a>>16&255)/255;c[1]=(a>>8&255)/255;c[2]=(a&255)/255;(d||d===void 0)&&(c[0]*=b,c[1]*=b,c[2]*=b);c[3]=b;return c}}var Yb=!1,S=function(){Yb||(Yb=!0,Xb());return Wb.exports},Zb={},$b={exports:Zb};function ac(){Zb.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=S(),c=Gb();d=d(c);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(c){g(d,c);function d(){e(this,d);var a=f(this,c.call(this));a.children=[];return a}d.prototype.onChildrenChange=function(){};d.prototype.addChild=function(a){var b=arguments.length;if(b>1)for(var c=0;c<b;c++)this.addChild(arguments[c]);else a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),a.emit("added",this);return a};d.prototype.addChildAt=function(a,b){if(b<0||b>this.children.length)throw new Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;a.transform._parentID=-1;this.children.splice(b,0,a);this._boundsID++;this.onChildrenChange(b);a.emit("added",this);return a};d.prototype.swapChildren=function(a,b){if(a===b)return;var c=this.getChildIndex(a),d=this.getChildIndex(b);this.children[c]=b;this.children[d]=a;this.onChildrenChange(c<d?c:d)};d.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(a===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return a};d.prototype.setChildIndex=function(a,c){if(c<0||c>=this.children.length)throw new Error("The index "+c+" supplied is out of bounds "+this.children.length);var d=this.getChildIndex(a);b.removeItems(this.children,d,1);this.children.splice(c,0,a);this.onChildrenChange(c)};d.prototype.getChildAt=function(a){if(a<0||a>=this.children.length)throw new Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};d.prototype.removeChild=function(a){var c=arguments.length;if(c>1)for(var d=0;d<c;d++)this.removeChild(arguments[d]);else{var e=this.children.indexOf(a);if(e===-1)return null;a.parent=null;a.transform._parentID=-1;b.removeItems(this.children,e,1);this._boundsID++;this.onChildrenChange(e);a.emit("removed",this)}return a};d.prototype.removeChildAt=function(a){var c=this.getChildAt(a);c.parent=null;c.transform._parentID=-1;b.removeItems(this.children,a,1);this._boundsID++;this.onChildrenChange(a);c.emit("removed",this);return c};d.prototype.removeChildren=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments[1],c=a,d=typeof b==="number"?b:this.children.length,e=d-c,f=void 0;if(e>0&&e<=d){f=this.children.splice(c,e);for(var g=0;g<f.length;++g)f[g].parent=null,f[g].transform&&(f[g].transform._parentID=-1);this._boundsID++;this.onChildrenChange(a);for(var h=0;h<f.length;++h)f[h].emit("removed",this);return f}else if(e===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")};d.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,b=this.children.length;a<b;++a){var c=this.children[a];c.visible&&c.updateTransform()}};d.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var a=0;a<this.children.length;a++){var b=this.children[a];if(!b.visible||!b.renderable)continue;b.calculateBounds();b._mask?(b._mask.calculateBounds(),this._bounds.addBoundsMask(b._bounds,b._mask._bounds)):b.filterArea?this._bounds.addBoundsArea(b._bounds,b.filterArea):this._bounds.addBounds(b._bounds)}this._lastBoundsID=this._boundsID};d.prototype._calculateBounds=function(){};d.prototype.renderWebGL=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;if(this._mask||this._filters)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderWebGL(a)}};d.prototype.renderAdvancedWebGL=function(a){a.flush();var b=this._filters,c=this._mask;if(b){this._enabledFilters||(this._enabledFilters=[]);this._enabledFilters.length=0;for(var d=0;d<b.length;d++)b[d].enabled&&this._enabledFilters.push(b[d]);this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}c&&a.maskManager.pushMask(this,this._mask);this._renderWebGL(a);for(var d=0,e=this.children.length;d<e;d++)this.children[d].renderWebGL(a);a.flush();c&&a.maskManager.popMask(this,this._mask);b&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter()};d.prototype._renderWebGL=function(a){};d.prototype._renderCanvas=function(a){};d.prototype.renderCanvas=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;this._mask&&a.maskManager.pushMask(this._mask);this._renderCanvas(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderCanvas(a);this._mask&&a.maskManager.popMask(a)};d.prototype.destroy=function(a){c.prototype.destroy.call(this);var b=typeof a==="boolean"?a:a&&a.children,d=this.removeChildren(0,this.children.length);if(b)for(var b=0;b<d.length;++b)d[b].destroy(a)};a(d,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var b=this.getLocalBounds().width;b!==0?this.scale.x=a/b:this.scale.x=1;this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;b!==0?this.scale.y=a/b:this.scale.y=1;this._height=a}}]);return d}(d["default"]);Zb["default"]=c;c.prototype.containerUpdateTransform=c.prototype.updateTransform}var bc=!1,cc=function(){bc||(bc=!0,ac());return $b.exports},dc={},ec={exports:dc};function fc(){dc.__esModule=!0;dc["default"]=d;d={};var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=void 0;function d(b){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location;if(b.indexOf("data:")===0)return"";d=d||window.location;c||(c=document.createElement("a"));c.href=b;b=a["default"].parse(c.href);var e=!b.port&&d.port===""||b.port===d.port;return b.hostname!==d.hostname||!e||b.protocol!==d.protocol?"anonymous":""}}var gc=!1,hc=function(){gc||(gc=!0,fc());return ec.exports},ic={},jc={exports:ic};function kc(){ic.__esModule=!0;var a=S(),b=Q(),c=g(b);b=i();b=g(b);var d=hc(),e=g(d);d=m();var f=g(d);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g=function(b){k(d,b);function d(e,f,g){h(this,d);var i=j(this,b.call(this));i.uid=a.uid();i.touched=0;i.resolution=g||c["default"].RESOLUTION;i.width=100;i.height=100;i.realWidth=100;i.realHeight=100;i.scaleMode=f!==void 0?f:c["default"].SCALE_MODE;i.hasLoaded=!1;i.isLoading=!1;i.source=null;i.origSource=null;i.imageType=null;i.sourceScale=1;i.premultipliedAlpha=!0;i.imageUrl=null;i.isPowerOfTwo=!1;i.mipmap=c["default"].MIPMAP_TEXTURES;i.wrapMode=c["default"].WRAP_MODE;i._glTextures={};i._enabled=0;i._virtalBoundId=-1;i._destroyed=!1;i.textureCacheIds=[];e&&i.loadSource(e);return i}d.prototype.update=function(){this.imageType!=="svg"&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)};d.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=f["default"].isPow2(this.realWidth)&&f["default"].isPow2(this.realHeight)};d.prototype.loadSource=function(a){var b=this.isLoading;this.hasLoaded=!1;this.isLoading=!1;b&&this.source&&(this.source.onload=null,this.source.onerror=null);var c=!this.source;this.source=a;if((a.src&&a.complete||a.getContext)&&a.width&&a.height)this._updateImageType(),this.imageType==="svg"?this._loadSvgSource():this._sourceLoaded(),c&&this.emit("loaded",this);else if(!a.getContext){this.isLoading=!0;var d=this;a.onload=function(){d._updateImageType();a.onload=null;a.onerror=null;if(!d.isLoading)return;d.isLoading=!1;d._sourceLoaded();if(d.imageType==="svg"){d._loadSvgSource();return}d.emit("loaded",d)};a.onerror=function(){a.onload=null;a.onerror=null;if(!d.isLoading)return;d.isLoading=!1;d.emit("error",d)};if(a.complete&&a.src){a.onload=null;a.onerror=null;if(d.imageType==="svg"){d._loadSvgSource();return}this.isLoading=!1;a.width&&a.height?(this._sourceLoaded(),b&&this.emit("loaded",this)):b&&this.emit("error",this)}}};d.prototype._updateImageType=function(){if(!this.imageUrl)return;var b=a.decomposeDataUri(this.imageUrl);if(b&&b.mediaType==="image"){b=b.subType.split("+")[0];b=a.getUrlFileExtension("."+b);if(!b)throw new Error("Invalid image type in data URI.")}else b=a.getUrlFileExtension(this.imageUrl),b||(b="png");this.imageType=b};d.prototype._loadSvgSource=function(){if(this.imageType!=="svg")return;var b=a.decomposeDataUri(this.imageUrl);b?this._loadSvgSourceUsingDataUri(b):this._loadSvgSourceUsingXhr()};d.prototype._loadSvgSourceUsingDataUri=function(a){var b;if(a.encoding==="base64"){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");b=atob(a.data)}else b=a.data;this._loadSvgSourceUsingString(b)};d.prototype._loadSvgSourceUsingXhr=function(){var a=this,b=new XMLHttpRequest();b.onload=function(){if(b.readyState!==b.DONE||b.status!==200)throw new Error("Failed to load SVG using XHR.");a._loadSvgSourceUsingString(b.response)};b.onerror=function(){return a.emit("error",a)};b.open("GET",this.imageUrl,!0);b.send()};d.prototype._loadSvgSourceUsingString=function(b){b=a.getSvgSize(b);var c=b.width;b=b.height;if(!c||!b)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(c*this.sourceScale);this.realHeight=Math.round(b*this.sourceScale);this._updateDimensions();var e=document.createElement("canvas");e.width=this.realWidth;e.height=this.realHeight;e._pixiId="canvas_"+a.uid();e.getContext("2d").drawImage(this.source,0,0,c,b,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=e;d.addToCache(this,e._pixiId);this.isLoading=!1;this._sourceLoaded();this.emit("loaded",this)};d.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()};d.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),d.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0};d.prototype.dispose=function(){this.emit("dispose",this)};d.prototype.updateSourceImage=function(a){this.source.src=a,this.loadSource(this.source)};d.fromImage=function(b,c,f,g){var h=a.BaseTextureCache[b];if(!h){var i=new Image();c===void 0&&b.indexOf("data:")!==0?i.crossOrigin=e["default"](b):c&&(i.crossOrigin=typeof c==="string"?c:"anonymous");h=new d(i,f);h.imageUrl=b;g&&(h.sourceScale=g);h.resolution=a.getResolutionOfUrl(b);i.src=b;d.addToCache(h,b)}return h};d.fromCanvas=function(b,c){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";b._pixiId||(b._pixiId=e+"_"+a.uid());var f=a.BaseTextureCache[b._pixiId];f||(f=new d(b,c),d.addToCache(f,b._pixiId));return f};d.from=function(b,c,e){if(typeof b==="string")return d.fromImage(b,void 0,c,e);else if(b instanceof HTMLImageElement){var f=b.src,g=a.BaseTextureCache[f];g||(g=new d(b,c),g.imageUrl=f,e&&(g.sourceScale=e),g.resolution=a.getResolutionOfUrl(f),d.addToCache(g,f));return g}else if(b instanceof HTMLCanvasElement)return d.fromCanvas(b,c);return b};d.addToCache=function(b,c){c&&(b.textureCacheIds.indexOf(c)===-1&&b.textureCacheIds.push(c),a.BaseTextureCache[c],a.BaseTextureCache[c]=b)};d.removeFromCache=function(b){if(typeof b==="string"){var c=a.BaseTextureCache[b];if(c){var d=c.textureCacheIds.indexOf(b);d>-1&&c.textureCacheIds.splice(d,1);delete a.BaseTextureCache[b];return c}}else if(b&&b.textureCacheIds){for(var d=0;d<b.textureCacheIds.length;++d)delete a.BaseTextureCache[b.textureCacheIds[d]];b.textureCacheIds.length=0;return b}return null};return d}(b["default"]);ic["default"]=g}var lc=!1,mc=function(){lc||(lc=!0,kc());return jc.exports},nc={},oc={exports:nc};function pc(){nc.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;a(this,b);this.fn=c;this.context=d;this.priority=e;this.once=f;this.next=null;this.previous=null;this._destroyed=!1}b.prototype.match=function(a,b){b=b||null;return this.fn===a&&this.context===b};b.prototype.emit=function(a){this.fn&&(this.context?this.fn.call(this.context,a):this.fn(a));a=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return a};b.prototype.connect=function(a){this.previous=a,a.next&&(a.next.previous=this),this.next=a.next,a.next=this};b.prototype.destroy=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._destroyed=!0;this.fn=null;this.context=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);var b=this.next;this.next=a?null:b;this.previous=null;return b};return b}();nc["default"]=b}var qc=!1,rc=function(){qc||(qc=!0,pc());return oc.exports},sc={},tc={exports:sc};function uc(){sc.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Q(),c=f(b),d=K();b=rc();var e=f(b);function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=function(){function b(){var a=this;g(this,b);this._head=new e["default"](null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;this.deltaTime=1;this.elapsedMS=1/c["default"].TARGET_FPMS;this.lastTime=-1;this.speed=1;this.started=!1;this._tick=function(b){a._requestId=null,a.started&&(a.update(b),a.started&&a._requestId===null&&a._head.next&&(a._requestId=requestAnimationFrame(a._tick)))}}b.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};b.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)};b.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};b.prototype.add=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new e["default"](a,b,c))};b.prototype.addOnce=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new e["default"](a,b,c,!0))};b.prototype._addListener=function(a){var b=this._head.next,c=this._head;if(!b)a.connect(c);else{while(b){if(a.priority>b.priority){a.connect(c);break}c=b;b=b.next}a.previous||a.connect(c)}this._startIfPossible();return this};b.prototype.remove=function(a,b){var c=this._head.next;while(c)c.match(a,b)?c=c.destroy():c=c.next;this._head.next||this._cancelIfNeeded();return this};b.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};b.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};b.prototype.destroy=function(){this.stop();var a=this._head.next;while(a)a=a.destroy(!0);this._head.destroy();this._head=null};b.prototype.update=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:performance.now(),b;if(a>this.lastTime){b=this.elapsedMS=a-this.lastTime;b>this._maxElapsedMS&&(b=this._maxElapsedMS);this.deltaTime=b*c["default"].TARGET_FPMS*this.speed;var d=this._head,e=d.next;while(e)e=e.emit(this.deltaTime);d.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=a};a(b,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(a){a=Math.min(Math.max(0,a)/1e3,c["default"].TARGET_FPMS);this._maxElapsedMS=1/a}}]);return b}();sc["default"]=f}var vc=!1,wc=function(){vc||(vc=!0,uc());return tc.exports},xc={},yc={exports:xc};function zc(){xc.__esModule=!0;xc.Ticker=xc.shared=void 0;var a=wc();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}a=new b["default"]();a.autoStart=!0;a.destroy=function(){};xc.shared=a;xc.Ticker=b["default"]}var Ac=!1,Bc=function(){Ac||(Ac=!0,zc());return yc.exports},Cc={},Dc={exports:Cc};function Ec(){Cc.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=mc(),c=h(b),d=S(),e=Bc(),f=K();b=hc();var g=h(b);function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h=function(b){k(h,b);function h(a,c){i(this,h);if(!a)throw new Error("No video source element specified.");(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0);c=j(this,b.call(this,a,c));c.width=a.videoWidth;c.height=a.videoHeight;c._autoUpdate=!0;c._isAutoUpdating=!1;c.autoPlay=!0;c.update=c.update.bind(c);c._onCanPlay=c._onCanPlay.bind(c);a.addEventListener("play",c._onPlayStart.bind(c));a.addEventListener("pause",c._onPlayStop.bind(c));c.hasLoaded=!1;c.__loaded=!1;!c._isSourceReady()?(a.addEventListener("canplay",c._onCanPlay),a.addEventListener("canplaythrough",c._onCanPlay)):c._onCanPlay();return c}h.prototype._isSourcePlaying=function(){var a=this.source;return a.currentTime>0&&a.paused===!1&&a.ended===!1&&a.readyState>2};h.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4};h.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(e.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)};h.prototype._onPlayStop=function(){this._isAutoUpdating&&(e.shared.remove(this.update,this),this._isAutoUpdating=!1)};h.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())};h.prototype.destroy=function(){this._isAutoUpdating&&e.shared.remove(this.update,this),this.source&&this.source._pixiId&&(c["default"].removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),b.prototype.destroy.call(this)};h.fromVideo=function(a,b){a._pixiId||(a._pixiId="video_"+d.uid());var e=d.BaseTextureCache[a._pixiId];e||(e=new h(a,b),c["default"].addToCache(e,a._pixiId));return e};h.fromUrl=function(a,b,c){var d=document.createElement("video");d.setAttribute("webkit-playsinline","");d.setAttribute("playsinline","");var e=Array.isArray(a)?a[0].src||a[0]:a.src||a;c===void 0&&e.indexOf("data:")!==0?d.crossOrigin=g["default"](e):c&&(d.crossOrigin=typeof c==="string"?c:"anonymous");if(Array.isArray(a))for(var c=0;c<a.length;++c)d.appendChild(l(a[c].src||a[c],a[c].mime));else d.appendChild(l(e,a.mime));d.load();return h.fromVideo(d,b)};a(h,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isAutoUpdating?(e.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(e.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]);return h}(c["default"]);Cc["default"]=h;h.fromUrls=h.fromUrl;function l(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var c=document.createElement("source");c.src=a;c.type=b;return c}}var Fc=!1,Gc=function(){Fc||(Fc=!0,Ec());return Dc.exports},Hc={},Ic={exports:Hc};function Jc(){Hc.__esModule=!0;var a=sa(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c=function(){function a(){d(this,a),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}a.prototype.set=function(a,c,d){var e=c.width;c=c.height;if(d){var f=a.width/2/e,g=a.height/2/c,h=a.x/e+f,i=a.y/c+g;d=b["default"].add(d,b["default"].NW);this.x0=h+f*b["default"].uX(d);this.y0=i+g*b["default"].uY(d);d=b["default"].add(d,2);this.x1=h+f*b["default"].uX(d);this.y1=i+g*b["default"].uY(d);d=b["default"].add(d,2);this.x2=h+f*b["default"].uX(d);this.y2=i+g*b["default"].uY(d);d=b["default"].add(d,2);this.x3=h+f*b["default"].uX(d);this.y3=i+g*b["default"].uY(d)}else this.x0=a.x/e,this.y0=a.y/c,this.x1=(a.x+a.width)/e,this.y1=a.y/c,this.x2=(a.x+a.width)/e,this.y2=(a.y+a.height)/c,this.x3=a.x/e,this.y3=(a.y+a.height)/c;this.uvsUint32[0]=(this.y0*65535&65535)<<16|this.x0*65535&65535;this.uvsUint32[1]=(this.y1*65535&65535)<<16|this.x1*65535&65535;this.uvsUint32[2]=(this.y2*65535&65535)<<16|this.x2*65535&65535;this.uvsUint32[3]=(this.y3*65535&65535)<<16|this.x3*65535&65535};return a}();Hc["default"]=c}var Kc=!1,Lc=function(){Kc||(Kc=!0,Jc());return Ic.exports},Mc={},Nc={exports:Mc};function Oc(){Mc.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=mc(),c=k(b);b=Gc();var d=k(b);b=Lc();var e=k(b);b=i();b=k(b);var f=P(),g=S(),h=Q(),j=k(h);function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function n(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var o=function(h){n(b,h);function b(a,c,d,e,g){l(this,b);var i=m(this,h.call(this));i.noFrame=!1;c||(i.noFrame=!0,c=new f.Rectangle(0,0,1,1));a instanceof b&&(a=a.baseTexture);i.baseTexture=a;i._frame=c;i.trim=e;i.valid=!1;i.requiresUpdate=!1;i._uvs=null;i.orig=d||c;i._rotate=Number(g||0);if(g===!0)i._rotate=2;else if(i._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");a.hasLoaded?(i.noFrame&&(c=new f.Rectangle(0,0,a.width,a.height),a.on("update",i.onBaseTextureUpdated,i)),i.frame=c):a.once("loaded",i.onBaseTextureLoaded,i);i._updateID=0;i.transform=null;i.textureCacheIds=[];return i}b.prototype.update=function(){this.baseTexture.update()};b.prototype.onBaseTextureLoaded=function(a){this._updateID++,this.noFrame?this.frame=new f.Rectangle(0,0,a.width,a.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)};b.prototype.onBaseTextureUpdated=function(a){this._updateID++,this._frame.width=a.width,this._frame.height=a.height,this.emit("update",this)};b.prototype.destroy=function(a){this.baseTexture&&(a&&(g.TextureCache[this.baseTexture.imageUrl]&&b.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,b.removeFromCache(this),this.textureCacheIds=null};b.prototype.clone=function(){return new b(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};b.prototype._updateUvs=function(){this._uvs||(this._uvs=new e["default"]()),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++};b.fromImage=function(a,d,e,f){var h=g.TextureCache[a];h||(h=new b(c["default"].fromImage(a,d,e,f)),b.addToCache(h,a));return h};b.fromFrame=function(a){var b=g.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return b};b.fromCanvas=function(a,d){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";return new b(c["default"].fromCanvas(a,d,e))};b.fromVideo=function(a,c){return typeof a==="string"?b.fromVideoUrl(a,c):new b(d["default"].fromVideo(a,c))};b.fromVideoUrl=function(a,c){return new b(d["default"].fromUrl(a,c))};b.from=function(a){if(typeof a==="string"){var d=g.TextureCache[a];if(!d){var e=a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;return e?b.fromVideoUrl(a):b.fromImage(a)}return d}else if(a instanceof HTMLImageElement)return new b(c["default"].from(a));else if(a instanceof HTMLCanvasElement)return b.fromCanvas(a,j["default"].SCALE_MODE,"HTMLCanvasElement");else if(a instanceof HTMLVideoElement)return b.fromVideo(a);else if(a instanceof c["default"])return new b(a);return a};b.fromLoader=function(a,d,e){a=new c["default"](a,void 0,g.getResolutionOfUrl(d));var f=new b(a);a.imageUrl=d;e||(e=d);c["default"].addToCache(f.baseTexture,e);b.addToCache(f,e);e!==d&&(c["default"].addToCache(f.baseTexture,d),b.addToCache(f,d));return f};b.addToCache=function(a,b){b&&(a.textureCacheIds.indexOf(b)===-1&&a.textureCacheIds.push(b),g.TextureCache[b],g.TextureCache[b]=a)};b.removeFromCache=function(a){if(typeof a==="string"){var b=g.TextureCache[a];if(b){var c=b.textureCacheIds.indexOf(a);c>-1&&b.textureCacheIds.splice(c,1);delete g.TextureCache[a];return b}}else if(a&&a.textureCacheIds){for(var c=0;c<a.textureCacheIds.length;++c)g.TextureCache[a.textureCacheIds[c]]===a&&delete g.TextureCache[a.textureCacheIds[c]];a.textureCacheIds.length=0;return a}return null};a(b,[{key:"frame",get:function(){return this._frame},set:function(a){this._frame=a;this.noFrame=!1;var b=a.x,c=a.y,d=a.width,e=a.height,f=b+d>this.baseTexture.width,g=c+e>this.baseTexture.height;if(f||g){f=f&&g?"and":"or";g="X: "+b+" + "+d+" = "+(b+d)+" > "+this.baseTexture.width;b="Y: "+c+" + "+e+" = "+(c+e)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(g+" "+f+" "+b))}this.valid=d&&e&&this.baseTexture.hasLoaded;!this.trim&&!this.rotate&&(this.orig=a);this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(a){this._rotate=a,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]);return b}(b["default"]);Mc["default"]=o;function p(){var a=document.createElement("canvas");a.width=10;a.height=10;var b=a.getContext("2d");b.fillStyle="white";b.fillRect(0,0,10,10);return new o(new c["default"](a))}function q(a){a.destroy=function(){},a.on=function(){},a.once=function(){},a.emit=function(){}}o.EMPTY=new o(new c["default"]());q(o.EMPTY);q(o.EMPTY.baseTexture);o.WHITE=p();q(o.WHITE);q(o.WHITE.baseTexture)}var Pc=!1,T=function(){Pc||(Pc=!0,Oc());return Nc.exports},Qc={},Rc={exports:Qc};function Sc(){Qc.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=P(),c=S(),d=K(),e=T(),f=g(e);e=cc();g=g(e);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var k=new b.Point();e=function(e){j(g,e);function g(a){h(this,g);var c=i(this,e.call(this));c._anchor=new b.ObservablePoint(c._onAnchorUpdate,c);c._texture=null;c._width=0;c._height=0;c._tint=null;c._tintRGB=null;c.tint=16777215;c.blendMode=d.BLEND_MODES.NORMAL;c.shader=null;c.cachedTint=16777215;c.texture=a||f["default"].EMPTY;c.vertexData=new Float32Array(8);c.vertexTrimmedData=null;c._transformID=-1;c._textureID=-1;c._transformTrimmedID=-1;c._textureTrimmedID=-1;c.pluginName="sprite";return c}g.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=c.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=c.sign(this.scale.y)*this._height/this._texture.orig.height)};g.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1};g.prototype.calculateVertices=function(){if(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID)return;this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var a=this._texture,b=this.transform.worldTransform,c=b.a,d=b.b,e=b.c,f=b.d,g=b.tx;b=b.ty;var h=this.vertexData,i=a.trim;a=a.orig;var j=this._anchor,k,l,m;i?(l=i.x-j._x*a.width,k=l+i.width,m=i.y-j._y*a.height,i=m+i.height):(l=-j._x*a.width,k=l+a.width,m=-j._y*a.height,i=m+a.height);h[0]=c*l+e*m+g;h[1]=f*m+d*l+b;h[2]=c*k+e*m+g;h[3]=f*m+d*k+b;h[4]=c*k+e*i+g;h[5]=f*i+d*k+b;h[6]=c*l+e*i+g;h[7]=f*i+d*l+b};g.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var a=this._texture,b=this.vertexTrimmedData;a=a.orig;var c=this._anchor,d=this.transform.worldTransform,e=d.a,f=d.b,g=d.c,h=d.d,i=d.tx;d=d.ty;var j=-c._x*a.width,k=j+a.width;c=-c._y*a.height;a=c+a.height;b[0]=e*j+g*c+i;b[1]=h*c+f*j+d;b[2]=e*k+g*c+i;b[3]=h*c+f*k+d;b[4]=e*k+g*a+i;b[5]=h*a+f*k+d;b[6]=e*j+g*a+i;b[7]=h*a+f*j+d};g.prototype._renderWebGL=function(a){this.calculateVertices(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this)};g.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)};g.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};g.prototype.getLocalBounds=function(a){if(this.children.length===0){this._bounds.minX=this._texture.orig.width*-this._anchor._x;this._bounds.minY=this._texture.orig.height*-this._anchor._y;this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x);this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y);a||(this._localBoundsRect||(this._localBoundsRect=new b.Rectangle()),a=this._localBoundsRect);return this._bounds.getRectangle(a)}return e.prototype.getLocalBounds.call(this,a)};g.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,k);a=this._texture.orig.width;var b=this._texture.orig.height,c=-a*this.anchor.x;if(k.x>=c&&k.x<c+a){c=-b*this.anchor.y;if(k.y>=c&&k.y<c+b)return!0}return!1};g.prototype.destroy=function(a){e.prototype.destroy.call(this,a);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;var b=typeof a==="boolean"?a:a&&a.texture;if(b){b=typeof a==="boolean"?a:a&&a.baseTexture;this._texture.destroy(!!b)}this._texture=null;this.shader=null};g.from=function(a){return new g(f["default"].from(a))};g.fromFrame=function(a){var b=c.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return new g(b)};g.fromImage=function(a,b,c){return new g(f["default"].fromImage(a,b,c))};a(g,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var b=c.sign(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){var b=c.sign(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"anchor",get:function(){return this._anchor},set:function(a){this._anchor.copy(a)}},{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a,this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture===a)return;this._texture=a;this.cachedTint=16777215;this._textureID=-1;this._textureTrimmedID=-1;a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this))}}]);return g}(g["default"]);Qc["default"]=e}var Tc=!1,Uc=function(){Tc||(Tc=!0,Sc());return Rc.exports},Vc={},Wc={exports:Vc};function Xc(){Vc.__esModule=!0;var a=mc();a=d(a);var b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(a){g(b,a);function b(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,h=arguments[2],i=arguments[3];e(this,b);var j=f(this,a.call(this,null,h));j.resolution=i||c["default"].RESOLUTION;j.width=Math.ceil(d);j.height=Math.ceil(g);j.realWidth=j.width*j.resolution;j.realHeight=j.height*j.resolution;j.scaleMode=h!==void 0?h:c["default"].SCALE_MODE;j.hasLoaded=!0;j._glRenderTargets={};j._canvasRenderTarget=null;j.valid=!1;return j}b.prototype.resize=function(a,b){a=Math.ceil(a);b=Math.ceil(b);if(a===this.width&&b===this.height)return;this.valid=a>0&&b>0;this.width=a;this.height=b;this.realWidth=this.width*this.resolution;this.realHeight=this.height*this.resolution;if(!this.valid)return;this.emit("update",this)};b.prototype.destroy=function(){a.prototype.destroy.call(this,!0),this.renderer=null};return b}(a["default"]);Vc["default"]=d}var Yc=!1,Zc=function(){Yc||(Yc=!0,Xc());return Wc.exports},$c={},ad={exports:$c};function bd(){$c.__esModule=!0;var a=Zc(),b=c(a);a=T();c=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){f(c,a);function c(f,g){d(this,c);var h=null;if(!(f instanceof b["default"])){var i=arguments[1],j=arguments[2],k=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+i+", "+j+") instead of the ctor directly.");h=arguments[0];g=null;f=new b["default"](i,j,k,l)}var m=e(this,a.call(this,f,g));m.legacyRenderer=h;m.valid=!0;m._updateUvs();return m}c.prototype.resize=function(a,b,c){a=Math.ceil(a),b=Math.ceil(b),this.valid=a>0&&b>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=b,c||this.baseTexture.resize(a,b),this._updateUvs()};c.create=function(a,d,e,f){return new c(new b["default"](a,d,e,f))};return c}(c["default"]);$c["default"]=a}var cd=!1,dd=function(){cd||(cd=!0,bd());return ad.exports},ed={},fd={exports:ed};function gd(){ed.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=S(),c=P(),d=K(),e=Q(),f=j(e);e=cc();var g=j(e);e=dd();var h=j(e);e=i();j=j(e);function j(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function m(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var n=new c.Matrix();e=function(e){m(i,e);function i(a,h,j,m){k(this,i);var n=l(this,e.call(this));b.sayHello(a);typeof h==="number"&&(h=Object.assign({width:h,height:j||f["default"].RENDER_OPTIONS.height},m));h=Object.assign({},f["default"].RENDER_OPTIONS,h);n.options=h;n.type=d.RENDERER_TYPE.UNKNOWN;n.screen=new c.Rectangle(0,0,h.width,h.height);n.view=h.view||document.createElement("canvas");n.resolution=h.resolution||f["default"].RESOLUTION;n.transparent=h.transparent;n.autoResize=h.autoResize||!1;n.blendModes=null;n.preserveDrawingBuffer=h.preserveDrawingBuffer;n.clearBeforeRender=h.clearBeforeRender;n.roundPixels=h.roundPixels;n._backgroundColor=0;n._backgroundColorRgba=[0,0,0,0];n._backgroundColorString="#000000";n.backgroundColor=h.backgroundColor||n._backgroundColor;n._tempDisplayObjectParent=new g["default"]();n._lastObjectRendered=n._tempDisplayObjectParent;return n}i.prototype.resize=function(a,b){this.screen.width=a,this.screen.height=b,this.view.width=a*this.resolution,this.view.height=b*this.resolution,this.autoResize&&(this.view.style.width=a+"px",this.view.style.height=b+"px")};i.prototype.generateTexture=function(a,b,c,d){d=d||a.getLocalBounds();b=h["default"].create(d.width|0,d.height|0,b,c);n.tx=-d.x;n.ty=-d.y;this.render(a,b,!1,n,!0);return b};i.prototype.destroy=function(a){a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=d.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null};a(i,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a,this._backgroundColorString=b.hex2string(a),b.hex2rgb(a,this._backgroundColorRgba)}}]);return i}(j["default"]);ed["default"]=e}var hd=!1,id=function(){hd||(hd=!0,gd());return fd.exports},jd={},kd={exports:jd};function ld(){jd.__esModule=!0;var a=K();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(a){b(this,c),this.renderer=a}c.prototype.pushMask=function(a){var b=this.renderer;b.context.save();var c=a.alpha,d=a.transform.worldTransform,e=b.resolution;b.context.setTransform(d.a*e,d.b*e,d.c*e,d.d*e,d.tx*e,d.ty*e);a._texture||(this.renderGraphicsShape(a),b.context.clip());a.worldAlpha=c};c.prototype.renderGraphicsShape=function(b){var c=this.renderer.context,d=b.graphicsData.length;if(d===0)return;c.beginPath();for(var e=0;e<d;e++){var f=b.graphicsData[e],g=f.shape;if(f.type===a.SHAPES.POLY){var h=g.points;c.moveTo(h[0],h[1]);for(var i=1;i<h.length/2;i++)c.lineTo(h[i*2],h[i*2+1]);h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&c.closePath()}else if(f.type===a.SHAPES.RECT)c.rect(g.x,g.y,g.width,g.height),c.closePath();else if(f.type===a.SHAPES.CIRC)c.arc(g.x,g.y,g.radius,0,2*Math.PI),c.closePath();else if(f.type===a.SHAPES.ELIP){i=g.width*2;h=g.height*2;var j=g.x-i/2,k=g.y-h/2,l=.5522848,m=i/2*l;l=h/2*l;var n=j+i,o=k+h;i=j+i/2;h=k+h/2;c.moveTo(j,h);c.bezierCurveTo(j,h-l,i-m,k,i,k);c.bezierCurveTo(i+m,k,n,h-l,n,h);c.bezierCurveTo(n,h+l,i+m,o,i,o);c.bezierCurveTo(i-m,o,j,h+l,j,h);c.closePath()}else if(f.type===a.SHAPES.RREC){k=g.x;n=g.y;i=g.width;m=g.height;o=g.radius;l=Math.min(i,m)/2|0;o=o>l?l:o;c.moveTo(k,n+o);c.lineTo(k,n+m-o);c.quadraticCurveTo(k,n+m,k+o,n+m);c.lineTo(k+i-o,n+m);c.quadraticCurveTo(k+i,n+m,k+i,n+m-o);c.lineTo(k+i,n+o);c.quadraticCurveTo(k+i,n,k+i-o,n);c.lineTo(k+o,n);c.quadraticCurveTo(k,n,k,n+o);c.closePath()}}};c.prototype.popMask=function(a){a.context.restore(),a.invalidateBlendMode()};c.prototype.destroy=function(){};return c}();jd["default"]=c}var md=!1,nd=function(){md||(md=!0,ld());return kd.exports},od={},pd={exports:od};function qd(){od.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function b(a,d,f){e(this,b),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=f||c["default"].RESOLUTION,this.resize(a,d)}b.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};b.prototype.resize=function(a,b){this.canvas.width=a*this.resolution,this.canvas.height=b*this.resolution};b.prototype.destroy=function(){this.context=null,this.canvas=null};a(b,[{key:"width",get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},{key:"height",get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}]);return b}();od["default"]=d}var rd=!1,sd=function(){rd||(rd=!0,qd());return pd.exports},td={},ud={exports:td};function vd(){td.__esModule=!0;td["default"]=b;function a(a){var b=document.createElement("canvas");b.width=6;b.height=1;var c=b.getContext("2d");c.fillStyle=a;c.fillRect(0,0,6,1);return b}function b(){if(typeof document==="undefined")return!1;var b=a("#ff00ff"),c=a("#ffff00"),d=document.createElement("canvas");d.width=6;d.height=1;d=d.getContext("2d");d.globalCompositeOperation="multiply";d.drawImage(b,0,0);d.drawImage(c,2,0);b=d.getImageData(2,0,1,1);if(!b)return!1;c=b.data;return c[0]===255&&c[1]===0&&c[2]===0}}var wd=!1,xd=function(){wd||(wd=!0,vd());return ud.exports},yd={},zd={exports:yd};function Ad(){yd.__esModule=!0;yd["default"]=d;var a=K();d=xd();var b=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];b["default"]()?(c[a.BLEND_MODES.NORMAL]="source-over",c[a.BLEND_MODES.ADD]="lighter",c[a.BLEND_MODES.MULTIPLY]="multiply",c[a.BLEND_MODES.SCREEN]="screen",c[a.BLEND_MODES.OVERLAY]="overlay",c[a.BLEND_MODES.DARKEN]="darken",c[a.BLEND_MODES.LIGHTEN]="lighten",c[a.BLEND_MODES.COLOR_DODGE]="color-dodge",c[a.BLEND_MODES.COLOR_BURN]="color-burn",c[a.BLEND_MODES.HARD_LIGHT]="hard-light",c[a.BLEND_MODES.SOFT_LIGHT]="soft-light",c[a.BLEND_MODES.DIFFERENCE]="difference",c[a.BLEND_MODES.EXCLUSION]="exclusion",c[a.BLEND_MODES.HUE]="hue",c[a.BLEND_MODES.SATURATION]="saturate",c[a.BLEND_MODES.COLOR]="color",c[a.BLEND_MODES.LUMINOSITY]="luminosity"):(c[a.BLEND_MODES.NORMAL]="source-over",c[a.BLEND_MODES.ADD]="lighter",c[a.BLEND_MODES.MULTIPLY]="source-over",c[a.BLEND_MODES.SCREEN]="source-over",c[a.BLEND_MODES.OVERLAY]="source-over",c[a.BLEND_MODES.DARKEN]="source-over",c[a.BLEND_MODES.LIGHTEN]="source-over",c[a.BLEND_MODES.COLOR_DODGE]="source-over",c[a.BLEND_MODES.COLOR_BURN]="source-over",c[a.BLEND_MODES.HARD_LIGHT]="source-over",c[a.BLEND_MODES.SOFT_LIGHT]="source-over",c[a.BLEND_MODES.DIFFERENCE]="source-over",c[a.BLEND_MODES.EXCLUSION]="source-over",c[a.BLEND_MODES.HUE]="source-over",c[a.BLEND_MODES.SATURATION]="source-over",c[a.BLEND_MODES.COLOR]="source-over",c[a.BLEND_MODES.LUMINOSITY]="source-over");c[a.BLEND_MODES.NORMAL_NPM]=c[a.BLEND_MODES.NORMAL];c[a.BLEND_MODES.ADD_NPM]=c[a.BLEND_MODES.ADD];c[a.BLEND_MODES.SCREEN_NPM]=c[a.BLEND_MODES.SCREEN];return c}}var Bd=!1,Cd=function(){Bd||(Bd=!0,Ad());return zd.exports},Dd={},Ed={exports:Dd};function Fd(){Dd.__esModule=!0;var a=id();a=i(a);var b=nd(),c=i(b);b=sd();var d=i(b);b=Cd();var e=i(b);b=S();var f=K(),g=Q(),h=i(g);function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function l(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}i=function(a){l(b,a);function b(d,g,h){j(this,b);d=k(this,a.call(this,"Canvas",d,g,h));d.type=f.RENDERER_TYPE.CANVAS;d.rootContext=d.view.getContext("2d",{alpha:d.transparent});d.context=d.rootContext;d.refresh=!0;d.maskManager=new c["default"](d);d.smoothProperty="imageSmoothingEnabled";d.rootContext.imageSmoothingEnabled||(d.rootContext.webkitImageSmoothingEnabled?d.smoothProperty="webkitImageSmoothingEnabled":d.rootContext.mozImageSmoothingEnabled?d.smoothProperty="mozImageSmoothingEnabled":d.rootContext.oImageSmoothingEnabled?d.smoothProperty="oImageSmoothingEnabled":d.rootContext.msImageSmoothingEnabled&&(d.smoothProperty="msImageSmoothingEnabled"));d.initPlugins();d.blendModes=e["default"]();d._activeBlendMode=null;d.renderingToScreen=!1;d.resize(d.options.width,d.options.height);return d}b.prototype.render=function(a,b,c,e,g){if(!this.view)return;this.renderingToScreen=!b;this.emit("prerender");var h=this.resolution;b?(b=b.baseTexture||b,b._canvasRenderTarget||(b._canvasRenderTarget=new d["default"](b.width,b.height,b.resolution),b.source=b._canvasRenderTarget.canvas,b.valid=!0),this.context=b._canvasRenderTarget.context,this.resolution=b._canvasRenderTarget.resolution):this.context=this.rootContext;var i=this.context;b||(this._lastObjectRendered=a);if(!g){b=a.parent;g=this._tempDisplayObjectParent.transform.worldTransform;e?(e.copy(g),this._tempDisplayObjectParent.transform._worldID=-1):g.identity();a.parent=this._tempDisplayObjectParent;a.updateTransform();a.parent=b}i.save();i.setTransform(1,0,0,1,0,0);i.globalAlpha=1;this._activeBlendMode=f.BLEND_MODES.NORMAL;i.globalCompositeOperation=this.blendModes[f.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&(i.fillStyle="black",i.clear());(c!==void 0?c:this.clearBeforeRender)&&(this.renderingToScreen&&(this.transparent?i.clearRect(0,0,this.width,this.height):(i.fillStyle=this._backgroundColorString,i.fillRect(0,0,this.width,this.height))));e=this.context;this.context=i;a.renderCanvas(this);this.context=e;i.restore();this.resolution=h;this.emit("postrender")};b.prototype.clear=function(a){var b=this.context;a=a||this._backgroundColorString;!this.transparent&&a?(b.fillStyle=a,b.fillRect(0,0,this.width,this.height)):b.clearRect(0,0,this.width,this.height)};b.prototype.setBlendMode=function(a){if(this._activeBlendMode===a)return;this._activeBlendMode=a;this.context.globalCompositeOperation=this.blendModes[a]};b.prototype.destroy=function(b){this.destroyPlugins(),a.prototype.destroy.call(this,b),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null};b.prototype.resize=function(b,c){a.prototype.resize.call(this,b,c),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h["default"].SCALE_MODE===f.SCALE_MODES.LINEAR)};b.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)};return b}(a["default"]);Dd["default"]=i;b.pluginTarget.mixin(i)}var Gd=!1,Hd=function(){Gd||(Gd=!0,Fd());return Ed.exports},Id={},Jd={exports:Id};function Kd(){Id.__esModule=!0;var a=S(),b=xd();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}var d={getTintedTexture:function(a,b){a=a._texture;b=d.roundColor(b);var c="#"+("00000"+(b|0).toString(16)).substr(-6);a.tintCache=a.tintCache||{};var e=a.tintCache[c],f=void 0;if(e){if(e.tintId===a._updateID)return a.tintCache[c];f=a.tintCache[c]}else f=d.canvas||document.createElement("canvas");d.tintMethod(a,b,f);f.tintId=a._updateID;if(d.convertTintToImage){e=new Image();e.src=f.toDataURL();a.tintCache[c]=e}else a.tintCache[c]=f,d.canvas=null;return f},tintWithMultiply:function(a,b,c){var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);d.save();d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);d.fillRect(0,0,e.width,e.height);d.globalCompositeOperation="multiply";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.restore()},tintWithOverlay:function(a,b,c){var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);d.save();d.globalCompositeOperation="copy";d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);d.fillRect(0,0,e.width,e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.restore()},tintWithPerPixel:function(b,c,d){var e=d.getContext("2d"),f=b._frame.clone(),g=b.baseTexture.resolution;f.x*=g;f.y*=g;f.width*=g;f.height*=g;d.width=Math.ceil(f.width);d.height=Math.ceil(f.height);e.save();e.globalCompositeOperation="copy";e.drawImage(b.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height);e.restore();g=a.hex2rgb(c);d=g[0];b=g[1];c=g[2];g=e.getImageData(0,0,f.width,f.height);f=g.data;for(var h=0;h<f.length;h+=4)f[h+0]*=d,f[h+1]*=b,f[h+2]*=c;e.putImageData(g,0,0)},roundColor:function(b){var c=d.cacheStepsPerColorChannel;b=a.hex2rgb(b);b[0]=Math.min(255,b[0]/c*c);b[1]=Math.min(255,b[1]/c*c);b[2]=Math.min(255,b[2]/c*c);return a.rgb2hex(b)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:c["default"](),tintMethod:0};d.tintMethod=d.canUseMultiply?d.tintWithMultiply:d.tintWithPerPixel;Id["default"]=d}var Ld=!1,Md=function(){Ld||(Ld=!0,Kd());return Jd.exports},Nd={},Od={exports:Nd};function Pd(){Nd.__esModule=!0;var a=Hd();a=f(a);var b=K(),c=P(),d=Md(),e=f(d);function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var h=new c.Matrix();f=function(){function a(b){g(this,a),this.renderer=b}a.prototype.render=function(a){var d=a._texture,f=this.renderer,g=d._frame.width,i=d._frame.height,j=a.transform.worldTransform,k=0,l=0;if(d.orig.width<=0||d.orig.height<=0||!d.baseTexture.source)return;f.setBlendMode(a.blendMode);if(d.valid){f.context.globalAlpha=a.worldAlpha;var m=d.baseTexture.scaleMode===b.SCALE_MODES.LINEAR;f.smoothProperty&&f.context[f.smoothProperty]!==m&&(f.context[f.smoothProperty]=m);d.trim?(k=d.trim.width/2+d.trim.x-a.anchor.x*d.orig.width,l=d.trim.height/2+d.trim.y-a.anchor.y*d.orig.height):(k=(.5-a.anchor.x)*d.orig.width,l=(.5-a.anchor.y)*d.orig.height);d.rotate&&(j.copy(h),j=h,c.GroupD8.matrixAppendRotationInv(j,d.rotate,k,l),k=0,l=0);k-=g/2;l-=i/2;f.roundPixels?(f.context.setTransform(j.a,j.b,j.c,j.d,j.tx*f.resolution|0,j.ty*f.resolution|0),k=k|0,l=l|0):f.context.setTransform(j.a,j.b,j.c,j.d,j.tx*f.resolution,j.ty*f.resolution);m=d.baseTexture.resolution;a.tint!==16777215?((a.cachedTint!==a.tint||a.tintedTexture.tintId!==a._texture._updateID)&&(a.cachedTint=a.tint,a.tintedTexture=e["default"].getTintedTexture(a,a.tint)),f.context.drawImage(a.tintedTexture,0,0,g*m,i*m,k*f.resolution,l*f.resolution,g*f.resolution,i*f.resolution)):f.context.drawImage(d.baseTexture.source,d._frame.x*m,d._frame.y*m,g*m,i*m,k*f.resolution,l*f.resolution,g*f.resolution,i*f.resolution)}};a.prototype.destroy=function(){this.renderer=null};return a}();Nd["default"]=f;a["default"].registerPlugin("sprite",f)}var Qd=!1,Rd=function(){Qd||(Qd=!0,Pd());return Od.exports},Sd={},Td={exports:Sd};function Ud(){Sd.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.renderer=c,this.renderer.on("context",this.onContextChange,this)}b.prototype.onContextChange=function(){};b.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null};return b}();Sd["default"]=b}var Vd=!1,Wd=function(){Vd||(Vd=!0,Ud());return Td.exports},Xd={},Yd={exports:Xd};function Zd(){Xd.__esModule=!0;var a=Wd();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(){c(this,b);return d(this,a.apply(this,arguments))}b.prototype.start=function(){};b.prototype.stop=function(){this.flush()};b.prototype.flush=function(){};b.prototype.render=function(a){};return b}(b["default"]);Xd["default"]=a}var $d=!1,ae=function(){$d||($d=!0,Zd());return Yd.exports},be={},ce={exports:be};function de(){be.__esModule=!0;be["default"]=c;c=h();a=a(c);function a(a){return a&&a.__esModule?a:{"default":a}}var b=a["default"].shader.defaultValue;function c(a,b,c){a=d(a,c);b=d(b,c);return Object.assign(a,b)}function d(a){var c=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),d={},e;a=a.replace(/\s+/g," ").split(/\s*;\s*/);for(var f=0;f<a.length;f++){var g=a[f].trim();if(g.indexOf("uniform")>-1){g=g.split(" ");var h=g[1];g=g[2];var i=1;g.indexOf("[")>-1&&(e=g.split(/\[|]/),g=e[0],i*=Number(e[1]));g.match(c)||(d[g]={value:b(h,i),name:g,type:h})}}return d}}var ee=!1,fe=function(){ee||(ee=!0,de());return ce.exports},ge={},he={exports:ge};function ie(){ge.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=fe(),c=g(b),d=S(),e=K();b=Q();var f=g(b);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var i={};g=function(){function b(a,g,j){h(this,b);this.vertexSrc=a||b.defaultVertexSrc;this.fragmentSrc=g||b.defaultFragmentSrc;this._blendMode=e.BLEND_MODES.NORMAL;this.uniformData=j||c["default"](this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var k in this.uniformData)this.uniforms[k]=this.uniformData[k].value,this.uniformData[k].type&&(this.uniformData[k].type=this.uniformData[k].type.toLowerCase());this.glShaders={};i[this.vertexSrc+this.fragmentSrc]||(i[this.vertexSrc+this.fragmentSrc]=d.uid());this.glShaderKey=i[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=f["default"].FILTER_RESOLUTION;this.enabled=!0;this.autoFit=!0}b.prototype.apply=function(a,b,c,d,e){a.applyFilter(this,b,c,d)};a(b,[{key:"blendMode",get:function(){return this._blendMode},set:function(a){this._blendMode=a}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]);return b}();ge["default"]=g}var je=!1,ke=function(){je||(je=!0,ie());return he.exports},le={},me={exports:le};function ne(){le.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=na(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=new c["default"]();d=function(){function b(a,d){e(this,b),this._texture=a,this.mapCoord=new c["default"](),this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=typeof d==="undefined"?.5:d}b.prototype.multiplyUvs=function(a,b){b===void 0&&(b=a);var c=this.mapCoord;for(var d=0;d<a.length;d+=2){var e=a[d],f=a[d+1];b[d]=e*c.a+f*c.c+c.tx;b[d+1]=e*c.b+f*c.d+c.ty}return b};b.prototype.update=function(a){var b=this._texture;if(!b||!b.valid)return!1;if(!a&&this._lastTextureID===b._updateID)return!1;this._lastTextureID=b._updateID;a=b._uvs;this.mapCoord.set(a.x1-a.x0,a.y1-a.y0,a.x3-a.x0,a.y3-a.y0,a.x0,a.y0);a=b.orig;var c=b.trim;c&&(f.set(a.width/c.width,0,0,a.height/c.height,-c.x/c.width,-c.y/c.height),this.mapCoord.append(f));a=b.baseTexture;c=this.uClampFrame;var d=this.clampMargin/a.resolution,e=this.clampOffset;c[0]=(b._frame.x+d+e)/a.width;c[1]=(b._frame.y+d+e)/a.height;c[2]=(b._frame.x+b._frame.width-d+e)/a.width;c[3]=(b._frame.y+b._frame.height-d+e)/a.height;this.uClampOffset[0]=e/a.realWidth;this.uClampOffset[1]=e/a.realHeight;return!0};a(b,[{key:"texture",get:function(){return this._texture},set:function(a){this._texture=a,this._lastTextureID=-1}}]);return b}();le["default"]=d}var oe=!1,pe=function(){oe||(oe=!0,ne());return me.exports},qe={},re={exports:qe};function se(){qe.__esModule=!0;var a=ke();a=e(a);var b=P(),c=pe(),d=e(c);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function h(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}e=function(a){h(c,a);function c(d){f(this,c);var e=new b.Matrix(),h=g(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));d.renderable=!1;h.maskSprite=d;h.maskMatrix=e;return h}c.prototype.apply=function(a,b,c){var e=this.maskSprite,f=this.maskSprite.texture;if(!f.valid)return;f.transform||(f.transform=new d["default"](f,0));f.transform.update();this.uniforms.mask=f;this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,e).prepend(f.transform.mapCoord);this.uniforms.alpha=e.worldAlpha;this.uniforms.maskClamp=f.transform.uClampFrame;a.applyFilter(this,b,c)};return c}(a["default"]);qe["default"]=e}var te=!1,ue=function(){te||(te=!0,se());return re.exports},ve={},we={exports:ve};function xe(){ve.__esModule=!0;var a=Wd();a=d(a);var b=ue(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(a){g(b,a);function b(c){e(this,b);c=f(this,a.call(this,c));c.scissor=!1;c.scissorData=null;c.scissorRenderTarget=null;c.enableScissor=!0;c.alphaMaskPool=[];c.alphaMaskIndex=0;return c}b.prototype.pushMask=function(a,b){if(b.texture)this.pushSpriteMask(a,b);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&b.isFastRect()){var c=b.worldTransform;c=Math.atan2(c.b,c.a);c=Math.round(c*(180/Math.PI));c%90?this.pushStencilMask(b):this.pushScissorMask(a,b)}else this.pushStencilMask(b)};b.prototype.popMask=function(a,b){b.texture?this.popSpriteMask(a,b):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(a,b):this.popStencilMask(a,b)};b.prototype.pushSpriteMask=function(a,b){var d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new c["default"](b)]);d[0].resolution=this.renderer.resolution;d[0].maskSprite=b;a.filterArea=b.getBounds(!0);this.renderer.filterManager.pushFilter(a,d);this.alphaMaskIndex++};b.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--};b.prototype.pushStencilMask=function(a){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(a)};b.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()};b.prototype.pushScissorMask=function(a,b){b.renderable=!0;a=this.renderer._activeRenderTarget;var c=b.getBounds();c.fit(a.size);b.renderable=!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var d=this.renderer.resolution;this.renderer.gl.scissor(c.x*d,(a.root?a.size.height-c.y-c.height:c.y)*d,c.width*d,c.height*d);this.scissorRenderTarget=a;this.scissorData=b;this.scissor=!0};b.prototype.popScissorMask=function(){this.scissorRenderTarget=null;this.scissorData=null;this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)};return b}(a["default"]);ve["default"]=d}var ye=!1,ze=function(){ye||(ye=!0,xe());return we.exports},Ae={},Be={exports:Ae};function Ce(){Ae.__esModule=!0;var a=Wd(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){f(c,a);function c(b){d(this,c);b=e(this,a.call(this,b));b.stencilMaskStack=null;return b}c.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var b=this.renderer.gl;a.length===0?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)};c.prototype.pushStencil=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var b=this.renderer.gl,c=this.stencilMaskStack.length;c===0&&b.enable(b.STENCIL_TEST);this.stencilMaskStack.push(a);b.colorMask(!1,!1,!1,!1);b.stencilFunc(b.EQUAL,c,this._getBitwiseMask());b.stencilOp(b.KEEP,b.KEEP,b.INCR);this.renderer.plugins.graphics.render(a);this._useCurrent()};c.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var a=this.renderer.gl,b=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(a.disable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),a.clearStencil(0)):(a.colorMask(!1,!1,!1,!1),a.stencilOp(a.KEEP,a.KEEP,a.DECR),this.renderer.plugins.graphics.render(b),this._useCurrent())};c.prototype._useCurrent=function(){var a=this.renderer.gl;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask());a.stencilOp(a.KEEP,a.KEEP,a.KEEP)};c.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1};c.prototype.destroy=function(){b["default"].prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null};return c}(b["default"]);Ae["default"]=c}var De=!1,Ee=function(){De||(De=!0,Ce());return Be.exports},Fe={},Ge={exports:Fe};function He(){Fe.__esModule=!0;var a=P(),b=K(),c=Q(),d=f(c),e=h();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=function(){function c(f,h,i,j,k,l){g(this,c),this.gl=f,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=k||d["default"].RESOLUTION,this.projectionMatrix=new a.Matrix(),this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle(),this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=j!==void 0?j:d["default"].SCALE_MODE,this.root=l,!this.root?(this.frameBuffer=e.GLFramebuffer.createRGBA(f,100,100),this.scaleMode===b.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture):(this.frameBuffer=new e.GLFramebuffer(f,100,100),this.frameBuffer.framebuffer=null),this.setFrame(),this.resize(h,i)}c.prototype.clear=function(a){a=a||this.clearColor;this.frameBuffer.clear(a[0],a[1],a[2],a[3])};c.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};c.prototype.setFrame=function(a,b){this.destinationFrame=a||this.destinationFrame||this.defaultFrame,this.sourceFrame=b||this.sourceFrame||this.destinationFrame};c.prototype.activate=function(){var a=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(a.enable(a.SCISSOR_TEST),a.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):a.disable(a.SCISSOR_TEST);a.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};c.prototype.calculateProjection=function(a,b){var c=this.projectionMatrix;b=b||a;c.identity();!this.root?(c.a=1/a.width*2,c.d=1/a.height*2,c.tx=-1-b.x*c.a,c.ty=-1-b.y*c.d):(c.a=1/a.width*2,c.d=-1/a.height*2,c.tx=-1-b.x*c.a,c.ty=1-b.y*c.d)};c.prototype.resize=function(a,b){a=a|0;b=b|0;if(this.size.width===a&&this.size.height===b)return;this.size.width=a;this.size.height=b;this.defaultFrame.width=a;this.defaultFrame.height=b;this.frameBuffer.resize(a*this.resolution,b*this.resolution);a=this.frame||this.size;this.calculateProjection(a)};c.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null};return c}();Fe["default"]=f}var Ie=!1,Je=function(){Ie||(Ie=!0,He());return Ge.exports},Ke={},Le={exports:Ke};function Me(){Ke.__esModule=!0;Ke["default"]=a;function a(a){a=a*6;var b=new Uint16Array(a);for(var c=0,d=0;c<a;c+=6,d+=4)b[c+0]=d+0,b[c+1]=d+1,b[c+2]=d+2,b[c+3]=d+0,b[c+4]=d+2,b[c+5]=d+3;return b}}var Ne=!1,Oe=function(){Ne||(Ne=!0,Me());return Le.exports},Pe={},Qe={exports:Pe};function Re(){Pe.__esModule=!0;var a=h(),b=d(a);a=Oe();var c=d(a);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(d,f){e(this,a);this.gl=d;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(8*2);for(var g=0;g<4;g++)this.interleaved[g*4]=this.vertices[g*2],this.interleaved[g*4+1]=this.vertices[g*2+1],this.interleaved[g*4+2]=this.uvs[g*2],this.interleaved[g*4+3]=this.uvs[g*2+1];this.indices=c["default"](1);this.vertexBuffer=b["default"].GLBuffer.createVertexBuffer(d,this.interleaved,d.STATIC_DRAW);this.indexBuffer=b["default"].GLBuffer.createIndexBuffer(d,this.indices,d.STATIC_DRAW);this.vao=new b["default"].VertexArrayObject(d,f)}a.prototype.initVao=function(a){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,a.attributes.aVertexPosition,this.gl.FLOAT,!1,4*4,0).addAttribute(this.vertexBuffer,a.attributes.aTextureCoord,this.gl.FLOAT,!1,4*4,2*4)};a.prototype.map=function(a,b){var c=0,d=0;this.uvs[0]=c;this.uvs[1]=d;this.uvs[2]=c+b.width/a.width;this.uvs[3]=d;this.uvs[4]=c+b.width/a.width;this.uvs[5]=d+b.height/a.height;this.uvs[6]=c;this.uvs[7]=d+b.height/a.height;c=b.x;d=b.y;this.vertices[0]=c;this.vertices[1]=d;this.vertices[2]=c+b.width;this.vertices[3]=d;this.vertices[4]=c+b.width;this.vertices[5]=d+b.height;this.vertices[6]=c;this.vertices[7]=d+b.height;return this};a.prototype.upload=function(){for(var a=0;a<4;a++)this.interleaved[a*4]=this.vertices[a*2],this.interleaved[a*4+1]=this.vertices[a*2+1],this.interleaved[a*4+2]=this.uvs[a*2],this.interleaved[a*4+3]=this.uvs[a*2+1];this.vertexBuffer.upload(this.interleaved);return this};a.prototype.destroy=function(){var a=this.gl;a.deleteBuffer(this.vertexBuffer);a.deleteBuffer(this.indexBuffer)};return a}();Pe["default"]=d}var Se=!1,Te=function(){Se||(Se=!0,Re());return Qe.exports},Ue={},Ve={exports:Ue};function We(){Ue.__esModule=!0;var a=h(),b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){if(a instanceof Array){if(a[0].substring(0,9)!=="precision"){var c=a.slice(0);c.unshift("precision "+b+" float;");return c}}else if(a.trim().substring(0,9)!=="precision")return"precision "+b+" float;\n"+a;return a}d=function(a){g(b,a);function b(d,g,h,j,k){e(this,b);return f(this,a.call(this,d,i(g,k||c["default"].PRECISION_VERTEX),i(h,k||c["default"].PRECISION_FRAGMENT),void 0,j))}return b}(a.GLShader);Ue["default"]=d}var Xe=!1,Ye=function(){Xe||(Xe=!0,We());return Ve.exports},Ze={},$e={exports:Ze};function af(){Ze.__esModule=!0;Ze.calculateScreenSpaceMatrix=b;Ze.calculateNormalizedScreenSpaceMatrix=c;Ze.calculateSpriteMatrix=d;var a=P();function b(a,b,c){a=a.identity();a.translate(b.x/c.width,b.y/c.height);a.scale(c.width,c.height);return a}function c(a,b,c){a=a.identity();a.translate(b.x/c.width,b.y/c.height);var d=c.width/b.width;c=c.height/b.height;a.scale(d,c);return a}function d(b,c,d,e){var f=e._texture.orig;b=b.set(d.width,0,0,d.height,c.x,c.y);d=e.worldTransform.copy(a.Matrix.TEMP_MATRIX);d.invert();b.prepend(d);b.scale(1/f.width,1/f.height);b.translate(e.anchor.x,e.anchor.y);return b}}var bf=!1,cf=function(){bf||(bf=!0,af());return $e.exports},df={},ef={exports:df};function ff(){df.__esModule=!0;var a=Wd();a=j(a);var b=Je(),c=j(b);b=Te();var d=j(b),e=P();b=Ye();var f=j(b);b=cf();var g=i(b);i=m();var h=j(i);function i(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function j(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function l(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var o=function(){function a(){n(this,a),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new e.Rectangle(),this.destinationFrame=new e.Rectangle(),this.filters=[]}a.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null};return a}(),p="screen";b=function(a){l(b,a);function b(c){n(this,b);var e=k(this,a.call(this,c));e.gl=e.renderer.gl;e.quad=new d["default"](e.gl,c.state.attribState);e.shaderCache={};e.pool={};e.filterData=null;e.managedFilters=[];e.renderer.on("prerender",e.onPrerender,e);e._screenWidth=c.view.width;e._screenHeight=c.view.height;return e}b.prototype.pushFilter=function(a,b){var c=this.renderer,d=this.filterData;if(!d){d=this.renderer._activeRenderTarget.filterStack;var e=new o();e.sourceFrame=e.destinationFrame=this.renderer._activeRenderTarget.size;e.renderTarget=c._activeRenderTarget;this.renderer._activeRenderTarget.filterData=d={index:0,stack:[e]};this.filterData=d}e=d.stack[++d.index];var f=d.stack[0].destinationFrame;e||(e=d.stack[d.index]=new o());var g=a.filterArea&&a.filterArea.x===0&&a.filterArea.y===0&&a.filterArea.width===c.screen.width&&a.filterArea.height===c.screen.height,h=b[0].resolution,i=b[0].padding|0,j=g?c.screen:a.filterArea||a.getBounds(!0),k=e.sourceFrame,l=e.destinationFrame;k.x=(j.x*h|0)/h;k.y=(j.y*h|0)/h;k.width=(j.width*h|0)/h;k.height=(j.height*h|0)/h;g||(d.stack[0].renderTarget.transform||b[0].autoFit&&k.fit(f),k.pad(i));l.width=k.width;l.height=k.height;j=this.getPotRenderTarget(c.gl,k.width,k.height,h);e.target=a;e.filters=b;e.resolution=h;e.renderTarget=j;j.setFrame(l,k);c.bindRenderTarget(j);j.clear()};b.prototype.popFilter=function(){var a=this.filterData,b=a.stack[a.index-1],c=a.stack[a.index];this.quad.map(c.renderTarget.size,c.sourceFrame).upload();var d=c.filters;if(d.length===1)d[0].apply(this,c.renderTarget,b.renderTarget,!1,c),this.freePotRenderTarget(c.renderTarget);else{var e=c.renderTarget,f=this.getPotRenderTarget(this.renderer.gl,c.sourceFrame.width,c.sourceFrame.height,c.resolution);f.setFrame(c.destinationFrame,c.sourceFrame);f.clear();var g=0;for(g=0;g<d.length-1;++g){d[g].apply(this,e,f,!0,c);var h=e;e=f;f=h}d[g].apply(this,e,b.renderTarget,!1,c);this.freePotRenderTarget(e);this.freePotRenderTarget(f)}c.clear();a.index--;a.index===0&&(this.filterData=null)};b.prototype.applyFilter=function(a,b,c,d){var e=this.renderer,g=e.gl,h=a.glShaders[e.CONTEXT_UID];h||(a.glShaderKey?(h=this.shaderCache[a.glShaderKey],h||(h=new f["default"](this.gl,a.vertexSrc,a.fragmentSrc),a.glShaders[e.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=h,this.managedFilters.push(a))):(h=a.glShaders[e.CONTEXT_UID]=new f["default"](this.gl,a.vertexSrc,a.fragmentSrc),this.managedFilters.push(a)),e.bindVao(null),this.quad.initVao(h));e.bindVao(this.quad.vao);e.bindRenderTarget(c);d&&(g.disable(g.SCISSOR_TEST),e.clear(),g.enable(g.SCISSOR_TEST));c===e.maskManager.scissorRenderTarget&&e.maskManager.pushScissorMask(null,e.maskManager.scissorData);e.bindShader(h);d=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=d;this.syncUniforms(h,a);e.state.setBlendMode(a.blendMode);g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,b.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);g.bindTexture(g.TEXTURE_2D,d._glTextures[this.renderer.CONTEXT_UID].texture)};b.prototype.syncUniforms=function(a,b){var c=b.uniformData;b=b.uniforms;var d=1,e=void 0;if(a.uniforms.filterArea){e=this.filterData.stack[this.filterData.index];var f=a.uniforms.filterArea;f[0]=e.renderTarget.size.width;f[1]=e.renderTarget.size.height;f[2]=e.sourceFrame.x;f[3]=e.sourceFrame.y;a.uniforms.filterArea=f}if(a.uniforms.filterClamp){e=e||this.filterData.stack[this.filterData.index];f=a.uniforms.filterClamp;f[0]=0;f[1]=0;f[2]=(e.sourceFrame.width-1)/e.renderTarget.size.width;f[3]=(e.sourceFrame.height-1)/e.renderTarget.size.height;a.uniforms.filterClamp=f}for(var g in c){e=c[g].type;if(e==="sampler2d"&&b[g]!==0){if(b[g].baseTexture)a.uniforms[g]=this.renderer.bindTexture(b[g].baseTexture,d);else{a.uniforms[g]=d;f=this.renderer.gl;this.renderer.boundTextures[d]=this.renderer.emptyTextures[d];f.activeTexture(f.TEXTURE0+d);b[g].texture.bind()}d++}else if(e==="mat3")b[g].a!==void 0?a.uniforms[g]=b[g].toArray(!0):a.uniforms[g]=b[g];else if(e==="vec2")if(b[g].x!==void 0){f=a.uniforms[g]||new Float32Array(2);f[0]=b[g].x;f[1]=b[g].y;a.uniforms[g]=f}else a.uniforms[g]=b[g];else e==="float"?a.uniforms.data[g].value!==c[g]&&(a.uniforms[g]=b[g]):a.uniforms[g]=b[g]}};b.prototype.getRenderTarget=function(a,b){a=this.filterData.stack[this.filterData.index];b=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,b||a.resolution);b.setFrame(a.destinationFrame,a.sourceFrame);return b};b.prototype.returnRenderTarget=function(a){this.freePotRenderTarget(a)};b.prototype.calculateScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return g.calculateScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size)};b.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return g.calculateNormalizedScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size,b.destinationFrame)};b.prototype.calculateSpriteMatrix=function(a,b){var c=this.filterData.stack[this.filterData.index];return g.calculateSpriteMatrix(a,c.sourceFrame,c.renderTarget.size,b)};b.prototype.destroy=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,b=this.renderer,c=this.managedFilters;b.off("prerender",this.onPrerender,this);for(var d=0;d<c.length;d++)a||c[d].glShaders[b.CONTEXT_UID].destroy(),delete c[d].glShaders[b.CONTEXT_UID];this.shaderCache={};!a?this.emptyPool():this.pool={}};b.prototype.getPotRenderTarget=function(a,b,d,e){var f=p;b*=e;d*=e;(b!==this._screenWidth||d!==this._screenHeight)&&(b=h["default"].nextPow2(b),d=h["default"].nextPow2(d),f=(b&65535)<<16|d&65535);this.pool[f]||(this.pool[f]=[]);var g=this.pool[f].pop();if(!g){var i=this.renderer.boundTextures[0];a.activeTexture(a.TEXTURE0);g=new c["default"](a,b,d,null,1);a.bindTexture(a.TEXTURE_2D,i._glTextures[this.renderer.CONTEXT_UID].texture)}g.resolution=e;g.defaultFrame.width=g.size.width=b/e;g.defaultFrame.height=g.size.height=d/e;g.filterPoolKey=f;return g};b.prototype.emptyPool=function(){for(var a in this.pool){var b=this.pool[a];if(b)for(var c=0;c<b.length;c++)b[c].destroy(!0)}this.pool={}};b.prototype.freePotRenderTarget=function(a){this.pool[a.filterPoolKey].push(a)};b.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width;this._screenHeight=this.renderer.view.height;var a=this.pool[p];if(a)for(var b=0;b<a.length;b++)a[b].destroy(!0);this.pool[p]=[]}};return b}(a["default"]);df["default"]=b}var gf=!1,hf=function(){gf||(gf=!0,ff());return ef.exports},jf={},kf={exports:jf};function lf(){jf.__esModule=!0;var a=h(),b=K(),c=Je(),d=f(c),e=S();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=function(){function c(a){g(this,c),this.renderer=a,this.gl=a.gl,this._managedTextures=[]}c.prototype.bindTexture=function(){};c.prototype.getTexture=function(){};c.prototype.updateTexture=function(c,e){var f=this.gl,g=!!c._glRenderTargets;if(!c.hasLoaded)return null;var h=this.renderer.boundTextures;if(e===void 0){e=0;for(var i=0;i<h.length;++i)if(h[i]===c){e=i;break}}h[e]=c;f.activeTexture(f.TEXTURE0+e);i=c._glTextures[this.renderer.CONTEXT_UID];if(!i){if(g){h=new d["default"](this.gl,c.width,c.height,c.scaleMode,c.resolution);h.resize(c.width,c.height);c._glRenderTargets[this.renderer.CONTEXT_UID]=h;i=h.texture}else i=new a.GLTexture(this.gl,null,null,null,null),i.bind(e),i.premultiplyAlpha=!0,i.upload(c.source);c._glTextures[this.renderer.CONTEXT_UID]=i;c.on("update",this.updateTexture,this);c.on("dispose",this.destroyTexture,this);this._managedTextures.push(c);c.isPowerOfTwo?(c.mipmap&&i.enableMipmap(),c.wrapMode===b.WRAP_MODES.CLAMP?i.enableWrapClamp():c.wrapMode===b.WRAP_MODES.REPEAT?i.enableWrapRepeat():i.enableWrapMirrorRepeat()):i.enableWrapClamp();c.scaleMode===b.SCALE_MODES.NEAREST?i.enableNearestScaling():i.enableLinearScaling()}else g?c._glRenderTargets[this.renderer.CONTEXT_UID].resize(c.width,c.height):i.upload(c.source);return i};c.prototype.destroyTexture=function(a,b){a=a.baseTexture||a;if(!a.hasLoaded)return;var c=this.renderer.CONTEXT_UID,d=a._glTextures,f=a._glRenderTargets;if(d[c]){this.renderer.unbindTexture(a);d[c].destroy();a.off("update",this.updateTexture,this);a.off("dispose",this.destroyTexture,this);delete d[c];if(!b){d=this._managedTextures.indexOf(a);d!==-1&&e.removeItems(this._managedTextures,d,1)}}f&&f[c]&&(f[c].destroy(),delete f[c])};c.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];b._glTextures[this.renderer.CONTEXT_UID]&&delete b._glTextures[this.renderer.CONTEXT_UID]}};c.prototype.destroy=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];this.destroyTexture(b,!0);b.off("update",this.updateTexture,this);b.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return c}();jf["default"]=f}var mf=!1,nf=function(){mf||(mf=!0,lf());return kf.exports},of={},pf={exports:of};function qf(){of.__esModule=!0;var a=K(),b=Q(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function b(a){e(this,b),this.renderer=a,this.count=0,this.checkCount=0,this.maxIdle=c["default"].GC_MAX_IDLE,this.checkCountMax=c["default"].GC_MAX_CHECK_COUNT,this.mode=c["default"].GC_MODE}b.prototype.update=function(){this.count++;if(this.mode===a.GC_MODES.MANUAL)return;this.checkCount++;this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())};b.prototype.run=function(){var a=this.renderer.textureManager,b=a._managedTextures,c=!1;for(var d=0;d<b.length;d++){var e=b[d];!e._glRenderTargets&&this.count-e.touched>this.maxIdle&&(a.destroyTexture(e,!0),b[d]=null,c=!0)}if(c){e=0;for(var d=0;d<b.length;d++)b[d]!==null&&(b[e++]=b[d]);b.length=e}};b.prototype.unload=function(a){var b=this.renderer.textureManager;a._texture&&a._texture._glRenderTargets&&b.destroyTexture(a._texture,!0);for(var b=a.children.length-1;b>=0;b--)this.unload(a.children[b])};return b}();of["default"]=d}var rf=!1,sf=function(){rf||(rf=!0,qf());return pf.exports},tf={},uf={exports:tf};function vf(){tf.__esModule=!0;tf["default"]=b;var a=K();function b(b){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c[a.BLEND_MODES.NORMAL]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.ADD]=[b.ONE,b.DST_ALPHA];c[a.BLEND_MODES.MULTIPLY]=[b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.SCREEN]=[b.ONE,b.ONE_MINUS_SRC_COLOR];c[a.BLEND_MODES.OVERLAY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.DARKEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.LIGHTEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.COLOR_DODGE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.COLOR_BURN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.HARD_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.SOFT_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.DIFFERENCE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.EXCLUSION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.HUE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.SATURATION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.COLOR]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.LUMINOSITY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.NORMAL_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA];c[a.BLEND_MODES.ADD_NPM]=[b.SRC_ALPHA,b.DST_ALPHA,b.ONE,b.DST_ALPHA];c[a.BLEND_MODES.SCREEN_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_COLOR,b.ONE,b.ONE_MINUS_SRC_COLOR];return c}}var wf=!1,xf=function(){wf||(wf=!0,vf());return uf.exports},yf={},zf={exports:yf};function Af(){yf.__esModule=!0;var a=xf(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=0,f=1,g=2,h=3,i=4;c=function(){function a(c){d(this,a),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=c,this.maxAttribs=c.getParameter(c.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=b["default"](c),this.nativeVaoExtension=c.getExtension("OES_vertex_array_object")||c.getExtension("MOZ_OES_vertex_array_object")||c.getExtension("WEBKIT_OES_vertex_array_object")}a.prototype.push=function(){var a=this.stack[this.stackIndex];a||(a=this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var b=0;b<this.activeState.length;b++)a[b]=this.activeState[b]};a.prototype.pop=function(){var a=this.stack[--this.stackIndex];this.setState(a)};a.prototype.setState=function(a){this.setBlend(a[e]),this.setDepthTest(a[f]),this.setFrontFace(a[g]),this.setCullFace(a[h]),this.setBlendMode(a[i])};a.prototype.setBlend=function(a){a=a?1:0;if(this.activeState[e]===a)return;this.activeState[e]=a;this.gl[a?"enable":"disable"](this.gl.BLEND)};a.prototype.setBlendMode=function(a){if(a===this.activeState[i])return;this.activeState[i]=a;a=this.blendModes[a];a.length===2?this.gl.blendFunc(a[0],a[1]):this.gl.blendFuncSeparate(a[0],a[1],a[2],a[3])};a.prototype.setDepthTest=function(a){a=a?1:0;if(this.activeState[f]===a)return;this.activeState[f]=a;this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST)};a.prototype.setCullFace=function(a){a=a?1:0;if(this.activeState[h]===a)return;this.activeState[h]=a;this.gl[a?"enable":"disable"](this.gl.CULL_FACE)};a.prototype.setFrontFace=function(a){a=a?1:0;if(this.activeState[g]===a)return;this.activeState[g]=a;this.gl.frontFace(this.gl[a?"CW":"CCW"])};a.prototype.resetAttributes=function(){for(var a=0;a<this.attribState.tempAttribState.length;a++)this.attribState.tempAttribState[a]=0;for(var a=0;a<this.attribState.attribState.length;a++)this.attribState.attribState[a]=0;for(var a=1;a<this.maxAttribs;a++)this.gl.disableVertexAttribArray(a)};a.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var a=0;a<this.activeState.length;++a)this.activeState[a]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.setState(this.defaultState)};return a}();yf["default"]=c}var Bf=!1,Cf=function(){Bf||(Bf=!0,Af());return zf.exports},Df={},Ef={exports:Df};function Ff(){Df.__esModule=!0;Df["default"]=b;var a=K();function b(b){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c[a.DRAW_MODES.POINTS]=b.POINTS;c[a.DRAW_MODES.LINES]=b.LINES;c[a.DRAW_MODES.LINE_LOOP]=b.LINE_LOOP;c[a.DRAW_MODES.LINE_STRIP]=b.LINE_STRIP;c[a.DRAW_MODES.TRIANGLES]=b.TRIANGLES;c[a.DRAW_MODES.TRIANGLE_STRIP]=b.TRIANGLE_STRIP;c[a.DRAW_MODES.TRIANGLE_FAN]=b.TRIANGLE_FAN;return c}}var Gf=!1,Hf=function(){Gf||(Gf=!0,Ff());return Ef.exports},If={},Jf={exports:If};function Kf(){If.__esModule=!0;If["default"]=a;function a(a){a=a.getContextAttributes();a.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}}var Lf=!1,Mf=function(){Lf||(Lf=!0,Kf());return Jf.exports},Nf={},Of={exports:Nf};function Pf(){Nf.__esModule=!0;var a=id(),b=r(a);a=ze();var c=r(a);a=Ee();var d=r(a);a=hf();var e=r(a);a=Je();var f=r(a);a=ae();var g=r(a);a=nf();var i=r(a);a=mc();var j=r(a);a=sf();var k=r(a);a=Cf();var l=r(a);a=Hf();var m=r(a);a=Mf();var n=r(a);a=S();var o=h(),p=r(o),q=K();function r(a){return a&&a.__esModule?a:{"default":a}}function s(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function t(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function u(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var v=0;r=function(a){u(h,a);function h(b,e,f){s(this,h);b=t(this,a.call(this,"WebGL",b,e,f));b.legacy=b.options.legacy;b.legacy&&(p["default"].VertexArrayObject.FORCE_NATIVE=!0);b.type=q.RENDERER_TYPE.WEBGL;b.handleContextLost=b.handleContextLost.bind(b);b.handleContextRestored=b.handleContextRestored.bind(b);b.view.addEventListener("webglcontextlost",b.handleContextLost,!1);b.view.addEventListener("webglcontextrestored",b.handleContextRestored,!1);b._contextOptions={alpha:b.transparent,antialias:b.options.antialias,premultipliedAlpha:b.transparent&&b.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:b.options.preserveDrawingBuffer,powerPreference:b.options.powerPreference};b._backgroundColorRgba[3]=b.transparent?0:1;b.maskManager=new c["default"](b);b.stencilManager=new d["default"](b);b.emptyRenderer=new g["default"](b);b.currentRenderer=b.emptyRenderer;b.textureManager=null;b.filterManager=null;b.initPlugins();b.options.context&&n["default"](b.options.context);b.gl=b.options.context||p["default"].createContext(b.view,b._contextOptions);b.CONTEXT_UID=v++;b.state=new l["default"](b.gl);b.renderingToScreen=!0;b.boundTextures=null;b._activeShader=null;b._activeVao=null;b._activeRenderTarget=null;b._initContext();b.drawModes=m["default"](b.gl);b._nextTextureLocation=0;b.setBlendMode(0);return b}h.prototype._initContext=function(){var a=this.gl;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext();var b=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null;this._activeVao=null;this.boundTextures=new Array(b);this.emptyTextures=new Array(b);this.textureManager=new i["default"](this);this.filterManager=new e["default"](this);this.textureGC=new k["default"](this);this.state.resetToDefault();this.rootRenderTarget=new f["default"](a,this.width,this.height,null,this.resolution,!0);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var c=new p["default"].GLTexture.fromData(a,null,1,1),d={_glTextures:{}};d._glTextures[this.CONTEXT_UID]={};for(var g=0;g<b;g++){var h=new j["default"]();h._glTextures[this.CONTEXT_UID]=c;this.boundTextures[g]=d;this.emptyTextures[g]=h;this.bindTexture(null,g)}this.emit("context",a);this.resize(this.screen.width,this.screen.height)};h.prototype.render=function(a,b,c,d,e){this.renderingToScreen=!b;this.emit("prerender");if(!this.gl||this.gl.isContextLost())return;this._nextTextureLocation=0;b||(this._lastObjectRendered=a);if(!e){e=a.parent;a.parent=this._tempDisplayObjectParent;a.updateTransform();a.parent=e}this.bindRenderTexture(b,d);this.currentRenderer.start();(c!==void 0?c:this.clearBeforeRender)&&this._activeRenderTarget.clear();a.renderWebGL(this);this.currentRenderer.flush();this.textureGC.update();this.emit("postrender")};h.prototype.setObjectRenderer=function(a){if(this.currentRenderer===a)return;this.currentRenderer.stop();this.currentRenderer=a;this.currentRenderer.start()};h.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};h.prototype.resize=function(a,c){b["default"].prototype.resize.call(this,a,c),this.rootRenderTarget.resize(a,c),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))};h.prototype.setBlendMode=function(a){this.state.setBlendMode(a)};h.prototype.clear=function(a){this._activeRenderTarget.clear(a)};h.prototype.setTransform=function(a){this._activeRenderTarget.transform=a};h.prototype.clearRenderTexture=function(a,b){a=a.baseTexture;a=a._glRenderTargets[this.CONTEXT_UID];a&&a.clear(b);return this};h.prototype.bindRenderTexture=function(a,b){var c=void 0;if(a){var d=a.baseTexture;d._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(d,0);this.unbindTexture(d);c=d._glRenderTargets[this.CONTEXT_UID];c.setFrame(a.frame)}else c=this.rootRenderTarget;c.transform=b;this.bindRenderTarget(c);return this};h.prototype.bindRenderTarget=function(a){a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack));return this};h.prototype.bindShader=function(a,b){this._activeShader!==a&&(this._activeShader=a,a.bind(),b!==!1&&(a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0)));return this};h.prototype.bindTexture=function(a,b,c){a=a||this.emptyTextures[b];a=a.baseTexture||a;a.touched=this.textureGC.count;if(!c){for(var c=0;c<this.boundTextures.length;c++)if(this.boundTextures[c]===a)return c;b===void 0&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,b=this.boundTextures.length-this._nextTextureLocation-1)}else b=b||0;c=this.gl;var d=a._glTextures[this.CONTEXT_UID];!d?this.textureManager.updateTexture(a,b):(this.boundTextures[b]=a,c.activeTexture(c.TEXTURE0+b),c.bindTexture(c.TEXTURE_2D,d.texture));return b};h.prototype.unbindTexture=function(a){var b=this.gl;a=a.baseTexture||a;for(var c=0;c<this.boundTextures.length;c++)this.boundTextures[c]===a&&(this.boundTextures[c]=this.emptyTextures[c],b.activeTexture(b.TEXTURE0+c),b.bindTexture(b.TEXTURE_2D,this.emptyTextures[c]._glTextures[this.CONTEXT_UID].texture));return this};h.prototype.createVao=function(){return new p["default"].VertexArrayObject(this.gl,this.state.attribState)};h.prototype.bindVao=function(a){if(this._activeVao===a)return this;a?a.bind():this._activeVao&&this._activeVao.unbind();this._activeVao=a;return this};h.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this.bindVao(null);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]=this.emptyTextures[a];this.rootRenderTarget.activate();this.state.resetToDefault();return this};h.prototype.handleContextLost=function(a){a.preventDefault()};h.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()};h.prototype.destroy=function(b){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),a.prototype.destroy.call(this,b),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null};return h}(b["default"]);Nf["default"]=r;a.pluginTarget.mixin(r)}var Qf=!1,Rf=function(){Qf||(Qf=!0,Pf());return Of.exports},Sf={},Tf={exports:Sf};function Uf(){Sf.__esModule=!0;Sf["default"]=d;d=Ye();var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");function d(b,d){var f="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",g=c;g=g.replace(/%count%/gi,d);g=g.replace(/%forloop%/gi,e(d));b=new a["default"](b,f,g);f=[];for(var g=0;g<d;g++)f[g]=g;b.bind();b.uniforms.uSamplers=f;return b}function e(a){var b="";b+="\n";b+="\n";for(var c=0;c<a;c++)c>0&&(b+="\nelse "),c<a-1&&(b+="if(textureId == "+c+".0)"),b+="\n{",b+="\n\tcolor = texture2D(uSamplers["+c+"], vTextureCoord);",b+="\n}";b+="\n";b+="\n";return b}}var Vf=!1,Wf=function(){Vf||(Vf=!0,Uf());return Tf.exports},Xf={},Yf={exports:Xf};function Zf(){Xf.__esModule=!0;Xf["default"]=d;d=h();var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function d(b,d){var f=!d;if(b===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(f){var g=document.createElement("canvas");g.width=1;g.height=1;d=a["default"].createContext(g)}g=d.createShader(d.FRAGMENT_SHADER);while(!0){var h=c.replace(/%forloop%/gi,e(b));d.shaderSource(g,h);d.compileShader(g);if(!d.getShaderParameter(g,d.COMPILE_STATUS))b=b/2|0;else break}f&&(d.getExtension("WEBGL_lose_context")&&d.getExtension("WEBGL_lose_context").loseContext());return b}function e(a){var b="";for(var c=0;c<a;++c)c>0&&(b+="\nelse "),c<a-1&&(b+="if(test == "+c+".0){}");return b}}var $f=!1,ag=function(){$f||($f=!0,Zf());return Yf.exports},bg={},cg={exports:bg};function dg(){bg.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.vertices=new ArrayBuffer(c),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}b.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null};return b}();bg["default"]=b}var eg=!1,fg=function(){eg||(eg=!0,dg());return cg.exports},gg={},hg={exports:gg};function ig(){gg.__esModule=!0;var a=ae();a=n(a);var b=Rf();b=n(b);var c=Oe(),d=n(c);c=Wf();var e=n(c);c=ag();var f=n(c);c=fg();var g=n(c);c=Q();var i=n(c),j=S();c=h();var k=n(c);c=m();var l=n(c);function n(a){return a&&a.__esModule?a:{"default":a}}function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function p(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function q(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var r=0,s=0;n=function(a){q(b,a);function b(c){o(this,b);c=p(this,a.call(this,c));c.vertSize=5;c.vertByteSize=c.vertSize*4;c.size=i["default"].SPRITE_BATCH_SIZE;c.buffers=[];for(var e=1;e<=l["default"].nextPow2(c.size);e*=2)c.buffers.push(new g["default"](e*4*c.vertByteSize));c.indices=d["default"](c.size);c.shader=null;c.currentIndex=0;c.groups=[];for(var e=0;e<c.size;e++)c.groups[e]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};c.sprites=[];c.vertexBuffers=[];c.vaos=[];c.vaoMax=2;c.vertexCount=0;c.renderer.on("prerender",c.onPrerender,c);return c}b.prototype.onContextChange=function(){var a=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),i["default"].SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=f["default"](this.MAX_TEXTURES,a));this.shader=e["default"](a,this.MAX_TEXTURES);this.indexBuffer=k["default"].GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.renderer.bindVao(null);var b=this.shader.attributes;for(var c=0;c<this.vaoMax;c++){var d=this.vertexBuffers[c]=k["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),g=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(d,b.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(d,b.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(d,b.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);b.aTextureId&&g.addAttribute(d,b.aTextureId,a.FLOAT,!1,this.vertByteSize,4*4);this.vaos[c]=g}this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=new Array(this.MAX_TEXTURES)};b.prototype.onPrerender=function(){this.vertexCount=0};b.prototype.render=function(a){this.currentIndex>=this.size&&this.flush();if(!a._texture._uvs)return;this.sprites[this.currentIndex++]=a};b.prototype.flush=function(){if(this.currentIndex===0)return;var a=this.renderer.gl,b=this.MAX_TEXTURES,c=l["default"].nextPow2(this.currentIndex);c=l["default"].log2(c);c=this.buffers[c];var d=this.sprites,e=this.groups,f=c.float32View,g=c.uint32View,h=this.boundTextures,m=this.renderer.boundTextures,n=this.renderer.textureGC.count,o=0,p=void 0,q=void 0,t=1,u=0,v=e[0],w=j.premultiplyBlendMode[d[0]._texture.baseTexture.premultipliedAlpha?1:0][d[0].blendMode];v.textureCount=0;v.start=0;v.blend=w;r++;var x=void 0;for(x=0;x<b;++x){var y=m[x];if(y._enabled===r){h[x]=this.renderer.emptyTextures[x];continue}h[x]=y;y._virtalBoundId=x;y._enabled=r}r++;for(x=0;x<this.currentIndex;++x){y=d[x];d[x]=null;p=y._texture.baseTexture;var z=j.premultiplyBlendMode[Number(p.premultipliedAlpha)][y.blendMode];w!==z&&(w=z,q=null,u=b,r++);if(q!==p){q=p;if(p._enabled!==r){u===b&&(r++,v.size=x-v.start,u=0,v=e[t++],v.blend=w,v.textureCount=0,v.start=x);p.touched=n;if(p._virtalBoundId===-1)for(var z=0;z<b;++z){var A=(z+s)%b,B=h[A];if(B._enabled!==r){s++;B._virtalBoundId=-1;p._virtalBoundId=A;h[A]=p;break}}p._enabled=r;v.textureCount++;v.ids[u]=p._virtalBoundId;v.textures[u++]=p}}B=y.vertexData;A=y._texture._uvs.uvsUint32;if(this.renderer.roundPixels){z=this.renderer.resolution;f[o]=(B[0]*z|0)/z;f[o+1]=(B[1]*z|0)/z;f[o+5]=(B[2]*z|0)/z;f[o+6]=(B[3]*z|0)/z;f[o+10]=(B[4]*z|0)/z;f[o+11]=(B[5]*z|0)/z;f[o+15]=(B[6]*z|0)/z;f[o+16]=(B[7]*z|0)/z}else f[o]=B[0],f[o+1]=B[1],f[o+5]=B[2],f[o+6]=B[3],f[o+10]=B[4],f[o+11]=B[5],f[o+15]=B[6],f[o+16]=B[7];g[o+2]=A[0];g[o+7]=A[1];g[o+12]=A[2];g[o+17]=A[3];z=Math.min(y.worldAlpha,1);B=z<1&&p.premultipliedAlpha?j.premultiplyTint(y._tintRGB,z):y._tintRGB+(z*255<<24);g[o+3]=g[o+8]=g[o+13]=g[o+18]=B;f[o+4]=f[o+9]=f[o+14]=f[o+19]=p._virtalBoundId;o+=20}v.size=x-v.start;if(!i["default"].CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;A=this.shader.attributes;y=this.vertexBuffers[this.vertexCount]=k["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW);z=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(y,A.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(y,A.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(y,A.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);A.aTextureId&&z.addAttribute(y,A.aTextureId,a.FLOAT,!1,this.vertByteSize,4*4);this.vaos[this.vertexCount]=z}this.renderer.bindVao(this.vaos[this.vertexCount]);this.vertexBuffers[this.vertexCount].upload(c.vertices,0,!1);this.vertexCount++}else this.vertexBuffers[this.vertexCount].upload(c.vertices,0,!0);for(x=0;x<b;++x)m[x]._virtalBoundId=-1;for(x=0;x<t;++x){B=e[x];w=B.textureCount;for(var h=0;h<w;h++)q=B.textures[h],m[B.ids[h]]!==q&&this.renderer.bindTexture(q,B.ids[h],!0),q._virtalBoundId=-1;this.renderer.state.setBlendMode(B.blend);a.drawElements(a.TRIANGLES,B.size*6,a.UNSIGNED_SHORT,B.start*6*2)}this.currentIndex=0};b.prototype.start=function(){this.renderer.bindShader(this.shader),i["default"].CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())};b.prototype.stop=function(){this.flush()};b.prototype.destroy=function(){for(var b=0;b<this.vaoMax;b++)this.vertexBuffers[b]&&this.vertexBuffers[b].destroy(),this.vaos[b]&&this.vaos[b].destroy();this.indexBuffer&&this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);a.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.vertexBuffers=null;this.vaos=null;this.indexBuffer=null;this.indices=null;this.sprites=null;for(var b=0;b<this.buffers.length;++b)this.buffers[b].destroy()};return b}(a["default"]);gg["default"]=n;b["default"].registerPlugin("sprite",n)}var jg=!1,kg=function(){jg||(jg=!0,ig());return hg.exports},lg={},mg={exports:lg};function ng(){lg.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=K(),c=S();function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:b.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0};b=function(){function b(a){d(this,b),this.styleID=0,this.reset(),i(this,a,a)}b.prototype.clone=function(){var a={};i(a,this,e);return new b(a)};b.prototype.reset=function(){i(this,e,e)};b.prototype.toFontString=function(){var a=typeof this.fontSize==="number"?this.fontSize+"px":this.fontSize,b=this.fontFamily;Array.isArray(this.fontFamily)||(b=this.fontFamily.split(","));for(var c=b.length-1;c>=0;c--){var d=b[c].trim();/([\"\'])[^\'\"]+\1/.test(d)||(d='"'+d+'"');b[c]=d}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+a+" "+b.join(",")};a(b,[{key:"align",get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(a){this._dropShadowAlpha!==a&&(this._dropShadowAlpha=a,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(a){a=g(a);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(a){a=g(a);this._fill!==a&&(this._fill=a,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(a){this._fillGradientType!==a&&(this._fillGradientType=a,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(a){h(this._fillGradientStops,a)||(this._fillGradientStops=a,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(a){this._leading!==a&&(this._leading=a,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(a){a=g(a);this._stroke!==a&&(this._stroke=a,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(a){this._trim!==a&&(this._trim=a,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(a){this._whiteSpace!==a&&(this._whiteSpace=a,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this.styleID++)}}]);return b}();lg["default"]=b;function f(a){if(typeof a==="number")return c.hex2string(a);else typeof a==="string"&&(a.indexOf("0x")===0&&(a=a.replace("0x","#")));return a}function g(a){if(!Array.isArray(a))return f(a);else{for(var b=0;b<a.length;++b)a[b]=f(a[b]);return a}}function h(a,b){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0}function i(a,b,c){for(var d in c)Array.isArray(b[d])?a[d]=b[d].slice():a[d]=b[d]}}var og=!1,pg=function(){og||(og=!0,ng());return mg.exports},qg={},rg={exports:qg};function sg(){qg.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c,d,e,f,g,h,i,j,k){a(this,b),this.text=c,this.style=d,this.width=e,this.height=f,this.lines=g,this.lineWidths=h,this.lineHeight=i,this.maxLineWidth=j,this.fontProperties=k}b.measureText=function(c,d,e){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b._canvas;e=e||d.wordWrap;var f=d.toFontString(),g=b.measureFont(f),h=a.getContext("2d");h.font=f;var i=e?b.wordWrap(c,d,a):c,j=i.split(/(?:\r\n|\r|\n)/),k=new Array(j.length),l=0;for(var m=0;m<j.length;m++){var n=h.measureText(j[m]).width+(j[m].length-1)*d.letterSpacing;k[m]=n;l=Math.max(l,n)}var o=l+d.strokeThickness;d.dropShadow&&(o+=d.dropShadowDistance);var p=d.lineHeight||g.fontSize+d.strokeThickness,q=Math.max(p,g.fontSize+d.strokeThickness)+(j.length-1)*(p+d.leading);d.dropShadow&&(q+=d.dropShadowDistance);return new b(c,d,o,q,j,k,p+d.leading,l,g)};b.wordWrap=function(c,d){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b._canvas,e=a.getContext("2d"),f=0,g="",h="",i={},j=d.letterSpacing,k=d.whiteSpace,l=b.collapseSpaces(k),m=b.collapseNewlines(k),n=!l,o=d.wordWrapWidth+j,p=b.tokenize(c);for(var q=0;q<p.length;q++){var r=p[q];if(b.isNewline(r)){if(!m){h+=b.addLine(g);n=!l;g="";f=0;continue}r=" "}if(l){var s=b.isBreakingSpace(r),t=b.isBreakingSpace(g[g.length-1]);if(s&&t)continue}var u=b.getFromCache(r,j,i,e);if(u>o){g!==""&&(h+=b.addLine(g),g="",f=0);if(b.canBreakWords(r,d.breakWords)){var v=r.split("");for(var w=0;w<v.length;w++){var x=v[w],y=1;while(v[w+y]){var z=v[w+y],A=x[x.length-1];if(!b.canBreakChars(A,z,r,w,d.breakWords))x+=z;else break;y++}w+=x.length-1;var B=b.getFromCache(x,j,i,e);B+f>o&&(h+=b.addLine(g),n=!1,g="",f=0);g+=x;f+=B}}else{g.length>0&&(h+=b.addLine(g),g="",f=0);var C=q===p.length-1;h+=b.addLine(r,!C);n=!1;g="";f=0}}else u+f>o&&(n=!1,h+=b.addLine(g),g="",f=0),(g.length>0||!b.isBreakingSpace(r)||n)&&(g+=r,f+=u)}h+=b.addLine(g,!1);return h};b.addLine=function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a=b.trimRight(a);a=c?a+"\n":a;return a};b.getFromCache=function(a,b,c,d){var e=c[a];if(e===void 0){b=a.length*b;e=d.measureText(a).width+b;c[a]=e}return e};b.collapseSpaces=function(a){return a==="normal"||a==="pre-line"};b.collapseNewlines=function(a){return a==="normal"};b.trimRight=function(a){if(typeof a!=="string")return"";for(var c=a.length-1;c>=0;c--){var d=a[c];if(!b.isBreakingSpace(d))break;a=a.slice(0,-1)}return a};b.isNewline=function(a){return typeof a!=="string"?!1:b._newlines.indexOf(a.charCodeAt(0))>=0};b.isBreakingSpace=function(a){return typeof a!=="string"?!1:b._breakingSpaces.indexOf(a.charCodeAt(0))>=0};b.tokenize=function(a){var c=[],d="";if(typeof a!=="string")return c;for(var e=0;e<a.length;e++){var f=a[e];if(b.isBreakingSpace(f)||b.isNewline(f)){d!==""&&(c.push(d),d="");c.push(f);continue}d+=f}d!==""&&c.push(d);return c};b.canBreakWords=function(a,b){return b};b.canBreakChars=function(a,b,c,d,e){return!0};b.measureFont=function(c){if(b._fonts[c])return b._fonts[c];var d={},a=b._canvas,e=b._context;e.font=c;var f=b.METRICS_STRING+b.BASELINE_SYMBOL,g=Math.ceil(e.measureText(f).width),h=Math.ceil(e.measureText(b.BASELINE_SYMBOL).width),i=2*h;h=h*b.BASELINE_MULTIPLIER|0;a.width=g;a.height=i;e.fillStyle="#f00";e.fillRect(0,0,g,i);e.font=c;e.textBaseline="alphabetic";e.fillStyle="#000";e.fillText(f,0,h);a=e.getImageData(0,0,g,i).data;f=a.length;e=g*4;var j;g=0;var k=!1;for(j=0;j<h;++j){for(var l=0;l<e;l+=4)if(a[g+l]!==255){k=!0;break}if(!k)g+=e;else break}d.ascent=h-j;g=f-e;k=!1;for(j=i;j>h;--j){for(var l=0;l<e;l+=4)if(a[g+l]!==255){k=!0;break}if(!k)g-=e;else break}d.descent=j-h;d.fontSize=d.ascent+d.descent;b._fonts[c]=d;return d};b.clearMetrics=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";a?delete b._fonts[a]:b._fonts={}};return b}();qg["default"]=b;var c=document.createElement("canvas");c.width=c.height=10;b._canvas=c;b._context=c.getContext("2d");b._fonts={};b.METRICS_STRING="|\xc9q";b.BASELINE_SYMBOL="M";b.BASELINE_MULTIPLIER=1.4;b._newlines=[10,13];b._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]}var tg=!1,ug=function(){tg||(tg=!0,sg());return rg.exports},vg={},wg={exports:vg};function xg(){vg.__esModule=!0;vg["default"]=a;function a(a){var b=a.width,c=a.height;a=a.getContext("2d");var d=a.getImageData(0,0,b,c);d=d.data;var e=d.length,f={top:null,left:null,right:null,bottom:null},g,h,i;for(g=0;g<e;g+=4)d[g+3]!==0&&(h=g/4%b,i=~~(g/4/b),f.top===null&&(f.top=i),f.left===null?f.left=h:h<f.left&&(f.left=h),f.right===null?f.right=h+1:f.right<h&&(f.right=h+1),f.bottom===null?f.bottom=i:f.bottom<i&&(f.bottom=i));b=f.right-f.left;c=f.bottom-f.top+1;h=a.getImageData(f.left,f.top,b,c);return{height:c,width:b,data:h}}}var yg=!1,zg=function(){yg||(yg=!0,xg());return wg.exports},Ag={},Bg={exports:Ag};function Cg(){Ag.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Uc();b=l(b);var c=T(),d=l(c),e=P(),f=S(),g=K();c=Q();var h=l(c);c=pg();var i=l(c);c=ug();var j=l(c);c=zg();var k=l(c);function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function o(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var p={texture:!0,children:!1,baseTexture:!0};l=function(b){o(c,b);function c(a,f,g){m(this,c);g=g||document.createElement("canvas");g.width=3;g.height=3;var i=d["default"].fromCanvas(g,h["default"].SCALE_MODE,"text");i.orig=new e.Rectangle();i.trim=new e.Rectangle();i=n(this,b.call(this,i));d["default"].addToCache(i._texture,i._texture.baseTexture.textureCacheIds[0]);i.canvas=g;i.context=i.canvas.getContext("2d");i.resolution=h["default"].RESOLUTION;i._text=null;i._style=null;i._styleListener=null;i._font="";i.text=a;i.style=f;i.localStyleID=-1;return i}c.prototype.updateText=function(a){var b=this._style;this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID);if(!this.dirty&&a)return;this._font=this._style.toFontString();a=this.context;var c=j["default"].measureText(this._text,this._style,this._style.wordWrap,this.canvas),d=c.width,e=c.height,f=c.lines,g=c.lineHeight,h=c.lineWidths,i=c.maxLineWidth;c=c.fontProperties;this.canvas.width=Math.ceil((Math.max(1,d)+b.padding*2)*this.resolution);this.canvas.height=Math.ceil((Math.max(1,e)+b.padding*2)*this.resolution);a.scale(this.resolution,this.resolution);a.clearRect(0,0,this.canvas.width,this.canvas.height);a.font=this._font;a.strokeStyle=b.stroke;a.lineWidth=b.strokeThickness;a.textBaseline=b.textBaseline;a.lineJoin=b.lineJoin;a.miterLimit=b.miterLimit;d=void 0;e=void 0;if(b.dropShadow){a.fillStyle=b.dropShadowColor;a.globalAlpha=b.dropShadowAlpha;a.shadowBlur=b.dropShadowBlur;b.dropShadowBlur>0&&(a.shadowColor=b.dropShadowColor);var k=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,l=Math.sin(b.dropShadowAngle)*b.dropShadowDistance;for(var m=0;m<f.length;m++)d=b.strokeThickness/2,e=b.strokeThickness/2+m*g+c.ascent,b.align==="right"?d+=i-h[m]:b.align==="center"&&(d+=(i-h[m])/2),b.fill&&(this.drawLetterSpacing(f[m],d+k+b.padding,e+l+b.padding),b.stroke&&b.strokeThickness&&(a.strokeStyle=b.dropShadowColor,this.drawLetterSpacing(f[m],d+k+b.padding,e+l+b.padding,!0),a.strokeStyle=b.stroke))}a.shadowBlur=0;a.globalAlpha=1;a.fillStyle=this._generateFillStyle(b,f);for(var m=0;m<f.length;m++)d=b.strokeThickness/2,e=b.strokeThickness/2+m*g+c.ascent,b.align==="right"?d+=i-h[m]:b.align==="center"&&(d+=(i-h[m])/2),b.stroke&&b.strokeThickness&&this.drawLetterSpacing(f[m],d+b.padding,e+b.padding,!0),b.fill&&this.drawLetterSpacing(f[m],d+b.padding,e+b.padding);this.updateTexture()};c.prototype.drawLetterSpacing=function(a,b,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,e=this._style,f=e.letterSpacing;if(f===0){d?this.context.strokeText(a,b,c):this.context.fillText(a,b,c);return}var g=String.prototype.split.call(a,""),h=b,i=0,j="";while(i<a.length)j=g[i++],d?this.context.strokeText(j,h,c):this.context.fillText(j,h,c),h+=this.context.measureText(j).width+f};c.prototype.updateTexture=function(){var a=this.canvas;if(this._style.trim){var b=k["default"](a);a.width=b.width;a.height=b.height;this.context.putImageData(b.data,0,0)}b=this._texture;var c=this._style;c=c.trim?0:c.padding;var d=b.baseTexture;d.hasLoaded=!0;d.resolution=this.resolution;d.realWidth=a.width;d.realHeight=a.height;d.width=a.width/this.resolution;d.height=a.height/this.resolution;b.trim.width=b._frame.width=a.width/this.resolution;b.trim.height=b._frame.height=a.height/this.resolution;b.trim.x=-c;b.trim.y=-c;b.orig.width=b._frame.width-c*2;b.orig.height=b._frame.height-c*2;this._onTextureUpdate();d.emit("update",d);this.dirty=!1};c.prototype.renderWebGL=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0),this.updateText(!0),b.prototype.renderWebGL.call(this,a)};c.prototype._renderCanvas=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0),this.updateText(!0),b.prototype._renderCanvas.call(this,a)};c.prototype.getLocalBounds=function(a){this.updateText(!0);return b.prototype.getLocalBounds.call(this,a)};c.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)};c.prototype._onStyleChange=function(){this.dirty=!0};c.prototype._generateFillStyle=function(a,b){if(!Array.isArray(a.fill))return a.fill;if(navigator.isCocoonJS)return a.fill[0];var c=void 0,d=void 0,e=void 0,f=this.canvas.width/this.resolution,h=this.canvas.height/this.resolution,i=a.fill.slice(),j=a.fillGradientStops.slice();if(!j.length){var k=i.length+1;for(var l=1;l<k;++l)j.push(l/k)}i.unshift(a.fill[0]);j.unshift(0);i.push(a.fill[a.fill.length-1]);j.push(1);if(a.fillGradientType===g.TEXT_GRADIENT.LINEAR_VERTICAL){c=this.context.createLinearGradient(f/2,0,f/2,h);d=(i.length+1)*b.length;e=0;for(var l=0;l<b.length;l++){e+=1;for(var k=0;k<i.length;k++)typeof j[k]==="number"?a=j[k]/b.length+l/b.length:a=e/d,c.addColorStop(a,i[k]),e++}}else{c=this.context.createLinearGradient(0,h/2,f,h/2);d=i.length+1;e=1;for(var k=0;k<i.length;k++)typeof j[k]==="number"?a=j[k]:a=e/d,c.addColorStop(a,i[k]),e++}return c};c.prototype.destroy=function(a){typeof a==="boolean"&&(a={children:a}),a=Object.assign({},p,a),b.prototype.destroy.call(this,a),this.context=null,this.canvas=null,this._style=null};a(c,[{key:"width",get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){this.updateText(!0);var b=f.sign(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var b=f.sign(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"style",get:function(){return this._style},set:function(a){a=a||{},a instanceof i["default"]?this._style=a:this._style=new i["default"](a),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=String(a===""||a===null||a===void 0?" ":a);if(this._text===a)return;this._text=a;this.dirty=!0}}]);return c}(b["default"]);Ag["default"]=l}var Dg=!1,Eg=function(){Dg||(Dg=!0,Cg());return Bg.exports},Fg={},Gg={exports:Fg};function Hg(){Fg.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c,d,e,f,g,h,i,j,k){a(this,b),this.lineWidth=c,this.lineAlignment=k,this.nativeLines=i,this.lineColor=d,this.lineAlpha=e,this._lineTint=d,this.fillColor=f,this.fillAlpha=g,this._fillTint=f,this.fill=h,this.holes=[],this.shape=j,this.type=j.type}b.prototype.clone=function(){return new b(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)};b.prototype.addHole=function(a){this.holes.push(a)};b.prototype.destroy=function(){this.shape=null,this.holes=null};return b}();Fg["default"]=b}var Ig=!1,Jg=function(){Ig||(Ig=!0,Hg());return Gg.exports},Kg={},Lg={exports:Kg};function Mg(){Kg.__esModule=!0;Kg["default"]=a;function a(a,b,c,d,e,f,g,h,i){var j=arguments.length>9&&arguments[9]!==void 0?arguments[9]:[],k,l,m,n,o;j.push(a,b);for(var p=1,q=0;p<=i;++p)q=p/i,k=1-q,l=k*k,m=l*k,n=q*q,o=n*q,j.push(m*a+3*l*q*c+3*k*n*e+o*g,m*b+3*l*q*d+3*k*n*f+o*h);return j}}var Ng=!1,Og=function(){Ng||(Ng=!0,Mg());return Lg.exports},Pg={},Qg={exports:Pg};function Rg(){Pg.__esModule=!0;var a=cc();a=m(a);var b=dd(),c=m(b);b=T();var d=m(b);b=Jg();var e=m(b);b=Uc();var f=m(b),g=P(),h=S(),i=K();b=Za();var j=m(b);b=Og();var k=m(b);b=Hd();var l=m(b);function m(a){return a&&a.__esModule?a:{"default":a}}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function o(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function p(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var q=void 0,r=new g.Matrix(),s=new g.Point(),t=new Float32Array(4),u=new Float32Array(4);m=function(a){p(b,a);function b(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;n(this,b);var d=o(this,a.call(this));d.fillAlpha=1;d.lineWidth=0;d.nativeLines=c;d.lineColor=0;d.lineAlignment=.5;d.graphicsData=[];d.tint=16777215;d._prevTint=16777215;d.blendMode=i.BLEND_MODES.NORMAL;d.currentPath=null;d._webGL={};d.isMask=!1;d.boundsPadding=0;d._localBounds=new j["default"]();d.dirty=0;d.fastRectDirty=-1;d.clearDirty=0;d.boundsDirty=-1;d.cachedSpriteDirty=!1;d._spriteRect=null;d._fastRect=!1;return d}b.prototype.clone=function(){var a=new b();a.renderable=this.renderable;a.fillAlpha=this.fillAlpha;a.lineWidth=this.lineWidth;a.lineColor=this.lineColor;a.lineAlignment=this.lineAlignment;a.tint=this.tint;a.blendMode=this.blendMode;a.isMask=this.isMask;a.boundsPadding=this.boundsPadding;a.dirty=0;a.cachedSpriteDirty=this.cachedSpriteDirty;for(var c=0;c<this.graphicsData.length;++c)a.graphicsData.push(this.graphicsData[c].clone());a.currentPath=a.graphicsData[a.graphicsData.length-1];a.updateLocalBounds();return a};b.prototype._quadraticCurveLength=function(a,b,c,d,e,f){e=a-(2*c+e);f=b-(2*d+f);c=2*((c-2)*a);a=2*((d-2)*b);d=4*(e*e+f*f);b=4*(e*c+f*a);e=c*c+a*a;f=2*Math.sqrt(d+b+e);c=Math.sqrt(d);a=2*d*c;var g=2*Math.sqrt(e),h=b/c;return(a*f+c*b*(f-g)+(4*e*d-b*b)*Math.log((2*c+h+f)/(h+g)))/(4*a)};b.prototype._bezierCurveLength=function(a,b,c,d,e,f,g,h){var i=10,j=0,k,l,m,n,o,p,q,r=a,s=b;for(var t=1;t<=i;++t)k=t/i,l=k*k,m=l*k,n=1-k,o=n*n,p=o*n,q=p*a+3*o*k*c+3*n*l*e+m*g,p=p*b+3*o*k*d+3*n*l*f+m*h,o=r-q,k=s-p,r=q,s=p,j+=Math.sqrt(o*o+k*k);return j};b.prototype._segmentsCount=function(a){a=Math.ceil(a/b.CURVES.maxLength);a<b.CURVES.minSegments?a=b.CURVES.minSegments:a>b.CURVES.maxSegments&&(a=b.CURVES.maxSegments);return a};b.prototype.lineStyle=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;this.lineWidth=a;this.lineColor=b;this.lineAlpha=c;this.lineAlignment=d;if(this.currentPath)if(this.currentPath.shape.points.length){var e=new g.Polygon(this.currentPath.shape.points.slice(-2));e.closed=!1;this.drawShape(e)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this};b.prototype.moveTo=function(a,b){a=new g.Polygon([a,b]);a.closed=!1;this.drawShape(a);return this};b.prototype.lineTo=function(a,b){this.currentPath.shape.points.push(a,b);this.dirty++;return this};b.prototype.quadraticCurveTo=function(a,c,d,e){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var f=this.currentPath.shape.points,g,h;f.length===0&&this.moveTo(0,0);var i=f[f.length-2],j=f[f.length-1],k=b.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(i,j,a,c,d,e)):20;for(var l=1;l<=k;++l){var m=l/k;g=i+(a-i)*m;h=j+(c-j)*m;f.push(g+(a+(d-a)*m-g)*m,h+(c+(e-c)*m-h)*m)}this.dirty++;return this};b.prototype.bezierCurveTo=function(a,c,d,e,f,g){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var h=this.currentPath.shape.points,i=h[h.length-2],j=h[h.length-1];h.length-=2;var l=b.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(i,j,a,c,d,e,f,g)):20;k["default"](i,j,a,c,d,e,f,g,l,h);this.dirty++;return this};b.prototype.arcTo=function(a,b,c,d,e){this.currentPath?this.currentPath.shape.points.length===0&&this.currentPath.shape.points.push(a,b):this.moveTo(a,b);var f=this.currentPath.shape.points,g=f[f.length-2],h=f[f.length-1];h=h-b;g=g-a;d=d-b;c=c-a;var i=Math.abs(h*c-g*d);if(i<1e-8||e===0)(f[f.length-2]!==a||f[f.length-1]!==b)&&f.push(a,b);else{f=h*h+g*g;var j=d*d+c*c,k=h*d+g*c,l=e*Math.sqrt(f)/i;i=e*Math.sqrt(j)/i;f=l*k/f;k=i*k/j;j=l*c+i*g;var m=l*d+i*h,n=g*(i+f);i=h*(i+f);f=c*(l+k);l=d*(l+k);k=Math.atan2(i-m,n-j);i=Math.atan2(l-m,f-j);this.arc(j+a,m+b,e,k,i,g*d>c*h)}this.dirty++;return this};b.prototype.arc=function(a,c,d,e,f){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(e===f)return this;!g&&f<=e?f+=i.PI_2:g&&e<=f&&(e+=i.PI_2);var h=f-e,j=b.CURVES.adaptive?this._segmentsCount(Math.abs(h)*d):Math.ceil(Math.abs(h)/i.PI_2)*40;if(h===0)return this;var k=a+Math.cos(e)*d,l=c+Math.sin(e)*d,m=this.currentPath?this.currentPath.shape.points:null;m?(m[m.length-2]!==k||m[m.length-1]!==l)&&m.push(k,l):(this.moveTo(k,l),m=this.currentPath.shape.points);var n=h/(j*2),o=n*2,p=Math.cos(n),q=Math.sin(n),r=j-1,s=r%1/r;for(var t=0;t<=r;++t){var u=t+s*t,v=n+e+o*u,w=Math.cos(v),x=-Math.sin(v);m.push((p*w+q*x)*d+a,(p*-x+q*w)*d+c)}this.dirty++;return this};b.prototype.beginFill=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.filling=!0;this.fillColor=a;this.fillAlpha=b;this.currentPath&&(this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha));return this};b.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};b.prototype.drawRect=function(a,b,c,d){this.drawShape(new g.Rectangle(a,b,c,d));return this};b.prototype.drawRoundedRect=function(a,b,c,d,e){this.drawShape(new g.RoundedRectangle(a,b,c,d,e));return this};b.prototype.drawCircle=function(a,b,c){this.drawShape(new g.Circle(a,b,c));return this};b.prototype.drawEllipse=function(a,b,c,d){this.drawShape(new g.Ellipse(a,b,c,d));return this};b.prototype.drawPolygon=function(a){var b=a,c=!0;b instanceof g.Polygon&&(c=b.closed,b=b.points);if(!Array.isArray(b)){b=new Array(arguments.length);for(var d=0;d<b.length;++d)b[d]=arguments[d]}var e=new g.Polygon(b);e.closed=c;this.drawShape(e);return this};b.prototype.drawStar=function(a,b,c,d,e){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;e=e||d/2;var g=-1*Math.PI/2+f,h=c*2,j=i.PI_2/h,k=[];for(var l=0;l<h;l++){var m=l%2?e:d,n=l*j+g;k.push(a+m*Math.cos(n),b+m*Math.sin(n))}return this.drawPolygon(k)};b.prototype.clear=function(){(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0);this.currentPath=null;this._spriteRect=null;return this};b.prototype.isFastRect=function(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===i.SHAPES.RECT&&!this.graphicsData[0].lineWidth};b.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this))};b.prototype._renderSpriteRect=function(a){var b=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new f["default"](new d["default"](d["default"].WHITE)));var c=this._spriteRect;if(this.tint===16777215)c.tint=this.graphicsData[0].fillColor;else{var e=t,g=u;h.hex2rgb(this.graphicsData[0].fillColor,e);h.hex2rgb(this.tint,g);e[0]*=g[0];e[1]*=g[1];e[2]*=g[2];c.tint=h.rgb2hex(e)}c.alpha=this.graphicsData[0].fillAlpha;c.worldAlpha=this.worldAlpha*c.alpha;c.blendMode=this.blendMode;c._texture._frame.width=b.width;c._texture._frame.height=b.height;c.transform.worldTransform=this.transform.worldTransform;c.anchor.set(-b.x/b.width,-b.y/b.height);c._onAnchorUpdate();c._renderWebGL(a)};b.prototype._renderCanvas=function(a){if(this.isMask===!0)return;a.plugins.graphics.render(this)};b.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var a=this._localBounds;this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)};b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,s);a=this.graphicsData;for(var b=0;b<a.length;++b){var c=a[b];if(!c.fill)continue;if(c.shape&&c.shape.contains(s.x,s.y)){if(c.holes)for(var d=0;d<c.holes.length;d++){var e=c.holes[d];if(e.contains(s.x,s.y))return!1}return!0}}return!1};b.prototype.updateLocalBounds=function(){var a=Infinity,b=-Infinity,c=Infinity,d=-Infinity;if(this.graphicsData.length){var e=0,f=0,g,h=0;for(var j=0;j<this.graphicsData.length;j++){var k=this.graphicsData[j],l=k.type,m=k.lineWidth;k=k.shape;if(l===i.SHAPES.RECT||l===i.SHAPES.RREC)e=k.x-m/2,f=k.y-m/2,g=k.width+m,h=k.height+m,a=e<a?e:a,b=e+g>b?e+g:b,c=f<c?f:c,d=f+h>d?f+h:d;else if(l===i.SHAPES.CIRC)e=k.x,f=k.y,g=k.radius+m/2,h=k.radius+m/2,a=e-g<a?e-g:a,b=e+g>b?e+g:b,c=f-h<c?f-h:c,d=f+h>d?f+h:d;else if(l===i.SHAPES.ELIP)e=k.x,f=k.y,g=k.width+m/2,h=k.height+m/2,a=e-g<a?e-g:a,b=e+g>b?e+g:b,c=f-h<c?f-h:c,d=f+h>d?f+h:d;else{l=k.points;k=0;var n=0,o=0,p=0,q,r,s;for(var t=0;t+2<l.length;t+=2){e=l[t];f=l[t+1];k=l[t+2];n=l[t+3];o=Math.abs(k-e);p=Math.abs(n-f);h=m;g=Math.sqrt(o*o+p*p);if(g<1e-9)continue;q=(h/g*p+o)/2;g=(h/g*o+p)/2;r=(k+e)/2;s=(n+f)/2;a=r-q<a?r-q:a;b=r+q>b?r+q:b;c=s-g<c?s-g:c;d=s+g>d?s+g:d}}}}else a=0,b=0,c=0,d=0;r=this.boundsPadding;this._localBounds.minX=a-r;this._localBounds.maxX=b+r;this._localBounds.minY=c-r;this._localBounds.maxY=d+r};b.prototype.drawShape=function(a){this.currentPath&&(this.currentPath.shape.points.length<=2&&this.graphicsData.pop());this.currentPath=null;a=new e["default"](this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,a,this.lineAlignment);this.graphicsData.push(a);a.type===i.SHAPES.POLY&&(a.shape.closed=a.shape.closed||this.filling,this.currentPath=a);this.dirty++;return a};b.prototype.generateCanvasTexture=function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,e=this.getLocalBounds(),f=c["default"].create(e.width,e.height,a,b);q||(q=new l["default"]());this.transform.updateLocalTransform();this.transform.localTransform.copy(r);r.invert();r.tx-=e.x;r.ty-=e.y;q.render(this,f,!0,r);var g=d["default"].fromCanvas(f.baseTexture._canvasRenderTarget.canvas,a,"graphics");g.baseTexture.resolution=b;g.baseTexture.update();return g};b.prototype.closePath=function(){var a=this.currentPath;a&&a.shape&&a.shape.close();return this};b.prototype.addHole=function(){var a=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(a.shape);this.currentPath=null;return this};b.prototype.destroy=function(b){a.prototype.destroy.call(this,b);for(var b=0;b<this.graphicsData.length;++b)this.graphicsData[b].destroy();for(var c in this._webGL)for(var b=0;b<this._webGL[c].data.length;++b)this._webGL[c].data[b].destroy();this._spriteRect&&this._spriteRect.destroy();this.graphicsData=null;this.currentPath=null;this._webGL=null;this._localBounds=null};return b}(a["default"]);Pg["default"]=m;m._SPRITE_TEXTURE=null;m.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}}var Sg=!1,Tg=function(){Sg||(Sg=!0,Rg());return Qg.exports},Ug={},Vg={exports:Ug};function Wg(){Ug.__esModule=!0;var a=h(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c=function(){function a(c,e,f){d(this,a),this.gl=c,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=b["default"].GLBuffer.createVertexBuffer(c),this.indexBuffer=b["default"].GLBuffer.createIndexBuffer(c),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.vao=new b["default"].VertexArrayObject(c,f).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,c.FLOAT,!1,4*6,0).addAttribute(this.buffer,e.attributes.aColor,c.FLOAT,!1,4*6,2*4)}a.prototype.reset=function(){this.points.length=0,this.indices.length=0};a.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1};a.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null};return a}();Ug["default"]=c}var Xg=!1,Yg=function(){Xg||(Xg=!0,Wg());return Vg.exports},Zg={},$g={exports:Zg};function ah(){Zg.__esModule=!0;var a=Ye();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(e){c(this,b);return d(this,a.call(this,e,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return b}(b["default"]);Zg["default"]=a}var bh=!1,ch=function(){bh||(bh=!0,ah());return $g.exports},dh={},eh={exports:dh};function fh(){dh.__esModule=!0;dh["default"]=function(a,b,e){a.nativeLines?d(a,e):c(a,b)};var a=P(),b=S();function c(c,d){var e=c.points;if(e.length===0)return;var f=new a.Point(e[0],e[1]),g=new a.Point(e[e.length-2],e[e.length-1]);if(f.x===g.x&&f.y===g.y){e=e.slice();e.pop();e.pop();g=new a.Point(e[e.length-2],e[e.length-1]);var h=g.x+(f.x-g.x)*.5;f=g.y+(f.y-g.y)*.5;e.unshift(h,f);e.push(h,f)}g=d.points;h=d.indices;f=e.length/2;d=e.length;var i=g.length/6,j=c.lineWidth/2,k=b.hex2rgb(c.lineColor),l=c.lineAlpha,m=k[0]*l,n=k[1]*l;k=k[2]*l;var o=e[0],p=e[1],q=e[2],r=e[3],s=0,t=0,u=-(p-r),v=o-q,w=0,x=0,y=0,z=0,A=Math.sqrt(u*u+v*v);u/=A;v/=A;u*=j;v*=j;c=c.lineAlignment;var B=(1-c)*2;c=c*2;g.push(o-u*B,p-v*B,m,n,k,l);g.push(o+u*c,p+v*c,m,n,k,l);for(var C=1;C<f-1;++C){o=e[(C-1)*2];p=e[(C-1)*2+1];q=e[C*2];r=e[C*2+1];s=e[(C+1)*2];t=e[(C+1)*2+1];u=-(p-r);v=o-q;A=Math.sqrt(u*u+v*v);u/=A;v/=A;u*=j;v*=j;w=-(r-t);x=q-s;A=Math.sqrt(w*w+x*x);w/=A;x/=A;w*=j;x*=j;var D=-v+p-(-v+r),E=-u+q-(-u+o),F=(-u+o)*(-v+r)-(-u+q)*(-v+p),G=-x+t-(-x+r),H=-w+q-(-w+s),I=(-w+s)*(-x+r)-(-w+q)*(-x+t),J=D*H-G*E;if(Math.abs(J)<.1){J+=10.1;g.push(q-u*B,r-v*B,m,n,k,l);g.push(q+u*c,r+v*c,m,n,k,l);continue}E=(E*I-H*F)/J;H=(G*F-D*I)/J;G=(E-q)*(E-q)+(H-r)*(H-r);G>196*j*j?(y=u-w,z=v-x,A=Math.sqrt(y*y+z*z),y/=A,z/=A,y*=j,z*=j,g.push(q-y*B,r-z*B),g.push(m,n,k,l),g.push(q+y*c,r+z*c),g.push(m,n,k,l),g.push(q-y*c*B,r-z*B),g.push(m,n,k,l),d++):(g.push(q+(E-q)*B,r+(H-r)*B),g.push(m,n,k,l),g.push(q-(E-q)*c,r-(H-r)*c),g.push(m,n,k,l))}o=e[(f-2)*2];p=e[(f-2)*2+1];q=e[(f-1)*2];r=e[(f-1)*2+1];u=-(p-r);v=o-q;A=Math.sqrt(u*u+v*v);u/=A;v/=A;u*=j;v*=j;g.push(q-u*B,r-v*B);g.push(m,n,k,l);g.push(q+u*c,r+v*c);g.push(m,n,k,l);h.push(i);for(var F=0;F<d;++F)h.push(i++);h.push(i-1)}function d(a,c){var d=0,e=a.points;if(e.length===0)return;c=c.points;var f=e.length/2,g=b.hex2rgb(a.lineColor);a=a.lineAlpha;var h=g[0]*a,i=g[1]*a;g=g[2]*a;for(d=1;d<f;d++){var j=e[(d-1)*2],k=e[(d-1)*2+1],l=e[d*2],m=e[d*2+1];c.push(j,k);c.push(h,i,g,a);c.push(l,m);c.push(h,i,g,a)}}}var gh=!1,hh=function(){gh||(gh=!0,fh());return eh.exports},ih={},jh={exports:ih};function kh(){ih.__esModule=!0;ih["default"]=e;e=hh();var a=d(e),b=S();e=l();var c=d(e);function d(a){return a&&a.__esModule?a:{"default":a}}function e(d,e,f){d.points=d.shape.points.slice();var g=d.points;if(d.fill&&g.length>=6){var h=[],i=d.holes;for(var j=0;j<i.length;j++){var k=i[j];h.push(g.length/2);g=g.concat(k.points)}k=e.points;i=e.indices;j=g.length/2;var l=b.hex2rgb(d.fillColor),m=d.fillAlpha,n=l[0]*m,o=l[1]*m;l=l[2]*m;h=c["default"](g,h,2);if(!h)return;var p=k.length/6;for(var q=0;q<h.length;q+=3)i.push(h[q]+p),i.push(h[q]+p),i.push(h[q+1]+p),i.push(h[q+2]+p),i.push(h[q+2]+p);for(var q=0;q<j;q++)k.push(g[q*2],g[q*2+1],n,o,l,m)}d.lineWidth>0&&a["default"](d,e,f)}}var lh=!1,mh=function(){lh||(lh=!0,kh());return jh.exports},nh={},oh={exports:nh};function ph(){nh.__esModule=!0;nh["default"]=d;d=hh();var a=c(d),b=S();function c(a){return a&&a.__esModule?a:{"default":a}}function d(c,d,e){var f=c.shape,g=f.x,h=f.y,i=f.width;f=f.height;if(c.fill){var j=b.hex2rgb(c.fillColor),k=c.fillAlpha,l=j[0]*k,m=j[1]*k;j=j[2]*k;var n=d.points,o=d.indices,p=n.length/6;n.push(g,h);n.push(l,m,j,k);n.push(g+i,h);n.push(l,m,j,k);n.push(g,h+f);n.push(l,m,j,k);n.push(g+i,h+f);n.push(l,m,j,k);o.push(p,p,p+1,p+2,p+3,p+3)}if(c.lineWidth){n=c.points;c.points=[g,h,g+i,h,g+i,h+f,g,h+f,g,h];a["default"](c,d,e);c.points=n}}}var qh=!1,rh=function(){qh||(qh=!0,ph());return oh.exports},sh={},th={exports:sh};function uh(){sh.__esModule=!0;sh["default"]=e;e=l();var a=d(e);e=hh();var b=d(e),c=S();function d(a){return a&&a.__esModule?a:{"default":a}}function e(d,e,f){var h=d.shape,i=h.x,j=h.y,k=h.width,l=h.height;h=h.radius;var m=[];m.push(i,j+h);g(i,j+l-h,i,j+l,i+h,j+l,m);g(i+k-h,j+l,i+k,j+l,i+k,j+l-h,m);g(i+k,j+h,i+k,j,i+k-h,j,m);g(i+h,j,i,j,i,j+h+1e-10,m);if(d.fill){l=c.hex2rgb(d.fillColor);k=d.fillAlpha;i=l[0]*k;j=l[1]*k;h=l[2]*k;l=e.points;var n=e.indices,o=l.length/6,p=a["default"](m,null,2);for(var q=0,r=p.length;q<r;q+=3)n.push(p[q]+o),n.push(p[q]+o),n.push(p[q+1]+o),n.push(p[q+2]+o),n.push(p[q+2]+o);for(var q=0,n=m.length;q<n;q++)l.push(m[q],m[++q],i,j,h,k)}if(d.lineWidth){r=d.points;d.points=m;b["default"](d,e,f);d.points=r}}function f(a,b,c){b=b-a;return a+b*c}function g(a,b,c,d,e,g){var h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[],i=20,j=h,k=0,l=0,m=0,n=0,o=0,p;for(var q=0,r=0;q<=i;++q)r=q/i,k=f(a,c,r),l=f(b,d,r),m=f(c,e,r),n=f(d,g,r),o=f(k,m,r),p=f(l,n,r),j.push(o,p);return j}}var vh=!1,wh=function(){vh||(vh=!0,uh());return th.exports},xh={},yh={exports:xh};function zh(){xh.__esModule=!0;xh["default"]=e;e=hh();var a=d(e),b=K(),c=S();function d(a){return a&&a.__esModule?a:{"default":a}}function e(d,e,f){var g=d.shape,h=g.x,i=g.y,j=void 0,k=void 0;d.type===b.SHAPES.CIRC?(j=g.radius,k=g.radius):(j=g.width,k=g.height);if(j===0||k===0)return;g=Math.floor(30*Math.sqrt(g.radius))||Math.floor(15*Math.sqrt(g.width+g.height));var l=Math.PI*2/g;if(d.fill){var m=c.hex2rgb(d.fillColor),n=d.fillAlpha,o=m[0]*n,p=m[1]*n;m=m[2]*n;var q=e.points,r=e.indices,s=q.length/6;r.push(s);for(var t=0;t<g+1;t++)q.push(h,i,o,p,m,n),q.push(h+Math.sin(l*t)*j,i+Math.cos(l*t)*k,o,p,m,n),r.push(s++,s++);r.push(s-1)}if(d.lineWidth){n=d.points;d.points=[];for(var m=0;m<g+1;m++)d.points.push(h+Math.sin(l*-m)*j,i+Math.cos(l*-m)*k);a["default"](d,e,f);d.points=n}}}var Ah=!1,Bh=function(){Ah||(Ah=!0,zh());return yh.exports},Ch={},Dh={exports:Ch};function Eh(){Ch.__esModule=!0;var a=S(),b=K(),c=ae(),d=l(c);c=Rf();c=l(c);var e=Yg(),f=l(e);e=ch();var g=l(e);e=mh();var h=l(e);e=rh();var i=l(e);e=wh();var j=l(e);e=Bh();var k=l(e);function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function o(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}l=function(c){o(e,c);function e(a){m(this,e);var b=n(this,c.call(this,a));b.graphicsDataPool=[];b.primitiveShader=null;b.gl=a.gl;b.CONTEXT_UID=0;return b}e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new g["default"](this.gl)};e.prototype.destroy=function(){d["default"].prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null};e.prototype.render=function(b){var c=this.renderer,d=c.gl,e=void 0,f=b._webGL[this.CONTEXT_UID];(!f||b.dirty!==f.dirty)&&(this.updateGraphics(b),f=b._webGL[this.CONTEXT_UID]);var g=this.primitiveShader;c.bindShader(g);c.state.setBlendMode(b.blendMode);for(var g=0,h=f.data.length;g<h;g++){e=f.data[g];var i=e.shader;c.bindShader(i);i.uniforms.translationMatrix=b.transform.worldTransform.toArray(!0);i.uniforms.tint=a.hex2rgb(b.tint);i.uniforms.alpha=b.worldAlpha;c.bindVao(e.vao);e.nativeLines?d.drawArrays(d.LINES,0,e.points.length/6):e.vao.draw(d.TRIANGLE_STRIP,e.indices.length)}};e.prototype.updateGraphics=function(a){var c=this.renderer.gl,d=a._webGL[this.CONTEXT_UID];d||(d=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:c,clearDirty:-1,dirty:-1});d.dirty=a.dirty;if(a.clearDirty!==d.clearDirty){d.clearDirty=a.clearDirty;for(var c=0;c<d.data.length;c++)this.graphicsDataPool.push(d.data[c]);d.data.length=0;d.lastIndex=0}c=void 0;var e=void 0;for(var f=d.lastIndex;f<a.graphicsData.length;f++){var g=a.graphicsData[f];c=this.getWebGLData(d,0);g.nativeLines&&g.lineWidth&&(e=this.getWebGLData(d,0,!0),d.lastIndex++);g.type===b.SHAPES.POLY&&h["default"](g,c,e);g.type===b.SHAPES.RECT?i["default"](g,c,e):g.type===b.SHAPES.CIRC||g.type===b.SHAPES.ELIP?k["default"](g,c,e):g.type===b.SHAPES.RREC&&j["default"](g,c,e);d.lastIndex++}this.renderer.bindVao(null);for(var g=0;g<d.data.length;g++)c=d.data[g],c.dirty&&c.upload()};e.prototype.getWebGLData=function(a,b,c){var d=a.data[a.data.length-1];(!d||d.nativeLines!==c||d.points.length>32e4)&&(d=this.graphicsDataPool.pop()||new f["default"](this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),d.nativeLines=c,d.reset(b),a.data.push(d));d.dirty=!0;return d};return e}(d["default"]);Ch["default"]=l;c["default"].registerPlugin("graphics",l)}var Fh=!1,Gh=function(){Fh||(Fh=!0,Eh());return Dh.exports},Hh={},Ih={exports:Hh};function Jh(){Hh.__esModule=!0;var a=Hd();c=c(a);var b=K();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}a=function(){function a(b){d(this,a),this.renderer=b}a.prototype.render=function(a){var c=this.renderer,d=c.context,e=a.worldAlpha,f=a.transform.worldTransform,g=c.resolution;this._prevTint!==this.tint&&(this.dirty=!0);d.setTransform(f.a*g,f.b*g,f.c*g,f.d*g,f.tx*g,f.ty*g);a.dirty&&(this.updateGraphicsTint(a),a.dirty=!1);c.setBlendMode(a.blendMode);for(var f=0;f<a.graphicsData.length;f++){g=a.graphicsData[f];c=g.shape;var h=g._fillTint,i=g._lineTint;d.lineWidth=g.lineWidth;if(g.type===b.SHAPES.POLY){d.beginPath();this.renderPolygon(c.points,c.closed,d);for(var j=0;j<g.holes.length;j++)this.renderPolygon(g.holes[j].points,!0,d);g.fill&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill());g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke())}else if(g.type===b.SHAPES.RECT)(g.fillColor||g.fillColor===0)&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fillRect(c.x,c.y,c.width,c.height)),g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.strokeRect(c.x,c.y,c.width,c.height));else if(g.type===b.SHAPES.CIRC)d.beginPath(),d.arc(c.x,c.y,c.radius,0,2*Math.PI),d.closePath(),g.fill&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill()),g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke());else if(g.type===b.SHAPES.ELIP){j=c.width*2;var k=c.height*2,l=c.x-j/2,m=c.y-k/2;d.beginPath();var n=.5522848,o=j/2*n;n=k/2*n;var p=l+j,q=m+k;j=l+j/2;k=m+k/2;d.moveTo(l,k);d.bezierCurveTo(l,k-n,j-o,m,j,m);d.bezierCurveTo(j+o,m,p,k-n,p,k);d.bezierCurveTo(p,k+n,j+o,q,j,q);d.bezierCurveTo(j-o,q,l,k+n,l,k);d.closePath();g.fill&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill());g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke())}else if(g.type===b.SHAPES.RREC){m=c.x;p=c.y;j=c.width;o=c.height;q=c.radius;n=Math.min(j,o)/2|0;q=q>n?n:q;d.beginPath();d.moveTo(m,p+q);d.lineTo(m,p+o-q);d.quadraticCurveTo(m,p+o,m+q,p+o);d.lineTo(m+j-q,p+o);d.quadraticCurveTo(m+j,p+o,m+j,p+o-q);d.lineTo(m+j,p+q);d.quadraticCurveTo(m+j,p,m+j-q,p);d.lineTo(m+q,p);d.quadraticCurveTo(m,p,m,p+q);d.closePath();(g.fillColor||g.fillColor===0)&&(d.globalAlpha=g.fillAlpha*e,d.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),d.fill());g.lineWidth&&(d.globalAlpha=g.lineAlpha*e,d.strokeStyle="#"+("00000"+(i|0).toString(16)).substr(-6),d.stroke())}}};a.prototype.updateGraphicsTint=function(a){a._prevTint=a.tint;var b=(a.tint>>16&255)/255,c=(a.tint>>8&255)/255,d=(a.tint&255)/255;for(var e=0;e<a.graphicsData.length;++e){var f=a.graphicsData[e],g=f.fillColor|0,h=f.lineColor|0;f._fillTint=((g>>16&255)/255*b*255<<16)+((g>>8&255)/255*c*255<<8)+(g&255)/255*d*255;f._lineTint=((h>>16&255)/255*b*255<<16)+((h>>8&255)/255*c*255<<8)+(h&255)/255*d*255}};a.prototype.renderPolygon=function(a,b,c){c.moveTo(a[0],a[1]);for(var d=1;d<a.length/2;++d)c.lineTo(a[d*2],a[d*2+1]);b&&c.closePath()};a.prototype.destroy=function(){this.renderer=null};return a}();Hh["default"]=a;c["default"].registerPlugin("graphics",a)}var Kh=!1,Lh=function(){Kh||(Kh=!0,Jh());return Ih.exports},Mh={},Nh={exports:Mh};function Oh(){Mh.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=S();function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){a(e,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]);function e(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;d(this,e);this.baseTexture=a;this.textures={};this.data=b;this.resolution=this._updateResolution(c||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}e.prototype._updateResolution=function(a){var b=this.data.meta.scale;a=c.getResolutionOfUrl(a,null);a===null&&(a=b!==void 0?parseFloat(b):1);a!==1&&(this.baseTexture.resolution=a,this.baseTexture.update());return a};e.prototype.parse=function(a){this._batchIndex=0,this._callback=a,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()};e.prototype._processFrames=function(a){var c=a,d=e.BATCH_SIZE,f=this.baseTexture.sourceScale;while(c-a<d&&c<this._frameKeys.length){var g=this._frameKeys[c],h=this._frames[g],i=h.frame;if(i){var j=null,k=null,l=h.trimmed!==!1&&h.sourceSize?h.sourceSize:h.frame;l=new b.Rectangle(0,0,Math.floor(l.w*f)/this.resolution,Math.floor(l.h*f)/this.resolution);h.rotated?j=new b.Rectangle(Math.floor(i.x*f)/this.resolution,Math.floor(i.y*f)/this.resolution,Math.floor(i.h*f)/this.resolution,Math.floor(i.w*f)/this.resolution):j=new b.Rectangle(Math.floor(i.x*f)/this.resolution,Math.floor(i.y*f)/this.resolution,Math.floor(i.w*f)/this.resolution,Math.floor(i.h*f)/this.resolution);h.trimmed!==!1&&h.spriteSourceSize&&(k=new b.Rectangle(Math.floor(h.spriteSourceSize.x*f)/this.resolution,Math.floor(h.spriteSourceSize.y*f)/this.resolution,Math.floor(i.w*f)/this.resolution,Math.floor(i.h*f)/this.resolution));this.textures[g]=new b.Texture(this.baseTexture,j,l,k,h.rotated?2:0);b.Texture.addToCache(this.textures[g],g)}c++}};e.prototype._parseComplete=function(){var a=this._callback;this._callback=null;this._batchIndex=0;a.call(this,this.textures)};e.prototype._nextBatch=function(){var a=this;this._processFrames(this._batchIndex*e.BATCH_SIZE);this._batchIndex++;setTimeout(function(){a._batchIndex*e.BATCH_SIZE<a._frameKeys.length?a._nextBatch():a._parseComplete()},0)};e.prototype.destroy=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;for(var b in this.textures)this.textures[b].destroy();this._frames=null;this._frameKeys=null;this.data=null;this.textures=null;a&&this.baseTexture.destroy();this.baseTexture=null};return e}();Mh["default"]=e}var Ph=!1,Qh=function(){Ph||(Ph=!0,Oh());return Nh.exports},Rh={},Sh={exports:Rh};function Th(){Rh.__esModule=!0;Rh.autoDetectRenderer=f;f=S();var a=e(f);e=Hd();var b=d(e);f=Rf();var c=d(f);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(d,e,f,g){var h=d&&d.forceCanvas;g!==void 0&&(h=g);return!h&&a.isWebGLSupported()?new c["default"](d,e,f):new b["default"](d,e,f)}}var Uh=!1,Vh=function(){Uh||(Uh=!0,Th());return Sh.exports},Wh={},Xh={exports:Wh};function Yh(){Wh.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Vh(),c=cc(),d=h(c),e=Bc();c=Q();var f=h(c),g=K();function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}h=function(){function c(a,g,h,j,k){i(this,c),typeof a==="number"&&(a=Object.assign({width:a,height:g||f["default"].RENDER_OPTIONS.height,forceCanvas:!!j,sharedTicker:!!k},h)),this._options=a=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},a),this.renderer=b.autoDetectRenderer(a),this.stage=new d["default"](),this._ticker=null,this.ticker=a.sharedTicker?e.shared:new e.Ticker(),a.autoStart&&this.start()}c.prototype.render=function(){this.renderer.render(this.stage)};c.prototype.stop=function(){this._ticker.stop()};c.prototype.start=function(){this._ticker.start()};c.prototype.destroy=function(a,b){if(this._ticker){var c=this._ticker;this.ticker=null;c.destroy()}this.stage.destroy(b);this.stage=null;this.renderer.destroy(a);this.renderer=null;this._options=null};a(c,[{key:"ticker",set:function(a){this._ticker&&this._ticker.remove(this.render,this),this._ticker=a,a&&a.add(this.render,this,g.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]);return c}();Wh["default"]=h}var Zh=!1,$h=function(){Zh||(Zh=!0,Yh());return Xh.exports},U={},ai={exports:U};function bi(){U.__esModule=!0;U.autoDetectRenderer=U.Application=U.Filter=U.SpriteMaskFilter=U.Quad=U.RenderTarget=U.ObjectRenderer=U.WebGLManager=U.Shader=U.CanvasRenderTarget=U.TextureUvs=U.VideoBaseTexture=U.BaseRenderTexture=U.RenderTexture=U.BaseTexture=U.TextureMatrix=U.Texture=U.Spritesheet=U.CanvasGraphicsRenderer=U.GraphicsRenderer=U.GraphicsData=U.Graphics=U.TextMetrics=U.TextStyle=U.Text=U.SpriteRenderer=U.CanvasTinter=U.CanvasSpriteRenderer=U.Sprite=U.TransformBase=U.TransformStatic=U.Transform=U.Container=U.DisplayObject=U.Bounds=U.glCore=U.WebGLRenderer=U.CanvasRenderer=U.ticker=U.utils=U.settings=void 0;var a=K();Object.keys(a).forEach(function(b){if(b==="default"||b==="__esModule")return;Object.defineProperty(U,b,{enumerable:!0,get:function(){return a[b]}})});var b=P();Object.keys(b).forEach(function(a){if(a==="default"||a==="__esModule")return;Object.defineProperty(U,a,{enumerable:!0,get:function(){return b[a]}})});var c=h();Object.defineProperty(U,"glCore",{enumerable:!0,get:function(){return N(c)["default"]}});var d=Za();Object.defineProperty(U,"Bounds",{enumerable:!0,get:function(){return N(d)["default"]}});var e=Gb();Object.defineProperty(U,"DisplayObject",{enumerable:!0,get:function(){return N(e)["default"]}});var f=cc();Object.defineProperty(U,"Container",{enumerable:!0,get:function(){return N(f)["default"]}});var g=Bb();Object.defineProperty(U,"Transform",{enumerable:!0,get:function(){return N(g)["default"]}});var i=wb();Object.defineProperty(U,"TransformStatic",{enumerable:!0,get:function(){return N(i)["default"]}});var j=rb();Object.defineProperty(U,"TransformBase",{enumerable:!0,get:function(){return N(j)["default"]}});var k=Uc();Object.defineProperty(U,"Sprite",{enumerable:!0,get:function(){return N(k)["default"]}});var l=Rd();Object.defineProperty(U,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return N(l)["default"]}});var m=Md();Object.defineProperty(U,"CanvasTinter",{enumerable:!0,get:function(){return N(m)["default"]}});var n=kg();Object.defineProperty(U,"SpriteRenderer",{enumerable:!0,get:function(){return N(n)["default"]}});var o=Eg();Object.defineProperty(U,"Text",{enumerable:!0,get:function(){return N(o)["default"]}});var p=pg();Object.defineProperty(U,"TextStyle",{enumerable:!0,get:function(){return N(p)["default"]}});var q=ug();Object.defineProperty(U,"TextMetrics",{enumerable:!0,get:function(){return N(q)["default"]}});var r=Tg();Object.defineProperty(U,"Graphics",{enumerable:!0,get:function(){return N(r)["default"]}});var s=Jg();Object.defineProperty(U,"GraphicsData",{enumerable:!0,get:function(){return N(s)["default"]}});var t=Gh();Object.defineProperty(U,"GraphicsRenderer",{enumerable:!0,get:function(){return N(t)["default"]}});var u=Lh();Object.defineProperty(U,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return N(u)["default"]}});var v=Qh();Object.defineProperty(U,"Spritesheet",{enumerable:!0,get:function(){return N(v)["default"]}});var w=T();Object.defineProperty(U,"Texture",{enumerable:!0,get:function(){return N(w)["default"]}});var x=pe();Object.defineProperty(U,"TextureMatrix",{enumerable:!0,get:function(){return N(x)["default"]}});var y=mc();Object.defineProperty(U,"BaseTexture",{enumerable:!0,get:function(){return N(y)["default"]}});var z=dd();Object.defineProperty(U,"RenderTexture",{enumerable:!0,get:function(){return N(z)["default"]}});var A=Zc();Object.defineProperty(U,"BaseRenderTexture",{enumerable:!0,get:function(){return N(A)["default"]}});var B=Gc();Object.defineProperty(U,"VideoBaseTexture",{enumerable:!0,get:function(){return N(B)["default"]}});var C=Lc();Object.defineProperty(U,"TextureUvs",{enumerable:!0,get:function(){return N(C)["default"]}});var D=sd();Object.defineProperty(U,"CanvasRenderTarget",{enumerable:!0,get:function(){return N(D)["default"]}});var E=Ye();Object.defineProperty(U,"Shader",{enumerable:!0,get:function(){return N(E)["default"]}});var F=Wd();Object.defineProperty(U,"WebGLManager",{enumerable:!0,get:function(){return N(F)["default"]}});var G=ae();Object.defineProperty(U,"ObjectRenderer",{enumerable:!0,get:function(){return N(G)["default"]}});var H=Je();Object.defineProperty(U,"RenderTarget",{enumerable:!0,get:function(){return N(H)["default"]}});var I=Te();Object.defineProperty(U,"Quad",{enumerable:!0,get:function(){return N(I)["default"]}});var J=ue();Object.defineProperty(U,"SpriteMaskFilter",{enumerable:!0,get:function(){return N(J)["default"]}});var aa=ke();Object.defineProperty(U,"Filter",{enumerable:!0,get:function(){return N(aa)["default"]}});var ba=$h();Object.defineProperty(U,"Application",{enumerable:!0,get:function(){return N(ba)["default"]}});var ca=Vh();Object.defineProperty(U,"autoDetectRenderer",{enumerable:!0,get:function(){return ca.autoDetectRenderer}});var da=S();da=M(da);var L=Bc();M=M(L);L=Q();L=N(L);var ea=Hd();ea=N(ea);var fa=Rf();fa=N(fa);function M(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function N(a){return a&&a.__esModule?a:{"default":a}}U.settings=L["default"];U.utils=da;U.ticker=M;U.CanvasRenderer=ea["default"];U.WebGLRenderer=fa["default"]}var ci=!1,V=function(){ci||(ci=!0,bi());return ai.exports},di={},ei={exports:di};function fi(){di.__esModule=!0;di["default"]=c;var a={};function b(b){if(a[b])return;var c=new Error().stack;typeof c==="undefined"||(c=c.split("\n").splice(3).join("\n"),console.groupCollapsed&&(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",b),console.groupEnd()));a[b]=!0}function c(a){var c=a.mesh,d=a.particles,e=a.extras,f=a.filters,g=a.prepare,h=a.loaders,i=a.interaction;Object.defineProperties(a,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){b("You do not need to use a PIXI Stage any more, you can simply render any container.");return a.Container}},DisplayObjectContainer:{get:function(){b("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return a.Container}},Strip:{get:function(){b("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return c.Mesh}},Rope:{get:function(){b("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return c.Rope}},ParticleContainer:{get:function(){b("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");return d.ParticleContainer}},MovieClip:{get:function(){b("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return e.AnimatedSprite}},TilingSprite:{get:function(){b("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");return e.TilingSprite}},BitmapText:{get:function(){b("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return e.BitmapText}},blendModes:{get:function(){b("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return a.BLEND_MODES}},scaleModes:{get:function(){b("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return a.SCALE_MODES}},BaseTextureCache:{get:function(){b("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");return a.utils.BaseTextureCache}},TextureCache:{get:function(){b("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return a.utils.TextureCache}},math:{get:function(){b("The math namespace is deprecated, please access members already accessible on PIXI.");return a}},AbstractFilter:{get:function(){b("AstractFilter has been renamed to Filter, please use PIXI.Filter");return a.Filter}},TransformManual:{get:function(){b("TransformManual has been renamed to TransformBase, please update your pixi-spine");return a.TransformBase}},TARGET_FPMS:{get:function(){b("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return a.settings.TARGET_FPMS},set:function(c){b("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),a.settings.TARGET_FPMS=c}},FILTER_RESOLUTION:{get:function(){b("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return a.settings.FILTER_RESOLUTION},set:function(c){b("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),a.settings.FILTER_RESOLUTION=c}},RESOLUTION:{get:function(){b("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return a.settings.RESOLUTION},set:function(c){b("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),a.settings.RESOLUTION=c}},MIPMAP_TEXTURES:{get:function(){b("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return a.settings.MIPMAP_TEXTURES},set:function(c){b("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),a.settings.MIPMAP_TEXTURES=c}},SPRITE_BATCH_SIZE:{get:function(){b("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return a.settings.SPRITE_BATCH_SIZE},set:function(c){b("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),a.settings.SPRITE_BATCH_SIZE=c}},SPRITE_MAX_TEXTURES:{get:function(){b("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return a.settings.SPRITE_MAX_TEXTURES},set:function(c){b("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),a.settings.SPRITE_MAX_TEXTURES=c}},RETINA_PREFIX:{get:function(){b("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return a.settings.RETINA_PREFIX},set:function(c){b("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),a.settings.RETINA_PREFIX=c}},DEFAULT_RENDER_OPTIONS:{get:function(){b("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");return a.settings.RENDER_OPTIONS}}});var j=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],k=function(d){var c=j[d];Object.defineProperty(a[c.parent],"DEFAULT",{get:function(){b("PIXI."+c.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+c.target));return a.settings[c.target]},set:function(d){b("PIXI."+c.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+c.target)),a.settings[c.target]=d}})};for(var l=0;l<j.length;l++)k(l);Object.defineProperties(a.settings,{PRECISION:{get:function(){b("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");return a.settings.PRECISION_FRAGMENT},set:function(c){b("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),a.settings.PRECISION_FRAGMENT=c}}});e.AnimatedSprite&&Object.defineProperties(e,{MovieClip:{get:function(){b("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return e.AnimatedSprite}}});e&&Object.defineProperties(e,{TextureTransform:{get:function(){b("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.");return a.TextureMatrix}}});a.DisplayObject.prototype.generateTexture=function(a,c,d){b("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return a.generateTexture(this,c,d)};a.Graphics.prototype.generateTexture=function(a,c){b("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(a,c)};a.GroupD8.isSwapWidthHeight=function(c){b("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical");return a.GroupD8.isVertical(c)};a.RenderTexture.prototype.render=function(a,c,d,e){this.legacyRenderer.render(a,this,d,c,!e),b("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};a.RenderTexture.prototype.getImage=function(a){b("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(a)};a.RenderTexture.prototype.getBase64=function(a){b("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(a)};a.RenderTexture.prototype.getCanvas=function(a){b("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(a)};a.RenderTexture.prototype.getPixels=function(a){b("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(a)};a.Sprite.prototype.setTexture=function(a){this.texture=a,b("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};e.BitmapText&&(e.BitmapText.prototype.setText=function(a){this.text=a,b("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});a.Text.prototype.setText=function(a){this.text=a,b("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};a.Text.calculateFontProperties=function(c){b("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont");return a.TextMetrics.measureFont(c)};Object.defineProperties(a.Text,{fontPropertiesCache:{get:function(){b("Text.fontPropertiesCache is deprecated");return a.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){b("Text.fontPropertiesCanvas is deprecated");return a.TextMetrics._canvas}},fontPropertiesContext:{get:function(){b("Text.fontPropertiesContext is deprecated");return a.TextMetrics._context}}});a.Text.prototype.setStyle=function(a){this.style=a,b("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};a.Text.prototype.determineFontProperties=function(c){b("determineFontProperties is now deprecated, please use TextMetrics.measureFont method");return a.TextMetrics.measureFont(c)};a.Text.getFontStyle=function(c){b("getFontStyle is now deprecated, please use TextStyle.toFontString() instead");c=c||{};c instanceof a.TextStyle||(c=new a.TextStyle(c));return c.toFontString()};Object.defineProperties(a.TextStyle.prototype,{font:{get:function(){b("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var a=typeof this._fontSize==="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+a+" "+this._fontFamily},set:function(c){b("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");c.indexOf("italic")>1?this._fontStyle="italic":c.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal";c.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";c=c.split(" ");var d=-1;this._fontSize=26;for(var a=0;a<c.length;++a)if(c[a].match(/(px|pt|em|%)/)){d=a;this._fontSize=c[a];break}this._fontWeight="normal";for(var a=0;a<d;++a)if(c[a].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=c[a];break}if(d>-1&&d<c.length-1){this._fontFamily="";for(var a=d+1;a<c.length;++a)this._fontFamily+=c[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});a.Texture.prototype.setFrame=function(a){this.frame=a,b("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};a.Texture.addTextureToCache=function(c,d){a.Texture.addToCache(c,d),b("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")};a.Texture.removeTextureFromCache=function(c){b("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache");a.BaseTexture.removeFromCache(c);return a.Texture.removeFromCache(c)};Object.defineProperties(f,{AbstractFilter:{get:function(){b("AstractFilter has been renamed to Filter, please use PIXI.Filter");return a.AbstractFilter}},SpriteMaskFilter:{get:function(){b("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");return a.SpriteMaskFilter}},VoidFilter:{get:function(){b("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter");return f.AlphaFilter}}});a.utils.uuid=function(){b("utils.uuid() is deprecated, please use utils.uid() from now on.");return a.utils.uid()};a.utils.canUseNewCanvasBlendModes=function(){b("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return a.CanvasTinter.canUseMultiply};var m=!0;Object.defineProperty(a.utils,"_saidHello",{set:function(a){a&&(b("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),m=a},get:function(){return m}});g.BasePrepare&&(g.BasePrepare.prototype.register=function(a,c){b("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook");a&&this.registerFindHook(a);c&&this.registerUploadHook(c);return this});g.canvas&&Object.defineProperty(g.canvas,"UPLOADS_PER_FRAME",{set:function(){b("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){b("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});g.webgl&&Object.defineProperty(g.webgl,"UPLOADS_PER_FRAME",{set:function(){b("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){b("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});if(h.Loader){var n=h.Resource;k=h.Loader;Object.defineProperties(n.prototype,{isJson:{get:function(){b("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===n.TYPE.JSON}},isXml:{get:function(){b("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===n.TYPE.XML}},isImage:{get:function(){b("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");return this.type===n.TYPE.IMAGE}},isAudio:{get:function(){b("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===n.TYPE.AUDIO}},isVideo:{get:function(){b("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===n.TYPE.VIDEO}}});Object.defineProperties(k.prototype,{before:{get:function(){b("The before() method is deprecated, please use pre().");return this.pre}},after:{get:function(){b("The after() method is deprecated, please use use().");return this.use}}})}i.interactiveTarget&&Object.defineProperty(i.interactiveTarget,"defaultCursor",{set:function(a){b("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=a},get:function(){b("Property defaultCursor has been replaced with 'cursor'. ");return this.cursor}});i.InteractionManager&&(Object.defineProperty(i.InteractionManager,"defaultCursorStyle",{set:function(a){b("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles["default"]=a},get:function(){b("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");return this.cursorStyles["default"]}}),Object.defineProperty(i.InteractionManager,"currentCursorStyle",{set:function(a){b("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=a},get:function(){b("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");return this.currentCursorMode}}))}}var gi=!1,hi=function(){gi||(gi=!0,fi());return ei.exports},ii={},ji={exports:ii};function ki(){ii.__esModule=!0,ii["default"]={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}}var li=!1,mi=function(){li||(li=!0,ki());return ji.exports},ni={},oi={exports:ni};function pi(){ni.__esModule=!0;var a=V(),b=e(a);e=j();var c=d(e);a=mi();e=d(a);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}b.utils.mixins.delayMixin(b.DisplayObject.prototype,e["default"]);var g=9,h=100,i=0,k=0,l=2,m=1,n=-1e3,o=-1e3,p=2;d=function(){function a(b){f(this,a);(c["default"].tablet||c["default"].phone)&&!navigator.isCocoonJS&&this.createTouchHook();var d=document.createElement("div");d.style.width=h+"px";d.style.height=h+"px";d.style.position="absolute";d.style.top=i+"px";d.style.left=k+"px";d.style.zIndex=l;this.div=d;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=b;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isActive=!1;this.isMobileAccessabillity=!1;window.addEventListener("keydown",this._onKeyDown,!1)}a.prototype.createTouchHook=function(){var a=this,b=document.createElement("button");b.style.width=m+"px";b.style.height=m+"px";b.style.position="absolute";b.style.top=n+"px";b.style.left=o+"px";b.style.zIndex=p;b.style.backgroundColor="#FF0000";b.title="HOOK DIV";b.addEventListener("focus",function(){a.isMobileAccessabillity=!0,a.activate(),document.body.removeChild(b)});document.body.appendChild(b)};a.prototype.activate=function(){if(this.isActive)return;this.isActive=!0;window.document.addEventListener("mousemove",this._onMouseMove,!0);window.removeEventListener("keydown",this._onKeyDown,!1);this.renderer.on("postrender",this.update,this);this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div)};a.prototype.deactivate=function(){if(!this.isActive||this.isMobileAccessabillity)return;this.isActive=!1;window.document.removeEventListener("mousemove",this._onMouseMove);window.addEventListener("keydown",this._onKeyDown,!1);this.renderer.off("postrender",this.update);this.div.parentNode&&this.div.parentNode.removeChild(this.div)};a.prototype.updateAccessibleObjects=function(a){if(!a.visible)return;a.accessible&&a.interactive&&(a._accessibleActive||this.addChild(a),a.renderId=this.renderId);a=a.children;for(var b=0;b<a.length;b++)this.updateAccessibleObjects(a[b])};a.prototype.update=function(){if(!this.renderer.renderingToScreen)return;this.updateAccessibleObjects(this.renderer._lastObjectRendered);var a=this.renderer.view.getBoundingClientRect(),c=a.width/this.renderer.width,d=a.height/this.renderer.height,e=this.div;e.style.left=a.left+"px";e.style.top=a.top+"px";e.style.width=this.renderer.width+"px";e.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var f=this.children[a];if(f.renderId!==this.renderId)f._accessibleActive=!1,b.utils.removeItems(this.children,a,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,a--,this.children.length===0&&this.deactivate();else{e=f._accessibleDiv;var g=f.hitArea,h=f.worldTransform;f.hitArea?(e.style.left=(h.tx+g.x*h.a)*c+"px",e.style.top=(h.ty+g.y*h.d)*d+"px",e.style.width=g.width*h.a*c+"px",e.style.height=g.height*h.d*d+"px"):(g=f.getBounds(),this.capHitArea(g),e.style.left=g.x*c+"px",e.style.top=g.y*d+"px",e.style.width=g.width*c+"px",e.style.height=g.height*d+"px",e.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(e.title=f.accessibleTitle),e.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&e.setAttribute("aria-label",f.accessibleHint))}}this.renderId++};a.prototype.capHitArea=function(a){a.x<0&&(a.width+=a.x,a.x=0),a.y<0&&(a.height+=a.y,a.y=0),a.x+a.width>this.renderer.width&&(a.width=this.renderer.width-a.x),a.y+a.height>this.renderer.height&&(a.height=this.renderer.height-a.y)};a.prototype.addChild=function(a){var b=this.pool.pop();b||(b=document.createElement("button"),b.style.width=h+"px",b.style.height=h+"px",b.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",b.style.position="absolute",b.style.zIndex=l,b.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?b.setAttribute("aria-live","off"):b.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?b.setAttribute("aria-relevant","additions"):b.setAttribute("aria-relevant","text"),b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("focus",this._onFocus.bind(this)),b.addEventListener("focusout",this._onFocusOut.bind(this)));a.accessibleTitle&&a.accessibleTitle!==null?b.title=a.accessibleTitle:(!a.accessibleHint||a.accessibleHint===null)&&(b.title="displayObject "+a.tabIndex);a.accessibleHint&&a.accessibleHint!==null&&b.setAttribute("aria-label",a.accessibleHint);a._accessibleActive=!0;a._accessibleDiv=b;b.displayObject=a;this.children.push(a);this.div.appendChild(a._accessibleDiv);a._accessibleDiv.tabIndex=a.tabIndex};a.prototype._onClick=function(a){var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"click",b.eventData)};a.prototype._onFocus=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","assertive");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseover",b.eventData)};a.prototype._onFocusOut=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","polite");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseout",b.eventData)};a.prototype._onKeyDown=function(a){if(a.keyCode!==g)return;this.activate()};a.prototype._onMouseMove=function(a){if(a.movementX===0&&a.movementY===0)return;this.deactivate()};a.prototype.destroy=function(){this.div=null;for(var a=0;a<this.children.length;a++)this.children[a].div=null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.pool=null;this.children=null;this.renderer=null};return a}();ni["default"]=d;b.WebGLRenderer.registerPlugin("accessibility",d);b.CanvasRenderer.registerPlugin("accessibility",d)}var qi=!1,ri=function(){qi||(qi=!0,pi());return oi.exports},si={},ti={exports:si};function ui(){si.__esModule=!0;var a=mi();Object.defineProperty(si,"accessibleTarget",{enumerable:!0,get:function(){return c(a)["default"]}});var b=ri();Object.defineProperty(si,"AccessibilityManager",{enumerable:!0,get:function(){return c(b)["default"]}});function c(a){return a&&a.__esModule?a:{"default":a}}}var vi=!1,wi=function(){vi||(vi=!0,ui());return ti.exports},xi={},yi={exports:xi};function zi(){xi.__esModule=!0;var a=V(),b=c(a);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=new b.Rectangle(),f=4;c=function(){function a(b){d(this,a),this.renderer=b,b.extract=this}a.prototype.image=function(a){var b=new Image();b.src=this.base64(a);return b};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var c=this.renderer,d=void 0,g=void 0,h=void 0,i=!1,j=void 0,k=!1;a&&(a instanceof b.RenderTexture?j=a:(j=this.renderer.generateTexture(a),k=!0));j?(d=j.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],g=d.resolution,h=j.frame,i=!1):(d=this.renderer.rootRenderTarget,g=d.resolution,i=!0,h=e,h.width=d.size.width,h.height=d.size.height);a=h.width*g;var l=h.height*g,m=new b.CanvasRenderTarget(a,l);if(d){c.bindRenderTarget(d);d=new Uint8Array(f*a*l);c=c.gl;c.readPixels(h.x*g,h.y*g,a,l,c.RGBA,c.UNSIGNED_BYTE,d);h=m.context.getImageData(0,0,a,l);h.data.set(d);m.context.putImageData(h,0,0);i&&(m.context.scale(1,-1),m.context.drawImage(m.canvas,0,-l))}k&&j.destroy(!0);return m.canvas};a.prototype.pixels=function(a){var c=this.renderer,d=void 0,g=void 0,h=void 0,i=void 0,j=!1;a&&(a instanceof b.RenderTexture?i=a:(i=this.renderer.generateTexture(a),j=!0));i?(d=i.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],g=d.resolution,h=i.frame):(d=this.renderer.rootRenderTarget,g=d.resolution,h=e,h.width=d.size.width,h.height=d.size.height);a=h.width*g;var k=h.height*g,l=new Uint8Array(f*a*k);if(d){c.bindRenderTarget(d);d=c.gl;d.readPixels(h.x*g,h.y*g,a,k,d.RGBA,d.UNSIGNED_BYTE,l)}j&&i.destroy(!0);return l};a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};return a}();xi["default"]=c;b.WebGLRenderer.registerPlugin("extract",c)}var Ai=!1,Bi=function(){Ai||(Ai=!0,zi());return yi.exports},Ci={},Di={exports:Ci};function Ei(){Ci.__esModule=!0;var a=V(),b=c(a);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=new b.Rectangle();c=function(){function a(b){d(this,a),this.renderer=b,b.extract=this}a.prototype.image=function(a){var b=new Image();b.src=this.base64(a);return b};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var c=this.renderer,d=void 0,f=void 0,g=void 0,h=void 0;a&&(a instanceof b.RenderTexture?h=a:h=c.generateTexture(a));h?(d=h.baseTexture._canvasRenderTarget.context,f=h.baseTexture._canvasRenderTarget.resolution,g=h.frame):(d=c.rootContext,g=e,g.width=this.renderer.width,g.height=this.renderer.height);a=g.width*f;h=g.height*f;c=new b.CanvasRenderTarget(a,h);d=d.getImageData(g.x*f,g.y*f,a,h);c.context.putImageData(d,0,0);return c.canvas};a.prototype.pixels=function(a){var c=this.renderer,d=void 0,f=void 0;a&&(a instanceof b.RenderTexture?f=a:f=c.generateTexture(a));f?(a=f.baseTexture._canvasRenderTarget.context,d=f.baseTexture._canvasRenderTarget.resolution,f=f.frame):(a=c.rootContext,f=e,f.width=c.width,f.height=c.height);return a.getImageData(0,0,f.width*d,f.height*d).data};a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};return a}();Ci["default"]=c;b.CanvasRenderer.registerPlugin("extract",c)}var Fi=!1,Gi=function(){Fi||(Fi=!0,Ei());return Di.exports},Hi={},Ii={exports:Hi};function Ji(){Hi.__esModule=!0;var a=Bi();Object.defineProperty(Hi,"webgl",{enumerable:!0,get:function(){return c(a)["default"]}});var b=Gi();Object.defineProperty(Hi,"canvas",{enumerable:!0,get:function(){return c(b)["default"]}});function c(a){return a&&a.__esModule?a:{"default":a}}}var Ki=!1,Li=function(){Ki||(Ki=!0,Ji());return Ii.exports},Mi={},Ni={exports:Mi};function Oi(){Mi.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=d(b);function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(b){g(d,b);function d(a,g){e(this,d);var h=f(this,b.call(this,a[0]instanceof c.Texture?a[0]:a[0].texture));h._textures=null;h._durations=null;h.textures=a;h._autoUpdate=g!==!1;h.animationSpeed=1;h.loop=!0;h.onComplete=null;h.onFrameChange=null;h.onLoop=null;h._currentTime=0;h.playing=!1;return h}d.prototype.stop=function(){if(!this.playing)return;this.playing=!1;this._autoUpdate&&c.ticker.shared.remove(this.update,this)};d.prototype.play=function(){if(this.playing)return;this.playing=!0;this._autoUpdate&&c.ticker.shared.add(this.update,this,c.UPDATE_PRIORITY.HIGH)};d.prototype.gotoAndStop=function(a){this.stop();var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture()};d.prototype.gotoAndPlay=function(a){var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture();this.play()};d.prototype.update=function(a){var b=this.animationSpeed*a,c=this.currentFrame;if(this._durations!==null){var d=this._currentTime%1*this._durations[this.currentFrame];d+=b/60*1e3;while(d<0)this._currentTime--,d+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);this._currentTime=Math.floor(this._currentTime);while(d>=this._durations[this.currentFrame])d-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=b;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):c!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<c?this.onLoop():this.animationSpeed<0&&this.currentFrame>c&&this.onLoop()),this.updateTexture())};d.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)};d.prototype.destroy=function(a){this.stop(),b.prototype.destroy.call(this,a)};d.fromFrames=function(a){var b=[];for(var e=0;e<a.length;++e)b.push(c.Texture.fromFrame(a[e]));return new d(b)};d.fromImages=function(a){var b=[];for(var e=0;e<a.length;++e)b.push(c.Texture.fromImage(a[e]));return new d(b)};a(d,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(a){if(a[0]instanceof c.Texture)this._textures=a,this._durations=null;else{this._textures=[];this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}this.gotoAndStop(0);this.updateTexture()}},{key:"currentFrame",get:function(){var a=Math.floor(this._currentTime)%this._textures.length;a<0&&(a+=this._textures.length);return a}}]);return d}(c.Sprite);Mi["default"]=d}var Pi=!1,Qi=function(){Pi||(Pi=!0,Oi());return Ni.exports},Ri={},Si={exports:Ri};function Ti(){Ri.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=f(b);f=Md();var d=e(f);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function i(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var j=new c.Point();b=function(b){i(e,b);function e(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100;g(this,e);var i=h(this,b.call(this,a));i.tileTransform=new c.TransformStatic();i._width=d;i._height=f;i._canvasPattern=null;i.uvTransform=a.transform||new c.TextureMatrix(a);i.pluginName="tilingSprite";i.uvRespectAnchor=!1;return i}e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215};e.prototype._renderWebGL=function(a){var b=this._texture;if(!b||!b.valid)return;this.tileTransform.updateLocalTransform();this.uvTransform.update();a.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};e.prototype._renderCanvas=function(a){var b=this._texture;if(!b.baseTexture.hasLoaded)return;var e=a.context,f=this.worldTransform,g=a.resolution,h=b.baseTexture,i=h.resolution,j=this.tilePosition.x/this.tileScale.x%b._frame.width*i,k=this.tilePosition.y/this.tileScale.y%b._frame.height*i;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new c.CanvasRenderTarget(b._frame.width,b._frame.height,i);this.tint!==16777215?(this.tintedTexture=d["default"].getTintedTexture(this,this.tint),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(h.source,-b._frame.x*i,-b._frame.y*i);this.cachedTint=this.tint;this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}e.globalAlpha=this.worldAlpha;e.setTransform(f.a*g,f.b*g,f.c*g,f.d*g,f.tx*g,f.ty*g);a.setBlendMode(this.blendMode);e.fillStyle=this._canvasPattern;e.scale(this.tileScale.x/i,this.tileScale.y/i);h=this.anchor.x*-this._width;b=this.anchor.y*-this._height;this.uvRespectAnchor?(e.translate(j,k),e.fillRect(-j+h,-k+b,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i)):(e.translate(j+h,k+b),e.fillRect(-j,-k,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i))};e.prototype._calculateBounds=function(){var a=this._width*-this._anchor._x,b=this._height*-this._anchor._y,c=this._width*(1-this._anchor._x),d=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,a,b,c,d)};e.prototype.getLocalBounds=function(a){if(this.children.length===0){this._bounds.minX=this._width*-this._anchor._x;this._bounds.minY=this._height*-this._anchor._y;this._bounds.maxX=this._width*(1-this._anchor._x);this._bounds.maxY=this._height*(1-this._anchor._y);a||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle()),a=this._localBoundsRect);return this._bounds.getRectangle(a)}return b.prototype.getLocalBounds.call(this,a)};e.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,j);a=this._width;var b=this._height,c=-a*this.anchor._x;if(j.x>=c&&j.x<c+a){c=-b*this.anchor._y;if(j.y>=c&&j.y<c+b)return!0}return!1};e.prototype.destroy=function(a){b.prototype.destroy.call(this,a),this.tileTransform=null,this.uvTransform=null};e.from=function(a,b,d){return new e(c.Texture.from(a),b,d)};e.fromFrame=function(a,b,d){var f=c.utils.TextureCache[a];if(!f)throw new Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new e(f,b,d)};e.fromImage=function(a,b,d,f,g){return new e(c.Texture.fromImage(a,f,g),b,d)};a(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(a){this.uvTransform.clampMargin=a,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copy(a)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copy(a)}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]);return e}(c.Sprite);Ri["default"]=b}var Ui=!1,Vi=function(){Ui||(Ui=!0,Ti());return Si.exports},Wi={},Xi={exports:Wi};function Yi(){Wi.__esModule=!0;var a=V(),b=d(a),c=K();function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=new b.Matrix();d=function(a){g(d,a);function d(b){e(this,d);b=f(this,a.call(this,b));b.shader=null;b.simpleShader=null;b.quad=null;return b}d.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new b.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n");this.simpleShader=new b.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n");this.renderer.bindVao(null);this.quad=new b.Quad(a,this.renderer.state.attribState);this.quad.initVao(this.shader)};d.prototype.render=function(a){var d=this.renderer,e=this.quad;d.bindVao(e.vao);var f=e.vertices;f[0]=f[6]=a._width*-a.anchor.x;f[1]=f[3]=a._height*-a.anchor.y;f[2]=f[4]=a._width*(1-a.anchor.x);f[5]=f[7]=a._height*(1-a.anchor.y);a.uvRespectAnchor&&(f=e.uvs,f[0]=f[6]=-a.anchor.x,f[1]=f[3]=-a.anchor.y,f[2]=f[4]=1-a.anchor.x,f[5]=f[7]=1-a.anchor.y);e.upload();f=a._texture;var g=f.baseTexture,i=a.tileTransform.localTransform,j=a.uvTransform,k=g.isPowerOfTwo&&f.frame.width===g.width&&f.frame.height===g.height;k&&(!g._glTextures[d.CONTEXT_UID]?g.wrapMode===c.WRAP_MODES.CLAMP&&(g.wrapMode=c.WRAP_MODES.REPEAT):k=g.wrapMode!==c.WRAP_MODES.CLAMP);var l=k?this.simpleShader:this.shader;d.bindShader(l);var m=f.width,n=f.height,o=a._width,p=a._height;h.set(i.a*m/o,i.b*m/p,i.c*n/o,i.d*n/p,i.tx/o,i.ty/p);h.invert();k?h.prepend(j.mapCoord):(l.uniforms.uMapCoord=j.mapCoord.toArray(!0),l.uniforms.uClampFrame=j.uClampFrame,l.uniforms.uClampOffset=j.uClampOffset);l.uniforms.uTransform=h.toArray(!0);l.uniforms.uColor=b.utils.premultiplyTintToRgba(a.tint,a.worldAlpha,l.uniforms.uColor,g.premultipliedAlpha);l.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);l.uniforms.uSampler=d.bindTexture(f);d.setBlendMode(b.utils.correctBlendMode(a.blendMode,g.premultipliedAlpha));e.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return d}(b.ObjectRenderer);Wi["default"]=d;b.WebGLRenderer.registerPlugin("tilingSprite",d)}var Zi=!1,$i=function(){Zi||(Zi=!0,Yi());return Xi.exports},aj={},bj={exports:aj};function cj(){aj.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=h(b);h=ia();var d=g(h),e=S();b=Q();var f=g(b);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h=function(b){k(g,b);function g(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,g);var e=j(this,b.call(this));e._textWidth=0;e._textHeight=0;e._glyphs=[];e._font={tint:c.tint!==void 0?c.tint:16777215,align:c.align||"left",name:null,size:0};e.font=c.font;e._text=a;e._maxWidth=0;e._maxLineHeight=0;e._letterSpacing=0;e._anchor=new d["default"](function(){e.dirty=!0},e,0,0);e.dirty=!1;e.updateText();return e}g.prototype.updateText=function(){var a=g.fonts[this._font.name],b=this._font.size/a.size,d=new c.Point(),e=[],f=[],h=this.text.replace(/(?:\r\n|\r)/g,"\n"),i=h.length,j=this._maxWidth*a.size/this._font.size,k=null,l=0,m=0,n=0,o=-1,p=0,q=0,r=0;for(var s=0;s<i;s++){var t=h.charCodeAt(s),u=h.charAt(s);/(?:\s)/.test(u)&&(o=s,p=l);if(u==="\r"||u==="\n"){f.push(l);m=Math.max(m,l);++n;++q;d.x=0;d.y+=a.lineHeight;k=null;continue}u=a.chars[t];if(!u)continue;k&&u.kerning[k]&&(d.x+=u.kerning[k]);e.push({texture:u.texture,line:n,charCode:t,position:new c.Point(d.x+u.xOffset+this._letterSpacing/2,d.y+u.yOffset)});d.x+=u.xAdvance+this._letterSpacing;l=d.x;r=Math.max(r,u.yOffset+u.texture.height);k=t;o!==-1&&j>0&&d.x>j&&(++q,c.utils.removeItems(e,1+o-q,1+s-o),s=o,o=-1,f.push(p),m=Math.max(m,p),n++,d.x=0,d.y+=a.lineHeight,k=null)}u=h.charAt(h.length-1);u!=="\r"&&u!=="\n"&&(/(?:\s)/.test(u)&&(l=p),f.push(l),m=Math.max(m,l));t=[];for(var s=0;s<=n;s++){o=0;this._font.align==="right"?o=m-f[s]:this._font.align==="center"&&(o=(m-f[s])/2);t.push(o)}j=e.length;k=this.tint;for(var q=0;q<j;q++){i=this._glyphs[q];i?i.texture=e[q].texture:(i=new c.Sprite(e[q].texture),this._glyphs.push(i));i.position.x=(e[q].position.x+t[e[q].line])*b;i.position.y=e[q].position.y*b;i.scale.x=i.scale.y=b;i.tint=k;i.parent||this.addChild(i)}for(var h=j;h<this._glyphs.length;++h)this.removeChild(this._glyphs[h]);this._textWidth=m*b;this._textHeight=(d.y+a.lineHeight)*b;if(this.anchor.x!==0||this.anchor.y!==0)for(var u=0;u<j;u++)this._glyphs[u].x-=this._textWidth*this.anchor.x,this._glyphs[u].y-=this._textHeight*this.anchor.y;this._maxLineHeight=r*b};g.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()};g.prototype.getLocalBounds=function(){this.validate();return b.prototype.getLocalBounds.call(this)};g.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};g.registerFont=function(a,b){var d={},h=a.getElementsByTagName("info")[0],i=a.getElementsByTagName("common")[0],j=a.getElementsByTagName("page"),k=e.getResolutionOfUrl(j[0].getAttribute("file"),f["default"].RESOLUTION),l={};d.font=h.getAttribute("face");d.size=parseInt(h.getAttribute("size"),10);d.lineHeight=parseInt(i.getAttribute("lineHeight"),10)/k;d.chars={};b instanceof c.Texture&&(b=[b]);for(var h=0;h<j.length;h++){i=j[h].getAttribute("id");var m=j[h].getAttribute("file");l[i]=b instanceof Array?b[h]:b[m]}i=a.getElementsByTagName("char");for(var m=0;m<i.length;m++){h=i[m];j=parseInt(h.getAttribute("id"),10);b=h.getAttribute("page")||0;var n=new c.Rectangle(parseInt(h.getAttribute("x"),10)/k+l[b].frame.x/k,parseInt(h.getAttribute("y"),10)/k+l[b].frame.y/k,parseInt(h.getAttribute("width"),10)/k,parseInt(h.getAttribute("height"),10)/k);d.chars[j]={xOffset:parseInt(h.getAttribute("xoffset"),10)/k,yOffset:parseInt(h.getAttribute("yoffset"),10)/k,xAdvance:parseInt(h.getAttribute("xadvance"),10)/k,kerning:{},texture:new c.Texture(l[b].baseTexture,n),page:b}}j=a.getElementsByTagName("kerning");for(var h=0;h<j.length;h++){n=j[h];b=parseInt(n.getAttribute("first"),10)/k;m=parseInt(n.getAttribute("second"),10)/k;i=parseInt(n.getAttribute("amount"),10)/k;d.chars[m]&&(d.chars[m].kerning[b]=i)}g.fonts[d.font]=d;return d};a(g,[{key:"tint",get:function(){return this._font.tint},set:function(a){this._font.tint=typeof a==="number"&&a>=0?a:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(a){this._font.align=a||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(a){typeof a==="number"?this._anchor.set(a):this._anchor.copy(a)}},{key:"font",get:function(){return this._font},set:function(a){if(!a)return;typeof a==="string"?(a=a.split(" "),this._font.name=a.length===1?a[0]:a.slice(1).join(" "),this._font.size=a.length>=2?parseInt(a[0],10):g.fonts[this._font.name].size):(this._font.name=a.name,this._font.size=typeof a.size==="number"?a.size:parseInt(a.size,10));this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=a.toString()||" ";if(this._text===a)return;this._text=a;this.dirty=!0}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(a){if(this._maxWidth===a)return;this._maxWidth=a;this.dirty=!0}},{key:"maxLineHeight",get:function(){this.validate();return this._maxLineHeight}},{key:"textWidth",get:function(){this.validate();return this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.dirty=!0)}},{key:"textHeight",get:function(){this.validate();return this._textHeight}}]);return g}(c.Container);aj["default"]=h;h.fonts={}}var dj=!1,ej=function(){dj||(dj=!0,cj());return bj.exports};f={};var fj={exports:f};function gj(){var a=V(),b=g(a);g=T();var c=f(g);a=mc();var d=f(a),e=S();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}g=b.DisplayObject;var i=new b.Matrix();g.prototype._cacheAsBitmap=!1;g.prototype._cacheData=!1;var j=function a(){h(this,a),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(g.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){if(this._cacheAsBitmap===a)return;this._cacheAsBitmap=a;var b=void 0;a?(this._cacheData||(this._cacheData=new j()),b=this._cacheData,b.originalRenderWebGL=this.renderWebGL,b.originalRenderCanvas=this.renderCanvas,b.originalUpdateTransform=this.updateTransform,b.originalCalculateBounds=this._calculateBounds,b.originalGetLocalBounds=this.getLocalBounds,b.originalDestroy=this.destroy,b.originalContainsPoint=this.containsPoint,b.originalMask=this._mask,b.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(b=this._cacheData,b.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=b.originalRenderWebGL,this.renderCanvas=b.originalRenderCanvas,this._calculateBounds=b.originalCalculateBounds,this.getLocalBounds=b.originalGetLocalBounds,this.destroy=b.originalDestroy,this.updateTransform=b.originalUpdateTransform,this.containsPoint=b.originalContainsPoint,this._mask=b.originalMask,this.filterArea=b.originalFilterArea)}}});g.prototype._renderCachedWebGL=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;this._initCachedDisplayObject(a);this._cacheData.sprite._transformID=-1;this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._renderWebGL(a)};g.prototype._initCachedDisplayObject=function(a){if(this._cacheData&&this._cacheData.sprite)return;var f=this.alpha;this.alpha=1;a.currentRenderer.flush();var g=this.getLocalBounds().clone();if(this._filters){var h=this._filters[0].padding;g.pad(h)}h=a._activeRenderTarget;var j=a.filterManager.filterStack,k=b.RenderTexture.create(g.width|0,g.height|0),l="cacheAsBitmap_"+e.uid();this._cacheData.textureCacheId=l;d["default"].addToCache(k.baseTexture,l);c["default"].addToCache(k,l);l=i;l.tx=-g.x;l.ty=-g.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;a.render(this,k,!0,l,!0);a.bindRenderTarget(h);a.filterManager.filterStack=j;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this._mask=null;this.filterArea=null;l=new b.Sprite(k);l.transform.worldTransform=this.transform.worldTransform;l.anchor.x=-(g.x/g.width);l.anchor.y=-(g.y/g.height);l.alpha=f;l._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=l;this.transform._parentID=-1;!this.parent?(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null):this.updateTransform();this.containsPoint=l.containsPoint.bind(l)};g.prototype._renderCachedCanvas=function(a){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;this._initCachedDisplayObjectCanvas(a);this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite.renderCanvas(a)};g.prototype._initCachedDisplayObjectCanvas=function(a){if(this._cacheData&&this._cacheData.sprite)return;var f=this.getLocalBounds(),g=this.alpha;this.alpha=1;var h=a.context,j=b.RenderTexture.create(f.width|0,f.height|0),k="cacheAsBitmap_"+e.uid();this._cacheData.textureCacheId=k;d["default"].addToCache(j.baseTexture,k);c["default"].addToCache(j,k);k=i;this.transform.localTransform.copy(k);k.invert();k.tx-=f.x;k.ty-=f.y;this.renderCanvas=this._cacheData.originalRenderCanvas;a.render(this,j,!0,k,!1);a.context=h;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this._mask=null;this.filterArea=null;k=new b.Sprite(j);k.transform.worldTransform=this.transform.worldTransform;k.anchor.x=-(f.x/f.width);k.anchor.y=-(f.y/f.height);k._bounds=this._bounds;k.alpha=g;!this.parent?(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null):this.updateTransform();this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=k;this.containsPoint=k.containsPoint.bind(k)};g.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()};g.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};g.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,d["default"].removeFromCache(this._cacheData.textureCacheId),c["default"].removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};g.prototype._cacheAsBitmapDestroy=function(a){this.cacheAsBitmap=!1,this.destroy(a)}}var hj=!1,ij=function(){hj||(hj=!0,gj());return fj.exports};c={};var jj={exports:c};function kj(){var a=V();b=b(a);function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}b.DisplayObject.prototype.name=null;b.Container.prototype.getChildByName=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b].name===a)return this.children[b];return null}}var lj=!1,mj=function(){lj||(lj=!0,kj());return jj.exports};b={};var nj={exports:b};function oj(){var a=V(),b=c(a);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}b.DisplayObject.prototype.getGlobalPosition=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new b.Point(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.parent?this.parent.toGlobal(this.position,a,c):(a.x=this.position.x,a.y=this.position.y);return a}}var pj=!1,qj=function(){pj||(pj=!0,oj());return nj.exports},W={},rj={exports:W};function sj(){W.__esModule=!0;W.BitmapText=W.TilingSpriteRenderer=W.TilingSprite=W.AnimatedSprite=void 0;var a=Qi();Object.defineProperty(W,"AnimatedSprite",{enumerable:!0,get:function(){return e(a)["default"]}});var b=Vi();Object.defineProperty(W,"TilingSprite",{enumerable:!0,get:function(){return e(b)["default"]}});var c=$i();Object.defineProperty(W,"TilingSpriteRenderer",{enumerable:!0,get:function(){return e(c)["default"]}});var d=ej();Object.defineProperty(W,"BitmapText",{enumerable:!0,get:function(){return e(d)["default"]}});ij();mj();qj();function e(a){return a&&a.__esModule?a:{"default":a}}}var tj=!1,uj=function(){tj||(tj=!0,sj());return rj.exports},vj={},wj={exports:vj};function xj(){vj.__esModule=!0;var a=V();b=b(a);function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(){c(this,b);return d(this,a.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return b}(b.Filter);vj["default"]=a}var yj=!1,zj=function(){yj||(yj=!0,xj());return wj.exports},Aj={},Bj={exports:Aj};function Cj(){Aj.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V();c=c(b);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){f(c,b);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.5,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random();d(this,c);var g=e(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));g.noise=a;g.seed=f;return g}a(c,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(a){this.uniforms.uNoise=a}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(a){this.uniforms.uSeed=a}}]);return c}(c.Filter);Aj["default"]=b}var Dj=!1,Ej=function(){Dj||(Dj=!0,Cj());return Bj.exports},Fj={},Gj={exports:Fj};function Hj(){Fj.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=d(b);function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}d=function(b){g(d,b);function d(a,g){e(this,d);var h=new c.Matrix();a.renderable=!1;var i=f(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));i.maskSprite=a;i.maskMatrix=h;i.uniforms.mapSampler=a._texture;i.uniforms.filterMatrix=h;i.uniforms.scale={x:1,y:1};(g===null||g===void 0)&&(g=20);i.scale=new c.Point(g,g);return i}d.prototype.apply=function(a,b,c){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,a.applyFilter(this,b,c)};a(d,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a}}]);return d}(c.Filter);Fj["default"]=d}var Ij=!1,Jj=function(){Ij||(Ij=!0,Hj());return Gj.exports},Kj={},Lj={exports:Kj};function Mj(){Kj.__esModule=!0;Kj["default"]=b;var a=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n");function b(b,c){var d=Math.ceil(b/2),e=a,f="",g=void 0;c?g="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":g="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var c=0;c<b;c++){var h=g.replace("%index%",c);h=h.replace("%sampleIndex%",c-(d-1)+".0");f+=h;f+="\n"}e=e.replace("%blur%",f);e=e.replace("%size%",b);return e}}var Nj=!1,Oj=function(){Nj||(Nj=!0,Mj());return Lj.exports},Pj={},Qj={exports:Pj};function Rj(){Pj.__esModule=!0;Pj["default"]=c;var a={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},b=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function c(c){var d=a[c],e=d.length,f=b,g="",h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",i;for(var j=0;j<c;j++){var k=h.replace("%index%",j);i=j;j>=e&&(i=c-j-1);k=k.replace("%value%",d[i]);g+=k;g+="\n"}f=f.replace("%blur%",g);f=f.replace("%size%",c);return f}}var Sj=!1,Tj=function(){Sj||(Sj=!0,Rj());return Qj.exports},Uj={},Vj={exports:Uj};function Wj(){Uj.__esModule=!0;Uj["default"]=a;function a(a){a=a.getParameter(a.MAX_VARYING_VECTORS);var b=15;while(b>a)b-=2;return b}}var Xj=!1,Yj=function(){Xj||(Xj=!0,Wj());return Vj.exports},Zj={},$j={exports:Zj};function ak(){Zj.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=h(b);h=Oj();var d=g(h);b=Tj();var e=g(b);h=Yj();var f=g(h);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){k(g,b);function g(a,f,h,k){i(this,g);k=k||5;var l=d["default"](k,!0);k=e["default"](k);l=j(this,b.call(this,l,k));l.resolution=h||c.settings.RESOLUTION;l._quality=0;l.quality=f||4;l.strength=a||8;l.firstRun=!0;return l}g.prototype.apply=function(a,b,c,g){if(this.firstRun){var h=a.renderer.gl;h=f["default"](h);this.vertexSrc=d["default"](h,!0);this.fragmentSrc=e["default"](h);this.firstRun=!1}this.uniforms.strength=1/c.size.width*(c.size.width/b.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1)a.applyFilter(this,b,c,g);else{h=a.getRenderTarget(!0);b=b;var i=h;for(var j=0;j<this.passes-1;j++){a.applyFilter(this,b,i,!0);var k=i;i=b;b=k}a.applyFilter(this,b,c,g);a.returnRenderTarget(h)}};a(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=Math.abs(a)*2,this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this._quality=a,this.passes=a}}]);return g}(c.Filter);Zj["default"]=b}var bk=!1,ck=function(){bk||(bk=!0,ak());return $j.exports},dk={},ek={exports:dk};function fk(){dk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=h(b);h=Oj();var d=g(h);b=Tj();var e=g(b);h=Yj();var f=g(h);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){k(g,b);function g(a,f,h,k){i(this,g);k=k||5;var l=d["default"](k,!1);k=e["default"](k);l=j(this,b.call(this,l,k));l.resolution=h||c.settings.RESOLUTION;l._quality=0;l.quality=f||4;l.strength=a||8;l.firstRun=!0;return l}g.prototype.apply=function(a,b,c,g){if(this.firstRun){var h=a.renderer.gl;h=f["default"](h);this.vertexSrc=d["default"](h,!1);this.fragmentSrc=e["default"](h);this.firstRun=!1}this.uniforms.strength=1/c.size.height*(c.size.height/b.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1)a.applyFilter(this,b,c,g);else{h=a.getRenderTarget(!0);b=b;var i=h;for(var j=0;j<this.passes-1;j++){a.applyFilter(this,b,i,!0);var k=i;i=b;b=k}a.applyFilter(this,b,c,g);a.returnRenderTarget(h)}};a(g,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=Math.abs(a)*2,this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this._quality=a,this.passes=a}}]);return g}(c.Filter);dk["default"]=b}var gk=!1,hk=function(){gk||(gk=!0,fk());return ek.exports},ik={},jk={exports:ik};function kk(){ik.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=g(b);g=ck();var d=f(g);b=hk();var e=f(b);function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g=function(b){j(f,b);function f(a,g,j,k){h(this,f);var l=i(this,b.call(this));l.blurXFilter=new d["default"](a,g,j,k);l.blurYFilter=new e["default"](a,g,j,k);l.padding=0;l.resolution=j||c.settings.RESOLUTION;l.quality=g||4;l.blur=a||8;return l}f.prototype.apply=function(a,b,c){var d=a.getRenderTarget(!0);this.blurXFilter.apply(a,b,d,!0);this.blurYFilter.apply(a,d,c,!1);a.returnRenderTarget(d)};a(f,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(a){this.blurYFilter._blendMode=a}}]);return f}(c.Filter);ik["default"]=g}var lk=!1,mk=function(){lk||(lk=!0,kk());return jk.exports},nk={},ok={exports:nk};function pk(){nk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V();c=c(b);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){f(c,b);function c(){d(this,c);var a=e(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));a.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];a.alpha=1;return a}c.prototype._loadMatrix=function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=a;b&&(this._multiply(c,this.uniforms.m,a),c=this._colorMatrix(c));this.uniforms.m=c};c.prototype._multiply=function(a,b,c){a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15];a[1]=b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16];a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17];a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18];a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19]+b[4];a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15];a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16];a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17];a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18];a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19]+b[9];a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15];a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*c[16];a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17];a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18];a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19]+b[14];a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15];a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16];a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17];a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18];a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19]+b[19];return a};c.prototype._colorMatrix=function(a){a=new Float32Array(a);a[4]/=255;a[9]/=255;a[14]/=255;a[19]/=255;return a};c.prototype.brightness=function(a,b){a=[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.greyscale=function(a,b){a=[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.blackAndWhite=function(a){var b=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a);a=Math.sin(a);var d=Math.sqrt,e=1/3;d=d(e);var f=c+(1-c)*e,g=e*(1-c)-d*a,h=e*(1-c)+d*a,i=e*(1-c)+d*a,j=c+e*(1-c),k=e*(1-c)-d*a,l=e*(1-c)-d*a;d=e*(1-c)+d*a;a=c+e*(1-c);e=[f,g,h,0,0,i,j,k,0,0,l,d,a,0,0,0,0,0,1,0];this._loadMatrix(e,b)};c.prototype.contrast=function(a,b){a=(a||0)+1;var c=-.5*(a-1);a=[a,0,0,0,c,0,a,0,0,c,0,0,a,0,c,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.saturate=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments[1],c=a*2/3+1,d=(c-1)*-.5,e=[c,d,d,0,0,d,c,d,0,0,d,d,c,0,0,0,0,0,1,0];this._loadMatrix(e,b)};c.prototype.desaturate=function(){this.saturate(-1)};c.prototype.negative=function(a){var b=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.sepia=function(a){var b=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.technicolor=function(a){var b=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.polaroid=function(a){var b=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.toBGR=function(a){var b=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.kodachrome=function(a){var b=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.browni=function(a){var b=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.vintage=function(a){var b=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.colorTone=function(a,b,c,d,e){a=a||.2;b=b||.15;c=c||16770432;d=d||3375104;var f=(c>>16&255)/255,g=(c>>8&255)/255;c=(c&255)/255;var h=(d>>16&255)/255,i=(d>>8&255)/255;d=(d&255)/255;a=[.3,.59,.11,0,0,f,g,c,a,0,h,i,d,b,0,f-h,g-i,c-d,0,0];this._loadMatrix(a,e)};c.prototype.night=function(a,b){a=a||.1;a=[a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.predator=function(a,b){a=[11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0];this._loadMatrix(a,b)};c.prototype.lsd=function(a){var b=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(b,a)};c.prototype.reset=function(){var a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(a,!1)};a(c,[{key:"matrix",get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=a}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]);return c}(c.Filter);nk["default"]=b;b.prototype.grayscale=b.prototype.greyscale}var qk=!1,rk=function(){qk||(qk=!0,pk());return ok.exports},sk={},tk={exports:sk};function uk(){sk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V();c=c(b);function c(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(b){f(c,b);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;d(this,c);var f=e(this,b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));f.alpha=a;f.glShaderKey="alpha";return f}a(c,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]);return c}(c.Filter);sk["default"]=b}var vk=!1,wk=function(){vk||(vk=!0,uk());return tk.exports},X={},xk={exports:X};function yk(){X.__esModule=!0;var a=zj();Object.defineProperty(X,"FXAAFilter",{enumerable:!0,get:function(){return i(a)["default"]}});var b=Ej();Object.defineProperty(X,"NoiseFilter",{enumerable:!0,get:function(){return i(b)["default"]}});var c=Jj();Object.defineProperty(X,"DisplacementFilter",{enumerable:!0,get:function(){return i(c)["default"]}});var d=mk();Object.defineProperty(X,"BlurFilter",{enumerable:!0,get:function(){return i(d)["default"]}});var e=ck();Object.defineProperty(X,"BlurXFilter",{enumerable:!0,get:function(){return i(e)["default"]}});var f=hk();Object.defineProperty(X,"BlurYFilter",{enumerable:!0,get:function(){return i(f)["default"]}});var g=rk();Object.defineProperty(X,"ColorMatrixFilter",{enumerable:!0,get:function(){return i(g)["default"]}});var h=wk();Object.defineProperty(X,"AlphaFilter",{enumerable:!0,get:function(){return i(h)["default"]}});function i(a){return a&&a.__esModule?a:{"default":a}}}var zk=!1,Ak=function(){zk||(zk=!0,yk());return xk.exports},Bk={},Ck={exports:Bk};function Dk(){Bk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=d(b);function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function b(){e(this,b),this.global=new c.Point(),this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}b.prototype.getLocalPosition=function(a,b,c){return a.worldTransform.applyInverse(c||this.global,b)};b.prototype.copyEvent=function(a){a.isPrimary&&(this.isPrimary=!0),this.button=a.button,this.buttons=Number.isInteger(a.buttons)?a.buttons:a.which,this.width=a.width,this.height=a.height,this.tiltX=a.tiltX,this.tiltY=a.tiltY,this.pointerType=a.pointerType,this.pressure=a.pressure,this.rotationAngle=a.rotationAngle,this.twist=a.twist||0,this.tangentialPressure=a.tangentialPressure||0};b.prototype.reset=function(){this.isPrimary=!1};a(b,[{key:"pointerId",get:function(){return this.identifier}}]);return b}();Bk["default"]=d}var Ek=!1,Fk=function(){Ek||(Ek=!0,Dk());return Ck.exports},Gk={},Hk={exports:Gk};function Ik(){Gk.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(){a(this,b),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}b.prototype.stopPropagation=function(){this.stopped=!0};b.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};return b}();Gk["default"]=b}var Jk=!1,Kk=function(){Jk||(Jk=!0,Ik());return Hk.exports},Lk={},Mk={exports:Lk};function Nk(){Lk.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function c(a){b(this,c),this._pointerId=a,this._flags=c.FLAGS.NONE}c.prototype._doSet=function(a,b){b?this._flags=this._flags|a:this._flags=this._flags&~a};a(c,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(a){this._flags=a}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return(this._flags&this.constructor.FLAGS.OVER)!==0},set:function(a){this._doSet(this.constructor.FLAGS.OVER,a)}},{key:"rightDown",get:function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0},set:function(a){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,a)}},{key:"leftDown",get:function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0},set:function(a){this._doSet(this.constructor.FLAGS.LEFT_DOWN,a)}}]);return c}();Lk["default"]=c;c.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2})}var Ok=!1,Pk=function(){Ok||(Ok=!0,Nk());return Mk.exports},Qk={},Rk={exports:Qk};function Sk(){Qk.__esModule=!0,Qk["default"]={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(a){a?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){this._trackedPointers===void 0&&(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0}}var Tk=!1,Uk=function(){Tk||(Tk=!0,Sk());return Rk.exports},Vk={},Wk={exports:Vk};function Xk(){Vk.__esModule=!0;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=V(),c=h(b);h=Fk();var d=g(h);b=Kk();var e=g(b);h=Pk();var f=g(h);b=i();h=g(b);b=Uk();g=g(b);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function l(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.utils.mixins.delayMixin(c.DisplayObject.prototype,g["default"]);var m=1,n={target:null,data:{global:null}};b=function(b){l(g,b);function g(a,f){j(this,g);var h=k(this,b.call(this));f=f||{};h.renderer=a;h.autoPreventDefault=f.autoPreventDefault!==void 0?f.autoPreventDefault:!0;h.interactionFrequency=f.interactionFrequency||10;h.mouse=new d["default"]();h.mouse.identifier=m;h.mouse.global.set(-999999);h.activeInteractionData={};h.activeInteractionData[m]=h.mouse;h.interactionDataPool=[];h.eventData=new e["default"]();h.interactionDOMElement=null;h.moveWhenInside=!1;h.eventsAdded=!1;h.mouseOverRenderer=!1;h.supportsTouchEvents="ontouchstart"in window;h.supportsPointerEvents=!!window.PointerEvent;h.onPointerUp=h.onPointerUp.bind(h);h.processPointerUp=h.processPointerUp.bind(h);h.onPointerCancel=h.onPointerCancel.bind(h);h.processPointerCancel=h.processPointerCancel.bind(h);h.onPointerDown=h.onPointerDown.bind(h);h.processPointerDown=h.processPointerDown.bind(h);h.onPointerMove=h.onPointerMove.bind(h);h.processPointerMove=h.processPointerMove.bind(h);h.onPointerOut=h.onPointerOut.bind(h);h.processPointerOverOut=h.processPointerOverOut.bind(h);h.onPointerOver=h.onPointerOver.bind(h);h.cursorStyles={"default":"inherit",pointer:"pointer"};h.currentCursorMode=null;h.cursor=null;h._tempPoint=new c.Point();h.resolution=1;h.setTargetElement(h.renderer.view,h.renderer.resolution);return h}g.prototype.hitTest=function(a,b){n.target=null;n.data.global=a;b||(b=this.renderer._lastObjectRendered);this.processInteractive(n,b,null,!0);return n.target};g.prototype.setTargetElement=function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.removeEvents();this.interactionDOMElement=a;this.resolution=b;this.addEvents()};g.prototype.addEvents=function(){if(!this.interactionDOMElement)return;c.ticker.shared.add(this.update,this,c.UPDATE_PRIORITY.INTERACTION);window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none");this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0));this.eventsAdded=!0};g.prototype.removeEvents=function(){if(!this.interactionDOMElement)return;c.ticker.shared.remove(this.update,this);window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="");this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0));this.interactionDOMElement=null;this.eventsAdded=!1};g.prototype.update=function(a){this._deltaTime+=a;if(this._deltaTime<this.interactionFrequency)return;this._deltaTime=0;if(!this.interactionDOMElement)return;if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var b in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(b)){a=this.activeInteractionData[b];if(a.originalEvent&&a.pointerType!=="touch"){a=this.configureInteractionEventForDOMEvent(this.eventData,a.originalEvent,a);this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)};g.prototype.setCursorMode=function(b){b=b||"default";if(this.currentCursorMode===b)return;this.currentCursorMode=b;var c=this.cursorStyles[b];if(c)switch(typeof c==="undefined"?"undefined":a(c)){case"string":this.interactionDOMElement.style.cursor=c;break;case"function":c(b);break;case"object":Object.assign(this.interactionDOMElement.style,c);break}else typeof b==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,b)&&(this.interactionDOMElement.style.cursor=b)};g.prototype.dispatchEvent=function(a,b,c){c.stopped||(c.currentTarget=a,c.type=b,a.emit(b,c),a[b]&&a[b](c))};g.prototype.mapPositionToPoint=function(a,b,c){var d;!this.interactionDOMElement.parentElement?d={x:0,y:0,width:0,height:0}:d=this.interactionDOMElement.getBoundingClientRect();var e=navigator.isCocoonJS?this.resolution:1/this.resolution;a.x=(b-d.left)*(this.interactionDOMElement.width/d.width)*e;a.y=(c-d.top)*(this.interactionDOMElement.height/d.height)*e};g.prototype.processInteractive=function(a,b,c,d,e){if(!b||!b.visible)return!1;var f=a.data.global;e=b.interactive||e;var g=!1,h=e,i=!0;b.hitArea?(d&&(b.worldTransform.applyInverse(f,this._tempPoint),!b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?(d=!1,i=!1):g=!0),h=!1):b._mask&&(d&&(b._mask.containsPoint(f)||(d=!1,i=!1)));if(i&&b.interactiveChildren&&b.children){i=b.children;for(var j=i.length-1;j>=0;j--){var k=i[j],l=this.processInteractive(a,k,c,d,h);if(l){if(!k.parent)continue;h=!1;l&&(a.target&&(d=!1),g=!0)}}}e&&(d&&!a.target&&(!b.hitArea&&b.containsPoint&&(b.containsPoint(f)&&(g=!0))),b.interactive&&(g&&!a.target&&(a.target=b),c&&c(a,b,!!g)));return g};g.prototype.onPointerDown=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;var b=this.normalizeToPointerData(a);this.autoPreventDefault&&b[0].isNormalized&&a.preventDefault();var c=b.length;for(var d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e);f=this.configureInteractionEventForDOMEvent(this.eventData,e,f);f.data.originalEvent=a;this.processInteractive(f,this.renderer._lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",f);if(e.pointerType==="touch")this.emit("touchstart",f);else if(e.pointerType==="mouse"||e.pointerType==="pen"){f=e.button===2;this.emit(f?"rightdown":"mousedown",this.eventData)}}};g.prototype.processPointerDown=function(a,b,c){var d=a.data,e=a.data.identifier;if(c){b.trackedPointers[e]||(b.trackedPointers[e]=new f["default"](e));this.dispatchEvent(b,"pointerdown",a);if(d.pointerType==="touch")this.dispatchEvent(b,"touchstart",a);else if(d.pointerType==="mouse"||d.pointerType==="pen"){c=d.button===2;c?b.trackedPointers[e].rightDown=!0:b.trackedPointers[e].leftDown=!0;this.dispatchEvent(b,c?"rightdown":"mousedown",a)}}};g.prototype.onPointerComplete=function(a,b,c){var d=this.normalizeToPointerData(a),e=d.length,f=a.target!==this.interactionDOMElement?"outside":"";for(var g=0;g<e;g++){var h=d[g],i=this.getInteractionDataForPointerId(h),j=this.configureInteractionEventForDOMEvent(this.eventData,h,i);j.data.originalEvent=a;this.processInteractive(j,this.renderer._lastObjectRendered,c,b||!f);this.emit(b?"pointercancel":"pointerup"+f,j);if(h.pointerType==="mouse"||h.pointerType==="pen"){var k=h.button===2;this.emit(k?"rightup"+f:"mouseup"+f,j)}else h.pointerType==="touch"&&(this.emit(b?"touchcancel":"touchend"+f,j),this.releaseInteractionDataForPointerId(h.pointerId,i))}};g.prototype.onPointerCancel=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;this.onPointerComplete(a,!0,this.processPointerCancel)};g.prototype.processPointerCancel=function(a,b){var c=a.data,d=a.data.identifier;b.trackedPointers[d]!==void 0&&(delete b.trackedPointers[d],this.dispatchEvent(b,"pointercancel",a),c.pointerType==="touch"&&this.dispatchEvent(b,"touchcancel",a))};g.prototype.onPointerUp=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;this.onPointerComplete(a,!1,this.processPointerUp)};g.prototype.processPointerUp=function(a,b,c){var d=a.data,e=a.data.identifier,g=b.trackedPointers[e],h=d.pointerType==="touch",i=d.pointerType==="mouse"||d.pointerType==="pen",j=!1;if(i){d=d.button===2;var k=f["default"].FLAGS;k=d?k.RIGHT_DOWN:k.LEFT_DOWN;k=g!==void 0&&g.flags&k;c?(this.dispatchEvent(b,d?"rightup":"mouseup",a),k&&(this.dispatchEvent(b,d?"rightclick":"click",a),j=!0)):k&&this.dispatchEvent(b,d?"rightupoutside":"mouseupoutside",a);g&&(d?g.rightDown=!1:g.leftDown=!1)}c?(this.dispatchEvent(b,"pointerup",a),h&&this.dispatchEvent(b,"touchend",a),g&&((!i||j)&&this.dispatchEvent(b,"pointertap",a),h&&(this.dispatchEvent(b,"tap",a),g.over=!1))):g&&(this.dispatchEvent(b,"pointerupoutside",a),h&&this.dispatchEvent(b,"touchendoutside",a));g&&g.none&&delete b.trackedPointers[e]};g.prototype.onPointerMove=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;var b=this.normalizeToPointerData(a);(b[0].pointerType==="mouse"||b[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);var c=b.length;for(var d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e);f=this.configureInteractionEventForDOMEvent(this.eventData,e,f);f.data.originalEvent=a;var g=e.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(f,this.renderer._lastObjectRendered,this.processPointerMove,g);this.emit("pointermove",f);e.pointerType==="touch"&&this.emit("touchmove",f);(e.pointerType==="mouse"||e.pointerType==="pen")&&this.emit("mousemove",f)}b[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)};g.prototype.processPointerMove=function(a,b,c){var d=a.data,e=d.pointerType==="touch";d=d.pointerType==="mouse"||d.pointerType==="pen";d&&this.processPointerOverOut(a,b,c);(!this.moveWhenInside||c)&&(this.dispatchEvent(b,"pointermove",a),e&&this.dispatchEvent(b,"touchmove",a),d&&this.dispatchEvent(b,"mousemove",a))};g.prototype.onPointerOut=function(a){if(this.supportsTouchEvents&&a.pointerType==="touch")return;a=this.normalizeToPointerData(a);a=a[0];a.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var b=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,b);c.data.originalEvent=a;this.processInteractive(c,this.renderer._lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",c);a.pointerType==="mouse"||a.pointerType==="pen"?this.emit("mouseout",c):this.releaseInteractionDataForPointerId(b.identifier)};g.prototype.processPointerOverOut=function(a,b,c){var d=a.data,e=a.data.identifier;d=d.pointerType==="mouse"||d.pointerType==="pen";var g=b.trackedPointers[e];c&&!g&&(g=b.trackedPointers[e]=new f["default"](e));if(g===void 0)return;c&&this.mouseOverRenderer?(g.over||(g.over=!0,this.dispatchEvent(b,"pointerover",a),d&&this.dispatchEvent(b,"mouseover",a)),d&&this.cursor===null&&(this.cursor=b.cursor)):g.over&&(g.over=!1,this.dispatchEvent(b,"pointerout",this.eventData),d&&this.dispatchEvent(b,"mouseout",a),g.none&&delete b.trackedPointers[e])};g.prototype.onPointerOver=function(a){a=this.normalizeToPointerData(a);a=a[0];var b=this.getInteractionDataForPointerId(a);b=this.configureInteractionEventForDOMEvent(this.eventData,a,b);b.data.originalEvent=a;a.pointerType==="mouse"&&(this.mouseOverRenderer=!0);this.emit("pointerover",b);(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mouseover",b)};g.prototype.getInteractionDataForPointerId=function(a){var b=a.pointerId,c=void 0;b===m||a.pointerType==="mouse"?c=this.mouse:this.activeInteractionData[b]?c=this.activeInteractionData[b]:(c=this.interactionDataPool.pop()||new d["default"](),c.identifier=b,this.activeInteractionData[b]=c);c.copyEvent(a);return c};g.prototype.releaseInteractionDataForPointerId=function(a){var b=this.activeInteractionData[a];b&&(delete this.activeInteractionData[a],b.reset(),this.interactionDataPool.push(b))};g.prototype.configureInteractionEventForDOMEvent=function(a,b,c){a.data=c;this.mapPositionToPoint(c.global,b.clientX,b.clientY);navigator.isCocoonJS&&b.pointerType==="touch"&&(c.global.x=c.global.x/this.resolution,c.global.y=c.global.y/this.resolution);b.pointerType==="touch"&&(b.globalX=c.global.x,b.globalY=c.global.y);c.originalEvent=b;a.reset();return a};g.prototype.normalizeToPointerData=function(a){var b=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var c=0,d=a.changedTouches.length;c<d;c++){var e=a.changedTouches[c];typeof e.button==="undefined"&&(e.button=a.touches.length?1:0);typeof e.buttons==="undefined"&&(e.buttons=a.touches.length?1:0);typeof e.isPrimary==="undefined"&&(e.isPrimary=a.touches.length===1&&a.type==="touchstart");typeof e.width==="undefined"&&(e.width=e.radiusX||1);typeof e.height==="undefined"&&(e.height=e.radiusY||1);typeof e.tiltX==="undefined"&&(e.tiltX=0);typeof e.tiltY==="undefined"&&(e.tiltY=0);typeof e.pointerType==="undefined"&&(e.pointerType="touch");typeof e.pointerId==="undefined"&&(e.pointerId=e.identifier||0);typeof e.pressure==="undefined"&&(e.pressure=e.force||.5);e.twist=0;e.tangentialPressure=0;typeof e.layerX==="undefined"&&(e.layerX=e.offsetX=e.clientX);typeof e.layerY==="undefined"&&(e.layerY=e.offsetY=e.clientY);e.isNormalized=!0;b.push(e)}else a instanceof MouseEvent&&(!this.supportsPointerEvents||!(a instanceof window.PointerEvent))?(typeof a.isPrimary==="undefined"&&(a.isPrimary=!0),typeof a.width==="undefined"&&(a.width=1),typeof a.height==="undefined"&&(a.height=1),typeof a.tiltX==="undefined"&&(a.tiltX=0),typeof a.tiltY==="undefined"&&(a.tiltY=0),typeof a.pointerType==="undefined"&&(a.pointerType="mouse"),typeof a.pointerId==="undefined"&&(a.pointerId=m),typeof a.pressure==="undefined"&&(a.pressure=.5),a.twist=0,a.tangentialPressure=0,a.isNormalized=!0,b.push(a)):b.push(a);return b};g.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null};return g}(h["default"]);Vk["default"]=b;c.WebGLRenderer.registerPlugin("interaction",b);c.CanvasRenderer.registerPlugin("interaction",b)}var Yk=!1,Zk=function(){Yk||(Yk=!0,Xk());return Wk.exports},$k={},al={exports:$k};function bl(){$k.__esModule=!0;var a=Fk();Object.defineProperty($k,"InteractionData",{enumerable:!0,get:function(){return f(a)["default"]}});var b=Zk();Object.defineProperty($k,"InteractionManager",{enumerable:!0,get:function(){return f(b)["default"]}});var c=Uk();Object.defineProperty($k,"interactiveTarget",{enumerable:!0,get:function(){return f(c)["default"]}});var d=Pk();Object.defineProperty($k,"InteractionTrackingData",{enumerable:!0,get:function(){return f(d)["default"]}});var e=Kk();Object.defineProperty($k,"InteractionEvent",{enumerable:!0,get:function(){return f(e)["default"]}});function f(a){return a&&a.__esModule?a:{"default":a}}}var cl=!1,dl=function(){cl||(cl=!0,bl());return al.exports},el={},fl={exports:el};function gl(){el.__esModule=!0;el.parse=f;el["default"]=function(){return function(a,d){if(!a.data||a.type!==c.Resource.TYPE.XML){d();return}if(a.data.getElementsByTagName("page").length===0||a.data.getElementsByTagName("info").length===0||a.data.getElementsByTagName("info")[0].getAttribute("face")===null){d();return}var e=a.isDataUrl?"":b.dirname(a.url);a.isDataUrl&&(e==="."&&(e=""),this.baseUrl&&e&&(this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(e+="/")));e=e.replace(this.baseUrl,"");e&&e.charAt(e.length-1)!=="/"&&(e+="/");var g=a.data.getElementsByTagName("page"),h={},i=function(b){h[b.metadata.pageFile]=b.texture,Object.keys(h).length===g.length&&(f(a,h),d())};for(var j=0;j<g.length;++j){var k=g[j].getAttribute("file"),l=e+k,m=!1;for(var n in this.resources)if(this.resources[n].url===l){this.resources[n].metadata.pageFile=k;i(this.resources[n]);m=!0;break}if(!m){m={crossOrigin:a.crossOrigin,loadType:c.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:k},a.metadata.imageMetadata),parentResource:a};this.add(l,m,i)}}}};var a={},b=e(a),c=n(),d=uj();function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){a.bitmapFont=d.BitmapText.registerFont(a.data,b)}}var hl=!1,il=function(){hl||(hl=!0,gl());return fl.exports},jl={},kl={exports:jl};function ll(){jl.__esModule=!0;jl["default"]=function(){return function(b,c){var e=b.name+"_image";if(!b.data||b.type!==a.Resource.TYPE.JSON||!b.data.frames||this.resources[e]){c();return}var g={crossOrigin:b.crossOrigin,metadata:b.metadata.imageMetadata,parentResource:b},h=f(b,this.baseUrl);this.add(e,h,g,function(a){if(a.error){c(a.error);return}var e=new d.Spritesheet(a.texture.baseTexture,b.data,b.url);e.parse(function(){b.spritesheet=e,b.textures=e.textures,c()})})}};jl.getResourcePath=f;var a=n(),b={},c=e(b),d=V();function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){return a.isDataUrl?a.data.meta.image:c["default"].resolve(a.url.replace(b,""),a.data.meta.image)}}var ml=!1,nl=function(){ml||(ml=!0,ll());return kl.exports},ol={},pl={exports:ol};function ql(){ol.__esModule=!0;ol["default"]=function(){return function(b,d){b.data&&b.type===a.Resource.TYPE.IMAGE&&(b.texture=c["default"].fromLoader(b.data,b.url,b.name)),d()}};var a=n(),b=T(),c=d(b);function d(a){return a&&a.__esModule?a:{"default":a}}}var rl=!1,sl=function(){rl||(rl=!0,ql());return pl.exports},tl={},ul={exports:tl};function vl(){tl.__esModule=!0;var a=n();a=g(a);var b=n("/lib/middlewares/parsing/blob"),c=i(),d=g(c);c=sl();c=g(c);var e=nl();e=g(e);var f=il();g=g(f);function g(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function k(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}f=function(a){k(b,a);function b(c,e){h(this,b);var f=j(this,a.call(this,c,e));d["default"].call(f);for(var c=0;c<b._pixiMiddleware.length;++c)f.use(b._pixiMiddleware[c]());f.onStart.add(function(a){return f.emit("start",a)});f.onProgress.add(function(a,b){return f.emit("progress",a,b)});f.onError.add(function(a,b,c){return f.emit("error",a,b,c)});f.onLoad.add(function(a,b){return f.emit("load",a,b)});f.onComplete.add(function(a,b){return f.emit("complete",a,b)});return f}b.addPixiMiddleware=function(a){b._pixiMiddleware.push(a)};b.prototype.destroy=function(){this.removeAllListeners(),this.reset()};return b}(a["default"]);tl["default"]=f;for(var l in d["default"].prototype)f.prototype[l]=d["default"].prototype[l];f._pixiMiddleware=[b.blobMiddlewareFactory,c["default"],e["default"],g["default"]];f=a["default"].Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)}var wl=!1,xl=function(){wl||(wl=!0,vl());return ul.exports},Y={},yl={exports:Y};function zl(){Y.__esModule=!0;Y.shared=Y.Resource=Y.textureParser=Y.getResourcePath=Y.spritesheetParser=Y.parseBitmapFontData=Y.bitmapFontParser=Y.Loader=void 0;var a=il();Object.defineProperty(Y,"bitmapFontParser",{enumerable:!0,get:function(){return h(a)["default"]}});Object.defineProperty(Y,"parseBitmapFontData",{enumerable:!0,get:function(){return a.parse}});var b=nl();Object.defineProperty(Y,"spritesheetParser",{enumerable:!0,get:function(){return h(b)["default"]}});Object.defineProperty(Y,"getResourcePath",{enumerable:!0,get:function(){return b.getResourcePath}});var c=sl();Object.defineProperty(Y,"textureParser",{enumerable:!0,get:function(){return h(c)["default"]}});var d=n();Object.defineProperty(Y,"Resource",{enumerable:!0,get:function(){return d.Resource}});var e=$h();e=h(e);var f=xl(),g=h(f);function h(a){return a&&a.__esModule?a:{"default":a}}Y.Loader=g["default"];var i=new g["default"]();i.destroy=function(){};Y.shared=i;f=e["default"].prototype;f._loader=null;Object.defineProperty(f,"loader",{get:function(){if(!this._loader){var a=this._options.sharedLoader;this._loader=a?i:new g["default"]()}return this._loader}});f._parentDestroy=f.destroy;f.destroy=function(a,b){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(a,b)}}var Al=!1,Bl=function(){Al||(Al=!0,zl());return yl.exports},Cl={},Dl={exports:Cl};function El(){Cl.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=f(b);f=T();var d=e(f);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function i(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var j=new c.Point(),k=new c.Polygon();b=function(b){i(e,b);function e(a,f,i,j,k){g(this,e);var l=h(this,b.call(this));l._texture=a||d["default"].EMPTY;l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]);l.vertices=f||new Float32Array([0,0,100,0,100,100,0,100]);l.indices=j||new Uint16Array([0,1,3,2]);l.dirty=0;l.indexDirty=0;l.vertexDirty=0;l.autoUpdate=!0;l.blendMode=c.BLEND_MODES.NORMAL;l.canvasPadding=c.settings.MESH_CANVAS_PADDING;l.drawMode=k||e.DRAW_MODES.TRIANGLE_MESH;l.shader=null;l.tintRgb=new Float32Array([1,1,1]);l._glDatas={};l._uvTransform=new c.TextureMatrix(l._texture);l.uploadUvTransform=!1;l.pluginName="mesh";return l}e.prototype._renderWebGL=function(a){this.refresh(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this)};e.prototype._renderCanvas=function(a){this.refresh(),a.plugins[this.pluginName].render(this)};e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()};e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)};e.prototype.refresh=function(a){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(a)&&this._refresh()};e.prototype._refresh=function(){};e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};e.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,j);a=this.vertices;var b=k.points,c=this.indices,d=this.indices.length,f=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1;for(var g=0;g+2<d;g+=f){var h=c[g]*2,i=c[g+1]*2,l=c[g+2]*2;b[0]=a[h];b[1]=a[h+1];b[2]=a[i];b[3]=a[i+1];b[4]=a[l];b[5]=a[l+1];if(k.contains(j.x,j.y))return!0}return!1};e.prototype.destroy=function(a){for(var c in this._glDatas){var d=this._glDatas[c];d.destroy?d.destroy():(d.vertexBuffer&&(d.vertexBuffer.destroy(),d.vertexBuffer=null),d.indexBuffer&&(d.indexBuffer.destroy(),d.indexBuffer=null),d.uvBuffer&&(d.uvBuffer.destroy(),d.uvBuffer=null),d.vao&&(d.vao.destroy(),d.vao=null))}this._glDatas=null;b.prototype.destroy.call(this,a)};a(e,[{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture===a)return;this._texture=a;a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this))}},{key:"tint",get:function(){return c.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=c.utils.hex2rgb(a,this.tintRgb)}}]);return e}(c.Container);Cl["default"]=b;b.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}}var Fl=!1,Gl=function(){Fl||(Fl=!0,El());return Dl.exports},Hl={},Il={exports:Hl};function Jl(){Hl.__esModule=!0;var a=V(),b=f(a);f=h();var c=e(f);a=Gl();var d=e(a);function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var k=b.Matrix.IDENTITY;f=function(a){j(e,a);function e(b){g(this,e);b=i(this,a.call(this,b));b.shader=null;return b}e.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new b.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")};e.prototype.render=function(a){var e=this.renderer,f=e.gl,g=a._texture;if(!g.valid)return;var h=a._glDatas[e.CONTEXT_UID];h||(e.bindVao(null),h={shader:this.shader,vertexBuffer:c["default"].GLBuffer.createVertexBuffer(f,a.vertices,f.STREAM_DRAW),uvBuffer:c["default"].GLBuffer.createVertexBuffer(f,a.uvs,f.STREAM_DRAW),indexBuffer:c["default"].GLBuffer.createIndexBuffer(f,a.indices,f.STATIC_DRAW),vao:null,dirty:a.dirty,indexDirty:a.indexDirty,vertexDirty:a.vertexDirty},h.vao=new c["default"].VertexArrayObject(f).addIndex(h.indexBuffer).addAttribute(h.vertexBuffer,h.shader.attributes.aVertexPosition,f.FLOAT,!1,2*4,0).addAttribute(h.uvBuffer,h.shader.attributes.aTextureCoord,f.FLOAT,!1,2*4,0),a._glDatas[e.CONTEXT_UID]=h);e.bindVao(h.vao);a.dirty!==h.dirty&&(h.dirty=a.dirty,h.uvBuffer.upload(a.uvs));a.indexDirty!==h.indexDirty&&(h.indexDirty=a.indexDirty,h.indexBuffer.upload(a.indices));a.vertexDirty!==h.vertexDirty&&(h.vertexDirty=a.vertexDirty,h.vertexBuffer.upload(a.vertices));e.bindShader(h.shader);h.shader.uniforms.uSampler=e.bindTexture(g);e.state.setBlendMode(b.utils.correctBlendMode(a.blendMode,g.baseTexture.premultipliedAlpha));h.shader.uniforms.uTransform&&(a.uploadUvTransform?h.shader.uniforms.uTransform=a._uvTransform.mapCoord.toArray(!0):h.shader.uniforms.uTransform=k.toArray(!0));h.shader.uniforms.translationMatrix=a.worldTransform.toArray(!0);h.shader.uniforms.uColor=b.utils.premultiplyRgba(a.tintRgb,a.worldAlpha,h.shader.uniforms.uColor,g.baseTexture.premultipliedAlpha);e=a.drawMode===d["default"].DRAW_MODES.TRIANGLE_MESH?f.TRIANGLE_STRIP:f.TRIANGLES;h.vao.draw(e,a.indices.length,0)};return e}(b.ObjectRenderer);Hl["default"]=f;b.WebGLRenderer.registerPlugin("mesh",f)}var Kl=!1,Ll=function(){Kl||(Kl=!0,Jl());return Il.exports},Ml={},Nl={exports:Ml};function Ol(){Ml.__esModule=!0;var a=V();d=d(a);a=Gl();var b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c=function(){function a(b){e(this,a),this.renderer=b}a.prototype.render=function(a){var c=this.renderer,d=c.context,e=a.worldTransform,f=c.resolution;c.roundPixels?d.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f|0,e.ty*f|0):d.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f,e.ty*f);c.context.globalAlpha=a.worldAlpha;c.setBlendMode(a.blendMode);a.drawMode===b["default"].DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(a):this._renderTriangles(a)};a.prototype._renderTriangleMesh=function(a){var b=a.vertices.length/2;for(var c=0;c<b-2;c++){var d=c*2;this._renderDrawTriangle(a,d,d+2,d+4)}};a.prototype._renderTriangles=function(a){var b=a.indices,c=b.length;for(var d=0;d<c;d+=3){var e=b[d]*2,f=b[d+1]*2,g=b[d+2]*2;this._renderDrawTriangle(a,e,f,g)}};a.prototype._renderDrawTriangle=function(a,b,c,d){var e=this.renderer.context,f=a.uvs,g=a.vertices,h=a._texture;if(!h.valid)return;h=h.baseTexture;var i=h.source,j=h.width,k=h.height,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0;if(a.uploadUvTransform){var r=a._uvTransform.mapCoord;l=(f[b]*r.a+f[b+1]*r.c+r.tx)*h.width;m=(f[c]*r.a+f[c+1]*r.c+r.tx)*h.width;n=(f[d]*r.a+f[d+1]*r.c+r.tx)*h.width;o=(f[b]*r.b+f[b+1]*r.d+r.ty)*h.height;p=(f[c]*r.b+f[c+1]*r.d+r.ty)*h.height;q=(f[d]*r.b+f[d+1]*r.d+r.ty)*h.height}else l=f[b]*h.width,m=f[c]*h.width,n=f[d]*h.width,o=f[b+1]*h.height,p=f[c+1]*h.height,q=f[d+1]*h.height;r=g[b];f=g[c];var s=g[d];b=g[b+1];c=g[c+1];g=g[d+1];d=a.canvasPadding/this.renderer.resolution;if(d>0){var t=d/Math.abs(a.worldTransform.a);d=d/Math.abs(a.worldTransform.d);a=(r+f+s)/3;var u=(b+c+g)/3,v=r-a,w=b-u,x=Math.sqrt(v*v+w*w);r=a+v/x*(x+t);b=u+w/x*(x+d);v=f-a;w=c-u;x=Math.sqrt(v*v+w*w);f=a+v/x*(x+t);c=u+w/x*(x+d);v=s-a;w=g-u;x=Math.sqrt(v*v+w*w);s=a+v/x*(x+t);g=u+w/x*(x+d)}e.save();e.beginPath();e.moveTo(r,b);e.lineTo(f,c);e.lineTo(s,g);e.closePath();e.clip();a=l*p+o*n+m*q-p*n-o*m-l*q;v=r*p+o*s+f*q-p*s-o*f-r*q;t=l*f+r*n+m*s-f*n-r*m-l*s;u=l*p*s+o*f*n+r*m*q-r*p*n-o*m*s-l*f*q;w=b*p+o*g+c*q-p*g-o*c-b*q;x=l*c+b*n+m*g-c*n-b*m-l*g;d=l*p*g+o*c*n+b*m*q-b*p*n-o*m*g-l*c*q;e.transform(v/a,w/a,t/a,x/a,u/a,d/a);e.drawImage(i,0,0,j*h.resolution,k*h.resolution,0,0,j,k);e.restore();this.renderer.invalidateBlendMode()};a.prototype.renderMeshFlat=function(a){var b=this.renderer.context;a=a.vertices;var c=a.length/2;b.beginPath();for(var d=1;d<c-2;++d){var e=d*2,f=a[e],g=a[e+1],h=a[e+2],i=a[e+3],j=a[e+4];e=a[e+5];b.moveTo(f,g);b.lineTo(h,i);b.lineTo(j,e)}b.fillStyle="#FF0000";b.fill();b.closePath()};a.prototype.destroy=function(){this.renderer=null};return a}();Ml["default"]=c;d.CanvasRenderer.registerPlugin("mesh",c)}var Pl=!1,Ql=function(){Pl||(Pl=!0,Ol());return Nl.exports},Rl={},Sl={exports:Rl};function Tl(){Rl.__esModule=!0;var a=Gl(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){f(c,a);function c(f,g,h){d(this,c);f=e(this,a.call(this,f));f._ready=!0;f.verticesX=g||10;f.verticesY=h||10;f.drawMode=b["default"].DRAW_MODES.TRIANGLES;f.refresh();return f}c.prototype._refresh=function(){var a=this._texture,b=this.verticesX*this.verticesY,c=[],d=[],e=[],f=[],g=this.verticesX-1,h=this.verticesY-1,i=a.width/g;a=a.height/h;for(var j=0;j<b;j++){var k=j%this.verticesX,l=j/this.verticesX|0;c.push(k*i,l*a);e.push(k/g,l/h)}k=g*h;for(var l=0;l<k;l++){j=l%g;i=l/g|0;a=i*this.verticesX+j;b=i*this.verticesX+j+1;h=(i+1)*this.verticesX+j;i=(i+1)*this.verticesX+j+1;f.push(a,b,h);f.push(b,i,h)}this.vertices=new Float32Array(c);this.uvs=new Float32Array(e);this.colors=new Float32Array(d);this.indices=new Uint16Array(f);this.dirty++;this.indexDirty++;this.multiplyUvs()};c.prototype._onTextureUpdate=function(){b["default"].prototype._onTextureUpdate.call(this),this._ready&&this.refresh()};return c}(b["default"]);Rl["default"]=c}var Ul=!1,Vl=function(){Ul||(Ul=!0,Tl());return Sl.exports},Wl={},Xl={exports:Wl};function Yl(){Wl.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=Vl();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function f(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=10;b=function(b){f(c,b);function c(a,f,h,i,j){d(this,c);var k=e(this,b.call(this,a,4,4));k._origWidth=a.orig.width;k._origHeight=a.orig.height;k._width=k._origWidth;k._height=k._origHeight;k._leftWidth=typeof f!=="undefined"?f:g;k._rightWidth=typeof i!=="undefined"?i:g;k._topHeight=typeof h!=="undefined"?h:g;k._bottomHeight=typeof j!=="undefined"?j:g;k.refresh(!0);return k}c.prototype.updateHorizontalVertices=function(){var a=this.vertices,b=this._topHeight+this._bottomHeight;b=this._height>b?1:this._height/b;a[9]=a[11]=a[13]=a[15]=this._topHeight*b;a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight*b;a[25]=a[27]=a[29]=a[31]=this._height};c.prototype.updateVerticalVertices=function(){var a=this.vertices,b=this._leftWidth+this._rightWidth;b=this._width>b?1:this._width/b;a[2]=a[10]=a[18]=a[26]=this._leftWidth*b;a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth*b;a[6]=a[14]=a[22]=a[30]=this._width};c.prototype._renderCanvas=function(a){var b=a.context;b.globalAlpha=this.worldAlpha;a.setBlendMode(this.blendMode);var c=this.worldTransform,d=a.resolution;a.roundPixels?b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d|0,c.ty*d|0):b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d,c.ty*d);a=this._texture.baseTexture;c=a.source;d=a.width*a.resolution;a=a.height*a.resolution;this.drawSegment(b,c,d,a,0,1,10,11);this.drawSegment(b,c,d,a,2,3,12,13);this.drawSegment(b,c,d,a,4,5,14,15);this.drawSegment(b,c,d,a,8,9,18,19);this.drawSegment(b,c,d,a,10,11,20,21);this.drawSegment(b,c,d,a,12,13,22,23);this.drawSegment(b,c,d,a,16,17,26,27);this.drawSegment(b,c,d,a,18,19,28,29);this.drawSegment(b,c,d,a,20,21,30,31)};c.prototype.drawSegment=function(a,b,c,d,e,f,g,h){var i=this.uvs,j=this.vertices,k=(i[g]-i[e])*c,l=(i[h]-i[f])*d;g=j[g]-j[e];h=j[h]-j[f];k<1&&(k=1);l<1&&(l=1);g<1&&(g=1);h<1&&(h=1);a.drawImage(b,i[e]*c,i[f]*d,k,l,j[e],j[f],g,h)};c.prototype._refresh=function(){b.prototype._refresh.call(this);var a=this.uvs,c=this._texture;this._origWidth=c.orig.width;this._origHeight=c.orig.height;c=1/this._origWidth;var d=1/this._origHeight;a[0]=a[8]=a[16]=a[24]=0;a[1]=a[3]=a[5]=a[7]=0;a[6]=a[14]=a[22]=a[30]=1;a[25]=a[27]=a[29]=a[31]=1;a[2]=a[10]=a[18]=a[26]=c*this._leftWidth;a[4]=a[12]=a[20]=a[28]=1-c*this._rightWidth;a[9]=a[11]=a[13]=a[15]=d*this._topHeight;a[17]=a[19]=a[21]=a[23]=1-d*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.dirty++;this.multiplyUvs()};a(c,[{key:"width",get:function(){return this._width},set:function(a){this._width=a,this._refresh()}},{key:"height",get:function(){return this._height},set:function(a){this._height=a,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(a){this._leftWidth=a,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(a){this._rightWidth=a,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(a){this._topHeight=a,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(a){this._bottomHeight=a,this._refresh()}}]);return c}(c["default"]);Wl["default"]=b}var Zl=!1,$l=function(){Zl||(Zl=!0,Yl());return Xl.exports},am={},bm={exports:am};function cm(){am.__esModule=!0;var a=Gl();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(e,f){c(this,b);e=d(this,a.call(this,e));e.points=f;e.vertices=new Float32Array(f.length*4);e.uvs=new Float32Array(f.length*4);e.colors=new Float32Array(f.length*2);e.indices=new Uint16Array(f.length*2);e.autoUpdate=!0;e.refresh();return e}b.prototype._refresh=function(){var a=this.points;if(a.length<1||!this._texture._uvs)return;this.vertices.length/4!==a.length&&(this.vertices=new Float32Array(a.length*4),this.uvs=new Float32Array(a.length*4),this.colors=new Float32Array(a.length*2),this.indices=new Uint16Array(a.length*2));var b=this.uvs,c=this.indices,d=this.colors;b[0]=0;b[1]=0;b[2]=0;b[3]=1;d[0]=1;d[1]=1;c[0]=0;c[1]=1;a=a.length;for(var e=1;e<a;e++){var f=e*4,g=e/(a-1);b[f]=g;b[f+1]=0;b[f+2]=g;b[f+3]=1;f=e*2;d[f]=1;d[f+1]=1;f=e*2;c[f]=f;c[f+1]=f+1}this.dirty++;this.indexDirty++;this.multiplyUvs();this.refreshVertices()};b.prototype.refreshVertices=function(){var a=this.points;if(a.length<1)return;var b=a[0],c,d=0,e=0,f=this.vertices,g=a.length;for(var h=0;h<g;h++){var i=a[h],j=h*4;h<a.length-1?c=a[h+1]:c=i;e=-(c.x-b.x);d=c.y-b.y;c=Math.sqrt(d*d+e*e);var k=this._texture.height/2;d/=c;e/=c;d*=k;e*=k;f[j]=i.x+d;f[j+1]=i.y+e;f[j+2]=i.x-d;f[j+3]=i.y-e;b=i}};b.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()};return b}(b["default"]);am["default"]=a}var dm=!1,em=function(){dm||(dm=!0,cm());return bm.exports},Z={},fm={exports:Z};function gm(){Z.__esModule=!0;var a=Gl();Object.defineProperty(Z,"Mesh",{enumerable:!0,get:function(){return g(a)["default"]}});var b=Ll();Object.defineProperty(Z,"MeshRenderer",{enumerable:!0,get:function(){return g(b)["default"]}});var c=Ql();Object.defineProperty(Z,"CanvasMeshRenderer",{enumerable:!0,get:function(){return g(c)["default"]}});var d=Vl();Object.defineProperty(Z,"Plane",{enumerable:!0,get:function(){return g(d)["default"]}});var e=$l();Object.defineProperty(Z,"NineSlicePlane",{enumerable:!0,get:function(){return g(e)["default"]}});var f=em();Object.defineProperty(Z,"Rope",{enumerable:!0,get:function(){return g(f)["default"]}});function g(a){return a&&a.__esModule?a:{"default":a}}}var hm=!1,im=function(){hm||(hm=!0,gm());return fm.exports},jm={},km={exports:jm};function lm(){jm.__esModule=!0;var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=V(),c=e(b),d=S();function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function h(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}e=function(b){h(e,b);function e(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500,d=arguments[1],h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:16384,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;f(this,e);var j=g(this,b.call(this)),k=16384;h>k&&(h=k);h>a&&(h=a);j._properties=[!1,!0,!1,!1,!1];j._maxSize=a;j._batchSize=h;j._glBuffers={};j._bufferUpdateIDs=[];j._updateID=0;j.interactiveChildren=!1;j.blendMode=c.BLEND_MODES.NORMAL;j.autoResize=i;j.roundPixels=!0;j.baseTexture=null;j.setProperties(d);j._tint=0;j.tintRgb=new Float32Array(4);j.tint=16777215;return j}e.prototype.setProperties=function(a){a&&(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])};e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};e.prototype.renderWebGL=function(a){var b=this;if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)return;this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return b.onChildrenChange(0)}));a.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)};e.prototype.onChildrenChange=function(a){a=Math.floor(a/this._batchSize);while(this._bufferUpdateIDs.length<a)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[a]=++this._updateID};e.prototype.renderCanvas=function(a){if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)return;var b=a.context,c=this.worldTransform,d=!0,e,f,g,h;a.setBlendMode(this.blendMode);b.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(var i=0;i<this.children.length;++i){var j=this.children[i];if(!j.visible)continue;var k=j._texture.frame;b.globalAlpha=this.worldAlpha*j.alpha;if(j.rotation%(Math.PI*2)===0)d&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx*a.resolution,c.ty*a.resolution),d=!1),e=j.anchor.x*(-k.width*j.scale.x)+j.position.x+.5,f=j.anchor.y*(-k.height*j.scale.y)+j.position.y+.5,g=k.width*j.scale.x,h=k.height*j.scale.y;else{d||(d=!0);j.displayObjectUpdateTransform();var l=j.worldTransform;a.roundPixels?b.setTransform(l.a,l.b,l.c,l.d,l.tx*a.resolution|0,l.ty*a.resolution|0):b.setTransform(l.a,l.b,l.c,l.d,l.tx*a.resolution,l.ty*a.resolution);e=j.anchor.x*-k.width+.5;f=j.anchor.y*-k.height+.5;g=k.width;h=k.height}l=j._texture.baseTexture.resolution;b.drawImage(j._texture.baseTexture.source,k.x*l,k.y*l,k.width*l,k.height*l,e*a.resolution,f*a.resolution,g*a.resolution,h*a.resolution)}};e.prototype.destroy=function(a){b.prototype.destroy.call(this,a);if(this._buffers)for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._properties=null;this._buffers=null;this._bufferUpdateIDs=null};a(e,[{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a,d.hex2rgb(a,this.tintRgb)}}]);return e}(c.Container);jm["default"]=e}var mm=!1,nm=function(){mm||(mm=!0,lm());return km.exports},om={},pm={exports:om};function qm(){om.__esModule=!0;var a=Ye();b=b(a);function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}a=function(a){e(b,a);function b(e){c(this,b);return d(this,a.call(this,e,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return b}(b["default"]);om["default"]=a}var rm=!1,sm=function(){rm||(rm=!0,qm());return pm.exports},tm={},um={exports:tm};function vm(){tm.__esModule=!0;var a=h(),b=d(a);a=Oe();var c=d(a);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}d=function(){function a(b,c,d,f){e(this,a);this.gl=b;this.size=f;this.dynamicProperties=[];this.staticProperties=[];for(var b=0;b<c.length;++b){f=c[b];f={attribute:f.attribute,size:f.size,uploadFunction:f.uploadFunction,unsignedByte:f.unsignedByte,offset:f.offset};d[b]?this.dynamicProperties.push(f):this.staticProperties.push(f)}this.staticStride=0;this.staticBuffer=null;this.staticData=null;this.staticDataUint32=null;this.dynamicStride=0;this.dynamicBuffer=null;this.dynamicData=null;this.dynamicDataUint32=null;this._updateID=0;this.initBuffers()}a.prototype.initBuffers=function(){var a=this.gl,d=0;this.indices=c["default"](this.size);this.indexBuffer=b["default"].GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.dynamicStride=0;for(var e=0;e<this.dynamicProperties.length;++e){var f=this.dynamicProperties[e];f.offset=d;d+=f.size;this.dynamicStride+=f.size}f=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(f);this.dynamicDataUint32=new Uint32Array(f);this.dynamicBuffer=b["default"].GLBuffer.createVertexBuffer(a,f,a.STREAM_DRAW);d=0;this.staticStride=0;for(var e=0;e<this.staticProperties.length;++e){f=this.staticProperties[e];f.offset=d;d+=f.size;this.staticStride+=f.size}f=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(f);this.staticDataUint32=new Uint32Array(f);this.staticBuffer=b["default"].GLBuffer.createVertexBuffer(a,f,a.STATIC_DRAW);this.vao=new b["default"].VertexArrayObject(a).addIndex(this.indexBuffer);for(var e=0;e<this.dynamicProperties.length;++e){d=this.dynamicProperties[e];d.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,d.attribute,a.UNSIGNED_BYTE,!0,this.dynamicStride*4,d.offset*4):this.vao.addAttribute(this.dynamicBuffer,d.attribute,a.FLOAT,!1,this.dynamicStride*4,d.offset*4)}for(var f=0;f<this.staticProperties.length;++f){d=this.staticProperties[f];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,a.UNSIGNED_BYTE,!0,this.staticStride*4,d.offset*4):this.vao.addAttribute(this.staticBuffer,d.attribute,a.FLOAT,!1,this.staticStride*4,d.offset*4)}};a.prototype.uploadDynamic=function(a,b,c){for(var d=0;d<this.dynamicProperties.length;d++){var e=this.dynamicProperties[d];e.uploadFunction(a,b,c,e.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,e.offset)}this.dynamicBuffer.upload()};a.prototype.uploadStatic=function(a,b,c){for(var d=0;d<this.staticProperties.length;d++){var e=this.staticProperties[d];e.uploadFunction(a,b,c,e.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,e.offset)}this.staticBuffer.upload()};a.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null};return a}();tm["default"]=d}var wm=!1,xm=function(){wm||(wm=!0,vm());return um.exports},ym={},zm={exports:ym};function Am(){ym.__esModule=!0;var a=V(),b=g(a);g=sm();var c=f(g);a=xm();var d=f(a),e=S();function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function j(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g=function(a){j(f,a);function f(c){h(this,f);c=i(this,a.call(this,c));c.shader=null;c.indexBuffer=null;c.properties=null;c.tempMatrix=new b.Matrix();c.CONTEXT_UID=0;return c}f.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new c["default"](a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]};f.prototype.start=function(){this.renderer.bindShader(this.shader)};f.prototype.render=function(a){var c=a.children,d=a._maxSize,e=a._batchSize,f=this.renderer,g=c.length;if(g===0)return;else g>d&&(g=d);d=a._glBuffers[f.CONTEXT_UID];d||(d=a._glBuffers[f.CONTEXT_UID]=this.generateBuffers(a));var h=c[0]._texture.baseTexture;this.renderer.setBlendMode(b.utils.correctBlendMode(a.blendMode,h.premultipliedAlpha));var i=f.gl,j=a.worldTransform.copy(this.tempMatrix);j.prepend(f._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=j.toArray(!0);this.shader.uniforms.uColor=b.utils.premultiplyRgba(a.tintRgb,a.worldAlpha,this.shader.uniforms.uColor,h.premultipliedAlpha);this.shader.uniforms.uSampler=f.bindTexture(h);j=!1;for(var h=0,k=0;h<g;h+=e,k+=1){var l=g-h;l>e&&(l=e);if(k>=d.length){if(!a.autoResize)break;d.push(this._generateOneMoreBuffer(a))}var m=d[k];m.uploadDynamic(c,h,l);var n=a._bufferUpdateIDs[k]||0;j=j||m._updateID<n;j&&(m._updateID=a._updateID,m.uploadStatic(c,h,l));f.bindVao(m.vao);m.vao.draw(i.TRIANGLES,l*6)}};f.prototype.generateBuffers=function(a){var b=this.renderer.gl,c=[],e=a._maxSize,f=a._batchSize;a=a._properties;for(var g=0;g<e;g+=f)c.push(new d["default"](b,this.properties,a,f));return c};f.prototype._generateOneMoreBuffer=function(a){var b=this.renderer.gl,c=a._batchSize;a=a._properties;return new d["default"](b,this.properties,a,c)};f.prototype.uploadVertices=function(a,b,c,d,e,f){var g,h,i;for(var j=0;j<c;++j){var k=a[b+j],l=k._texture,m=k.scale.x,n=k.scale.y,o=l.trim;l=l.orig;o?(h=o.x-k.anchor.x*l.width,g=h+o.width,i=o.y-k.anchor.y*l.height,o=i+o.height):(g=l.width*(1-k.anchor.x),h=l.width*-k.anchor.x,o=l.height*(1-k.anchor.y),i=l.height*-k.anchor.y);d[f]=h*m;d[f+1]=i*n;d[f+e]=g*m;d[f+e+1]=i*n;d[f+e*2]=g*m;d[f+e*2+1]=o*n;d[f+e*3]=h*m;d[f+e*3+1]=o*n;f+=e*4}};f.prototype.uploadPosition=function(a,b,c,d,e,f){for(var g=0;g<c;g++){var h=a[b+g].position;d[f]=h.x;d[f+1]=h.y;d[f+e]=h.x;d[f+e+1]=h.y;d[f+e*2]=h.x;d[f+e*2+1]=h.y;d[f+e*3]=h.x;d[f+e*3+1]=h.y;f+=e*4}};f.prototype.uploadRotation=function(a,b,c,d,e,f){for(var g=0;g<c;g++){var h=a[b+g].rotation;d[f]=h;d[f+e]=h;d[f+e*2]=h;d[f+e*3]=h;f+=e*4}};f.prototype.uploadUvs=function(a,b,c,d,e,f){for(var g=0;g<c;++g){var h=a[b+g]._texture._uvs;h?(d[f]=h.x0,d[f+1]=h.y0,d[f+e]=h.x1,d[f+e+1]=h.y1,d[f+e*2]=h.x2,d[f+e*2+1]=h.y2,d[f+e*3]=h.x3,d[f+e*3+1]=h.y3,f+=e*4):(d[f]=0,d[f+1]=0,d[f+e]=0,d[f+e+1]=0,d[f+e*2]=0,d[f+e*2+1]=0,d[f+e*3]=0,d[f+e*3+1]=0,f+=e*4)}};f.prototype.uploadTint=function(a,b,c,d,f,g){for(var h=0;h<c;++h){var i=a[b+h],j=i._texture.baseTexture.premultipliedAlpha,k=i.alpha;j=k<1&&j?e.premultiplyTint(i._tintRGB,k):i._tintRGB+(k*255<<24);d[g]=j;d[g+f]=j;d[g+f*2]=j;d[g+f*3]=j;g+=f*4}};f.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),a.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null};return f}(b.ObjectRenderer);ym["default"]=g;b.WebGLRenderer.registerPlugin("particle",g)}var Bm=!1,Cm=function(){Bm||(Bm=!0,Am());return zm.exports},Dm={},Em={exports:Dm};function Fm(){Dm.__esModule=!0;var a=nm();Object.defineProperty(Dm,"ParticleContainer",{enumerable:!0,get:function(){return c(a)["default"]}});var b=Cm();Object.defineProperty(Dm,"ParticleRenderer",{enumerable:!0,get:function(){return c(b)["default"]}});function c(a){return a&&a.__esModule?a:{"default":a}}}var Gm=!1,Hm=function(){Gm||(Gm=!0,Fm());return Em.exports},Im={},Jm={exports:Im};function Km(){Im.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.maxItemsPerFrame=c,this.itemsLeft=0}b.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};b.prototype.allowedToUpload=function(){return this.itemsLeft-->0};return b}();Im["default"]=b}var Lm=!1,Mm=function(){Lm||(Lm=!0,Km());return Jm.exports},Nm={},Om={exports:Nm};function Pm(){Nm.__esModule=!0;var a=V(),b=e(a);e=Mm();var c=d(e);function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var g=b.ticker.shared;b.settings.UPLOADS_PER_FRAME=4;a=function(){function a(d){var e=this;f(this,a);this.limiter=new c["default"](b.settings.UPLOADS_PER_FRAME);this.renderer=d;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){if(!e.queue)return;e.prepareItems()};this.registerFindHook(m);this.registerFindHook(n);this.registerFindHook(h);this.registerFindHook(i);this.registerFindHook(j);this.registerUploadHook(k);this.registerUploadHook(l)}a.prototype.upload=function(a,c){typeof a==="function"&&(c=a,a=null),a&&this.add(a),this.queue.length?(c&&this.completes.push(c),this.ticking||(this.ticking=!0,g.addOnce(this.tick,this,b.UPDATE_PRIORITY.UTILITY))):c&&c()};a.prototype.tick=function(){setTimeout(this.delayedTick,0)};a.prototype.prepareItems=function(){this.limiter.beginFrame();while(this.queue.length&&this.limiter.allowedToUpload()){var a=this.queue[0],c=!1;if(a&&!a._destroyed)for(var d=0,e=this.uploadHooks.length;d<e;d++)if(this.uploadHooks[d](this.uploadHookHelper,a)){this.queue.shift();c=!0;break}c||this.queue.shift()}if(!this.queue.length){this.ticking=!1;d=this.completes.slice(0);this.completes.length=0;for(var a=0,e=d.length;a<e;a++)d[a]()}else g.addOnce(this.tick,this,b.UPDATE_PRIORITY.UTILITY)};a.prototype.registerFindHook=function(a){a&&this.addHooks.push(a);return this};a.prototype.registerUploadHook=function(a){a&&this.uploadHooks.push(a);return this};a.prototype.add=function(a){for(var c=0,d=this.addHooks.length;c<d;c++)if(this.addHooks[c](a,this.queue))break;if(a instanceof b.Container)for(var c=a.children.length-1;c>=0;c--)this.add(a.children[c]);return this};a.prototype.destroy=function(){this.ticking&&g.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};return a}();Nm["default"]=a;function h(a,c){var d=!1;if(a&&a._textures&&a._textures.length)for(var e=0;e<a._textures.length;e++)if(a._textures[e]instanceof b.Texture){var f=a._textures[e].baseTexture;c.indexOf(f)===-1&&(c.push(f),d=!0)}return d}function i(a,c){if(a instanceof b.BaseTexture){c.indexOf(a)===-1&&c.push(a);return!0}return!1}function j(a,c){if(a._texture&&a._texture instanceof b.Texture){a=a._texture.baseTexture;c.indexOf(a)===-1&&c.push(a);return!0}return!1}function k(a,c){if(c instanceof b.Text){c.updateText(!0);return!0}return!1}function l(a,c){if(c instanceof b.TextStyle){a=c.toFontString();b.TextMetrics.measureFont(a);return!0}return!1}function m(a,c){if(a instanceof b.Text){c.indexOf(a.style)===-1&&c.push(a.style);c.indexOf(a)===-1&&c.push(a);a=a._texture.baseTexture;c.indexOf(a)===-1&&c.push(a);return!0}return!1}function n(a,c){if(a instanceof b.TextStyle){c.indexOf(a)===-1&&c.push(a);return!0}return!1}}var Qm=!1,Rm=function(){Qm||(Qm=!0,Pm());return Om.exports},Sm={},Tm={exports:Sm};function Um(){Sm.__esModule=!0;var a=V(),b=d(a);d=Rm();a=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c=function(a){g(b,a);function b(c){e(this,b);c=f(this,a.call(this,c));c.uploadHookHelper=c.renderer;c.registerFindHook(j);c.registerUploadHook(h);c.registerUploadHook(i);return c}return b}(a["default"]);Sm["default"]=c;function h(a,c){if(c instanceof b.BaseTexture){c._glTextures[a.CONTEXT_UID]||a.textureManager.updateTexture(c);return!0}return!1}function i(a,c){if(c instanceof b.Graphics){(c.dirty||c.clearDirty||!c._webGL[a.plugins.graphics.CONTEXT_UID])&&a.plugins.graphics.updateGraphics(c);return!0}return!1}function j(a,c){if(a instanceof b.Graphics){c.push(a);return!0}return!1}b.WebGLRenderer.registerPlugin("prepare",c)}var Vm=!1,Wm=function(){Vm||(Vm=!0,Um());return Tm.exports},Xm={},Ym={exports:Xm};function Zm(){Xm.__esModule=!0;var a=V(),b=d(a);d=Rm();a=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b==="object"||typeof b==="function")?b:a}function g(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=16;c=function(a){g(b,a);function b(c){e(this,b);c=f(this,a.call(this,c));c.uploadHookHelper=c;c.canvas=document.createElement("canvas");c.canvas.width=h;c.canvas.height=h;c.ctx=c.canvas.getContext("2d");c.registerUploadHook(i);return c}b.prototype.destroy=function(){a.prototype.destroy.call(this),this.ctx=null,this.canvas=null};return b}(a["default"]);Xm["default"]=c;function i(a,c){if(c instanceof b.BaseTexture){c=c.source;var d=c.width===0?a.canvas.width:Math.min(a.canvas.width,c.width),e=c.height===0?a.canvas.height:Math.min(a.canvas.height,c.height);a.ctx.drawImage(c,0,0,d,e,0,0,a.canvas.width,a.canvas.height);return!0}return!1}b.CanvasRenderer.registerPlugin("prepare",c)}var $m=!1,an=function(){$m||($m=!0,Zm());return Ym.exports},bn={},cn={exports:bn};function dn(){bn.__esModule=!0;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(){function b(c){a(this,b),this.maxMilliseconds=c,this.frameStart=0}b.prototype.beginFrame=function(){this.frameStart=Date.now()};b.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return b}();bn["default"]=b}var en=!1,fn=function(){en||(en=!0,dn());return cn.exports},gn={},hn={exports:gn};function jn(){gn.__esModule=!0;var a=Wm();Object.defineProperty(gn,"webgl",{enumerable:!0,get:function(){return f(a)["default"]}});var b=an();Object.defineProperty(gn,"canvas",{enumerable:!0,get:function(){return f(b)["default"]}});var c=Rm();Object.defineProperty(gn,"BasePrepare",{enumerable:!0,get:function(){return f(c)["default"]}});var d=Mm();Object.defineProperty(gn,"CountLimiter",{enumerable:!0,get:function(){return f(d)["default"]}});var e=fn();Object.defineProperty(gn,"TimeLimiter",{enumerable:!0,get:function(){return f(e)["default"]}});function f(a){return a&&a.__esModule?a:{"default":a}}}var kn=!1,ln=function(){kn||(kn=!0,jn());return hn.exports},$={},mn={exports:$};function nn(){$.__esModule=!0;$.loader=$.prepare=$.particles=$.mesh=$.loaders=$.interaction=$.filters=$.extras=$.extract=$.accessibility=void 0;var b=H();Object.keys(b).forEach(function(a){if(a==="default"||a==="__esModule")return;Object.defineProperty($,a,{enumerable:!0,get:function(){return b[a]}})});var c=V();Object.keys(c).forEach(function(a){if(a==="default"||a==="__esModule")return;Object.defineProperty($,a,{enumerable:!0,get:function(){return c[a]}})});var d=hi();n=n(d);d=wi();d=m(d);var e=Li();e=m(e);var f=uj();f=m(f);var g=Ak();g=m(g);var h=dl();h=m(h);var i=Bl();i=m(i);var j=im();j=m(j);var k=Hm();k=m(k);var l=ln();m=m(l);function m(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}}function n(a){return a&&a.__esModule?a:{"default":a}}c.utils.mixins.performMixins();l=i.shared||null;$.accessibility=d;$.extract=e;$.extras=f;$.filters=g;$.interaction=h;$.loaders=i;$.mesh=j;$.particles=k;$.prepare=m;$.loader=l;typeof n["default"]==="function"&&n["default"]($);a.PIXI=$}var on=!1,pn=function(){on||(on=!0,nn());return mn.exports};d=function(a){switch(a){case void 0:return pn()}};e.exports=d}),null);
__d("pixi-js",["pixi-js-4.8.1"],(function(a,b,c,d,e,f){e.exports=b("pixi-js-4.8.1")()}),null);
__d("TypedImmutable",["immutable"],(function(a,b,c,d,e,f){"use strict";c={create:(a=b("immutable")).Iterable.Indexed.bind(a.Iterable)};d={create:a.Iterable.Keyed.bind(a.Iterable)};f={create:a.List.bind(a)};b={create:a.Map.bind(a)};var g={create:a.Set.bind(a)},h=a.Range.bind(a);a=a.is.bind(a);e.exports={ImmIndexedIterable:c,ImmKeyedIterable:d,ImmList:f,ImmMap:b,ImmRange:h,ImmSet:g,is:a}}),null);
__d("XAdPreviewProductSetFetcherController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/dynamic_ads/adpreview/sample_product_set/",{num_products:{type:"Int",required:!0},product_set_id:{type:"FBID",required:!0}})}),null);
__d("XAdsDynamicAdsTemplateVideoContentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ad_preview/dynamic_ads_template_video_content/",{customization:{type:"StringToStringMap",required:!0},product_set_id:{type:"FBID"},template_id:{type:"FBID",required:!0},dynamic_customization:{type:"StringToStringMap"}})}),null);
__d("XAdsSAFRTargetSpecStringTuningAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/special_ad_category/tune_for_category/",{target_spec:{type:"String",required:!0},special_ad_categories:{type:"StringVector",required:!0},ad_account_id:{type:"FBID"}})}),null);
__d("XCanvasMobilePreviewPageRoleTypeaheadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/canvas_preview/typeahead/",{page_id:{type:"String",required:!0},value:{type:"String",defaultValue:""}})}),null);
__d("XCanvasPreviewDynamicPhotoElementsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/canvas/preview_dynamic_photo_element/",{destination_set_id:{type:"FBID",required:!0},limit:{type:"Int",required:!0},product_set_id:{type:"FBID",required:!0},retailer_item_ids:{type:"StringKeyset",required:!0}})}),null);
__d("XCanvasPreviewProductElementsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/canvas/preview_product_elements/",{dynamic_customization:{type:"StringToStringDict"},limit:{type:"Int",required:!0},item_description_template:{type:"String"},item_headline_template:{type:"String"},product_set_id:{type:"FBID",required:!0},retailer_item_ids:{type:"StringKeyset",required:!0},canvas_id:{type:"FBID"}})}),null);
__d("XCanvasVideoUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/canvas_upload/",{target_id:{type:"String",required:!0}})}),null);
__d("XMobileCanvasAdPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/canvas_preview/",{node_id:{type:"String"},page_id:{type:"String",required:!0},user_ids:{type:"IntVector"},is_id_encoded:{type:"Bool",defaultValue:!1},is_instagram_enabled:{type:"Bool",defaultValue:!1},__asyncDialog:{type:"Int"}})}),null);
__d("XShowreelSpecificationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/showreel/specification/",{id:{type:"String",required:!0}})}),null);