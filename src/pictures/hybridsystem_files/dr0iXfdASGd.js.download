if (self.CavalryLogger) { CavalryLogger.start_js(["yKM09"]); }

__d("AdsUEditorCampaignContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({campaignEditorContext:null});e.exports=c}),null);
__d("AdsUEditorHooks",["AdsUEditorAdgroupContext","AdsUEditorCampaignContext","AdsUEditorCampaignGroupContext","React","nullthrows","useSuspensefulAdsSelector"],(function(a,b,c,d,e,f){"use strict";a=b("React");var g=a.useContext,h=function(){return b("nullthrows")(g(b("AdsUEditorCampaignGroupContext")).campaignGroupEditorContext)},i=function(){return b("nullthrows")(g(b("AdsUEditorCampaignContext")).campaignEditorContext)},j=function(){return b("nullthrows")(g(b("AdsUEditorAdgroupContext")).adgroupEditorContext)};c=function(a,c){var d=h();return b("useSuspensefulAdsSelector")(a,d,d,c)};d=function(a,c){var d=i();return b("useSuspensefulAdsSelector")(a,d,d,c)};f=function(a,c){var d=j();return b("useSuspensefulAdsSelector")(a,d,d,c)};a=function(a,c){var d=g(b("AdsUEditorCampaignGroupContext")).campaignGroupEditorContext,e=g(b("AdsUEditorCampaignContext")).campaignEditorContext,f=g(b("AdsUEditorAdgroupContext")).adgroupEditorContext;e=b("nullthrows")((f=(f=f)!=null?f:e)!=null?f:d);return b("useSuspensefulAdsSelector")(a,e,e,c)};e.exports={useUEditorCampaignGroupContext:h,useUEditorCampaignContext:i,useUEditorAdgroupContext:j,useUEditorCampaignGroupAdsSelector:c,useUEditorCampaignAdsSelector:d,useUEditorAdgroupAdsSelector:f,useUEditorAnyLevelAdsSelector:a}}),null);
__d("AdsAdgroupPreviewClientSideContainer.react",["AdsAdgroupPreviewClientSide.react","AdsFluxHooks","AdsRenderSpecUtils","AdsUEditorHooks","React","adsPreviewRenderSpecSelector"],(function(a,b,c,d,e,f){"use strict";c=b("AdsFluxHooks").adsFluxContainer;var g=b("AdsFluxHooks").useAdsSelector,h=b("AdsUEditorHooks").useUEditorAdgroupContext,i=b("React");function a(a){var c=h();c=g(b("adsPreviewRenderSpecSelector"),c,c);c=b("AdsRenderSpecUtils").getPlacementRenderSpec(c,a.format);return!c?null:i.jsx(b("AdsAdgroupPreviewClientSide.react"),babelHelpers["extends"]({},a,{renderSpec:c}))}e.exports=c(a,null,{containerName:e.id})}),null);
__d("adPreviewConsistencySamples",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Map().asMutable();e.exports=a}),null);
__d("AdsAdPreviewClientSideConsistencySampler.react",["AdsAdgroupUnifiedPreviewClientSideContext","AdsAdPreviewUtils","AdsAPIAdgroupRecord","AdsFluxHooks","AdsIGStoryRenderSpecSelectors","AdsPreviewLogger","AdsRenderSpecUtils","AdsUEditorHooks","React","adPreviewConsistencySamples","adsCreateStructuredSelector","adsCurrentAdgroupApiFormatsSelector","adsPlatformAgnosticRenderSpecGKSelector","adsPreviewRenderSpecSelector","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";d=b("AdsFluxHooks").adsFluxContainer;var g=b("AdsFluxHooks").useAdsSelector,h=b("AdsUEditorHooks").useUEditorAdgroupContext,i=b("React");f=b("React");var j=f.useContext,k=f.useEffect,l=b("adsCreateStructuredSelector")({renderSpecMap:b("adsPreviewRenderSpecSelector"),selectedPlacements:b("adsCurrentAdgroupApiFormatsSelector"),usesAgnosticRenderSpec:b("adsPlatformAgnosticRenderSpecGKSelector"),renderProps:b("AdsIGStoryRenderSpecSelectors").selectIGStoryRenderPropsLoadObject},e.id+".selectState");function a(a){var c,d=j(b("AdsAdgroupUnifiedPreviewClientSideContext")),e=h();c=(c=d.selectArg)!=null?c:e;e=g(l,c,c);var f=e.renderSpecMap,i=e.selectedPlacements,m=e.usesAgnosticRenderSpec,n=e.renderProps,o=b("AdsRenderSpecUtils").getPlacementRenderSpec(f,a.format);k(function(){var c=!0;if(c&&o!=null&&o.error==null&&Object.values((c=o.loading)!=null?c:{}).every(function(a){return!a})){c={renderSpecHasFormat:f.has(a.format),formatSelected:i.includes(a.format),usesAgnosticRenderSpec:m,jsOptimizationGK:b("gkx")("1398878"),agnosticContext:!!d.selectArg,loadObject:{object:n.toString(),value:n.getValue(),error:(c=n.getError())==null?void 0:c.message,errorStack:(c=n.getError())==null?void 0:c.stack}};o.igStoryRenderProps==null&&b("AdsPreviewLogger").log("preview_render_props_empty",{actionType:null,adgroupID:a.adid,format:a.format,hasObjectStorySpec:!0,isEdit:!0,loadingCount:0,linkPostFormat:"SINGLE",mediaFormat:"IMAGE",metaMessage:"",previewParent:"Sampler",timeSinceLoad:0,visibilityType:null,newValue:JSON.stringify(c),oldValue:null,unifiedInterfaceRequestID:null});c=b("adPreviewConsistencySamples").get(a.adid,b("immutable").Map()).set(a.format,{adAccountId:a.adAccountId,creativeSpec:a.creativeSpec,renderSpec:babelHelpers["extends"]({},o,{debugData:c}),sampleSource:a.previewParent});b("adPreviewConsistencySamples").set(a.adid,c)}return function(){}},[o,a.adid,a.adAccountId,a.creativeSpec,a.format,a.previewParent]);return null}var m=d(a,null,{containerName:e.id});function c(a){var c=b("AdsAdPreviewUtils").isClientSideSupported(a.format,a.adgroupSpec,a.objective,a.previewParent,a.account,!0),d=new(b("AdsAPIAdgroupRecord"))(a.adgroupSpec),e=d.toJSCached().creative;return c&&e!=null?i.jsx(m,{adAccountId:b("nullthrows")(a.account).account_id,adid:d.id,creativeSpec:e,format:a.format,previewParent:a.previewParent}):null}e.exports=c}),null);
__d("ReactComposerMediaAttachmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CANVAS:"CANVAS",CAROUSEL:"CAROUSEL",SLIDESHOW:"SLIDESHOW",PHOTOS:"PHOTOS",ALBUM:"ALBUM"})}),null);
__d("ComposerXPages",["Arbiter","CurrentUser","DOM","DOMScroll","Event","PagesComposerActions","PagesComposerOverlayActions","PagesComposerUnpublishedPostsStore","PagesComposerUtils","PagesStoryCreationUtils","PagesWWWInstagramBusinessPhotoReminderActionType","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerDispatcher","ReactComposerEvents","ReactComposerInit","ReactComposerMediaAttachmentType","ReactComposerPostUtilsCore","ReactComposerSlideshowActions","ReactComposerSlideshowLoggingStore","ReactComposerStore","Run","URI","ge","setTimeout","PagesWWWInstagramBusinessPhotoReminderStore"],(function(a,b,c,d,e,f){var g,h=b("PagesComposerActions").updatePreviewConfig,i=b("PagesComposerUtils").redirectOnPostSuccess,j=b("PagesStoryCreationUtils").getIsOnlyStorySelected;a={initScrollToComposer:function(a){b("Event").listen(a,"click",function(){this._scrollAndFocus(b("ge")("pagelet_timeline_recent"))}.bind(this))},initScrollToComposerWithUserVoice:function(a,c){b("Event").listen(a,"click",function(){var a=b("ge")(c);b("Arbiter").inform("ComposerXPages/composePostWithActor",{actorID:b("CurrentUser").getID(),callback:function(){b("DOM").find(a,"textarea.input").focus()}});a&&this._scrollAndFocus(a)}.bind(this))},scrollToComposer:function(a){var c=window.location.href;(g||(g=b("URI"))).getRequestURI().getQueryData().focus_composer||(g||(g=b("URI"))).getRequestURI().getQueryData().scroll_to_composer?b("Run").onAfterLoad(function(){this._scrollAndFocus(a)}.bind(this)):c.indexOf("focus_composer")!=-1&&this._scrollAndFocus(a)},registerForClose:function(a){b("Arbiter").subscribe("Pages/closeComposer",function(){a&&a.hide()})},registerForAutoClose:function(a,c,d,e){var f=this;b("Arbiter").subscribe("Pages/composeFinished",function(f,g){if(g.composerID===c){var j=b("PagesComposerUnpublishedPostsStore").getPostActionType(c);f=j==="PREVIEW";if(f)h(c,!1,g.contentID,null,null);else{b("PagesComposerOverlayActions").handleOverlayPostSuccess(c);var k=function(){a&&a.hide(),g.contentID&&b("Arbiter").inform("composer/publish",{content_id:g.contentID,matchData:{content_id:g.contentID},shouldNotReload:d})};d?b("setTimeout")(function(){b("ReactComposerInit").hideComposer(c),k(),b("ReactComposerPostUtilsCore").handlePostSucceeded(c),e!==null&&e!==void 0&&i(e,j)},3e3):k()}}});b("Arbiter").subscribe(b("ReactComposerEvents").COMPOSER_RESET+c,function(b,c){f.registerForAutoClose(a,c.newComposerID)})},shouldHideComposer:function(a){var c=b("PagesComposerUnpublishedPostsStore").getPostActionType(a)==="PREVIEW";return j(a)&&!c},handleStoryCreation:function(a,c){var d=this;b("Arbiter").subscribe(b("ReactComposerEvents").POST_STARTED+c,function(){d.shouldHideComposer(c)&&(b("ReactComposerInit").hideComposer(c),a&&a.hide())});b("Arbiter").subscribe("Pages/createStorySuccess",function(){d.shouldHideComposer(c)&&b("ReactComposerPostUtilsCore").handlePostSucceeded(c)})},attachIGPhoto:function(a,c){b("PagesWWWInstagramBusinessPhotoReminderStore");c={type:b("PagesWWWInstagramBusinessPhotoReminderActionType").SET_SELECTED_PHOTO,selectedPhoto:c,composerID:a};b("ReactComposerDispatcher").dispatch(c);b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").IG_PHOTO_REMINDER,!0,"IG_PHOTO_REMINDER",b("ReactComposerStore").getSproutSurface(a))},openMediaTab:function(a,c){b("ReactComposerAttachmentActions").selectAttachment(a,"MEDIA",!0),c==="SLIDESHOW"&&(b("ReactComposerSlideshowLoggingStore").activate(),b("ReactComposerSlideshowActions").showSlideshowDialog(a,"composer_url_params"))},openCTATab:function(a){b("ReactComposerAttachmentActions").selectAttachment(a,"CTA")},openLivingRoomTab:function(a){b("ReactComposerAttachmentActions").selectAttachment(a,"LIVING_ROOM")},registerLivingRoomAutoClose:function(a,c){b("Arbiter").subscribe("Pages/livingRoomCreated",function(d,e){e.composerID===c&&(b("ReactComposerInit").hideComposer(c),a&&a.hide())})},_scrollAndFocus:function(a){b("DOMScroll").scrollTo(a,500,!1,0,0,function(){b("DOM").find(a,"textarea.input").focus()})}};e.exports=a}),null);