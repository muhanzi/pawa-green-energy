if (self.CavalryLogger) { CavalryLogger.start_js(["ukuuQ"]); }

__d("ChannelConnectionEvents",[],(function(a,b,c,d,e,f){e.exports={CONNECTED:"chat-connection/connected",RECONNECTING:"chat-connection/reconnecting",SHUTDOWN:"chat-connection/shutdown",MUTE_WARNING:"chat-connection/mute",UNMUTE_WARNING:"chat-connection/unmute"}}),null);
__d("ChannelConnection",["Arbiter","ArbiterMixin","ChannelConnectionEvents","ChannelConstants","ChannelManager","Run","SystemEvents","Visibility","clearTimeout","emptyFunction","mixin","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g=null,h=null,i=null,j=null,k=0;a.__comet_ssr_is_server_env_DO_NOT_USE!==!0&&a.__is_archon!==!0&&b("ChannelManager").startChannelManager();c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.CONNECTED=b("ChannelConnectionEvents").CONNECTED,d.RECONNECTING=b("ChannelConnectionEvents").RECONNECTING,d.SHUTDOWN=b("ChannelConnectionEvents").SHUTDOWN,d.MUTE_WARNING="chat-connection/mute",d.UNMUTE_WARNING="chat-connection/unmute",d.unmuteWarning=n,c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.disconnected=function(){return j===l.SHUTDOWN||j===l.RECONNECTING&&!h&&k>1};d.isShutdown=function(){return j===l.SHUTDOWN};d.reconnect=function(a){a===void 0&&(a=!1);if(b("ChannelManager").state==="ping"||b("ChannelManager").state==="pull"||b("ChannelManager").isShutdown())return;l.inform(l.RECONNECTING,0);a?(g!==null&&(b("clearTimeout")(g),g=null),b("ChannelManager").enterState("ping!")):g||(g=b("setTimeoutAcrossTransitions")(function(){b("ChannelManager").enterState("ping!"),g=null},b("ChannelConstants").CHANNEL_MANUAL_RECONNECT_DEFER_MSEC));b("ChannelManager").resetDelay()};d.mockAfterLoad=function(){r(),s()};return c}(b("mixin")(b("ArbiterMixin")));var l=new c();b("Run").onBeforeUnload(b("emptyFunction"),!1);function m(){h&&(b("clearTimeout")(h),h=null)}function n(){m(),l.inform(l.UNMUTE_WARNING)}function o(a){m(),h=b("setTimeoutAcrossTransitions")(n,a),l.inform(l.MUTE_WARNING)}function p(){i&&(b("clearTimeout")(i),i=null)}function q(a,c){p();if(a===b("ChannelConstants").ON_ENTER_STATE&&(c.nextState||c.state)==="pull"){if(j!==l.CONNECTED){var d=!j;j=l.CONNECTED;k=0;l.inform(l.CONNECTED,{init:d})}}else a===b("ChannelConstants").ON_ENTER_STATE&&((c.nextState||c.state)==="ping"||!c.nextState&&c.state==="idle")?i=b("setTimeoutAcrossTransitions")(function(){var b=null;c.state==="idle"&&!c.nextState||(b=c.delay||0);j=l.RECONNECTING;c.state==="idle"&&k++;k>1?l.inform(l.RECONNECTING,b):!c.nextState&&c.state==="idle"&&q(a,c)},500):a===b("ChannelConstants").ON_SHUTDOWN&&(j=l.SHUTDOWN,k=0,l.inform(l.SHUTDOWN,c.reason))}function r(){b("ChannelManager").isShutdown()?q(b("ChannelConstants").ON_SHUTDOWN,b("ChannelManager")._shutdownHint):q(b("ChannelConstants").ON_ENTER_STATE,{state:b("ChannelManager").state,nextState:b("ChannelManager").nextState,delay:0}),b("Visibility").addListener(b("Visibility").VISIBLE,l.reconnect)}b("Run").onAfterLoad(r);function s(){b("Arbiter").subscribe([b("ChannelConstants").ON_ENTER_STATE,b("ChannelConstants").ON_SHUTDOWN],q),b("Arbiter").subscribe(b("ChannelConstants").ATTEMPT_RECONNECT,function(){l.disconnected()&&l.reconnect()}),b("SystemEvents").subscribe(b("SystemEvents").TIME_TRAVEL,function(){l.reconnect(),o(b("ChannelConstants").MUTE_WARNING_TIME_MSEC)}),b("Run").onBeforeUnload(p,!1)}b("Run").onAfterLoad(s);e.exports=l}),3);
__d("ZenonDeviceInfoUtils",["UserAgentData"],(function(a,b,c,d,e,f){"use strict";e.exports={getDeviceSoftwareInfo:function(){var a=b("UserAgentData").platformName,c=b("UserAgentData").browserName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(a+=" Mobile",c==="Chrome"&&(c="Mobile "+c));window.external&&window.external.pinPage&&(c==="Chrome"&&(c+=" Edge"));return{device:b("UserAgentData").deviceName,os:a,os_version:b("UserAgentData").platformFullVersion,browser:c,browser_version:b("UserAgentData").browserFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,user_agent:window.navigator.userAgent}}}}),null);
__d("ZenonMediaError",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ICE_FAILURE:"ICE failed",ICE_DISCONNECTED:"Connection Dropped"});e.exports={ZenonMediaError:a}}),null);
__d("ZenonDismissReason",["ZenonMediaError"],(function(a,b,c,d,e,f){"use strict";var g;f=b("ZenonMediaError").ZenonMediaError;b=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,IN_ANOTHER_CALL:2,ACCEPT_AFTER_HANGUP:3,NO_ANSWER_TIMEOUT:4,INCOMING_TIMEOUT:5,OTHER_INSTANCE_HANDLED:6,SIGNALING_MESSAGE_FAILED:7,CONNECTION_DROPPED:8,CLIENT_INTERRUPTED:9,WEBRTC_ERROR:10,CLIENT_ERROR:11,NO_PERMISSION:12,OTHER_NOT_CAPABLE:13,NO_UI_ERROR:14,UNSUPPORTED_VERSION:15,CALLER_NOT_VISIBLE:16,CARRIER_BLOCKED:17,OTHER_CARRIER_BLOCKED:18,CLIENT_ENCRYPTION_ERROR:19,MICROPHONE_PERMISSION_DENIED:20,CAMERA_PERMISSION_DENIED:21,SESSION_MIGRATED:22,RING_MUTED:23,JOIN_APPROVAL_DENIED:24,REJECTED_BY_CALLEE:25,CALL_ENDED_BY_PRODUCT:26,CALL_ENDED:27,ANSWERED_ON_ANOTHER_DEVICE:28,REJECTED_ON_ANOTHER_DEVICE:29,CALL_COLLISION:30,MAX_ALLOWED_PARTICIPANTS_REACHED:31});function a(a){return h[a]}function c(a){return i[a]}function d(a){return j[a]}var h=Object.freeze({HangupCall:b.HANGUP_CALL,IgnoreCall:b.IGNORE_CALL,InAnotherCall:b.IN_ANOTHER_CALL,CallEndAcceptAfterHangUp:b.ACCEPT_AFTER_HANGUP,NoAnswerTimeout:b.NO_ANSWER_TIMEOUT,IncomingTimeout:b.INCOMING_TIMEOUT,OtherInstanceHandled:b.OTHER_INSTANCE_HANDLED,SignalingMessageFailed:b.SIGNALING_MESSAGE_FAILED,ConnectionDropped:b.CONNECTION_DROPPED,ClientInterrupted:b.CLIENT_INTERRUPTED,WebRTCError:b.WEBRTC_ERROR,ClientError:b.CLIENT_ERROR,NoPermission:b.NO_PERMISSION,OtherNotCapable:b.OTHER_NOT_CAPABLE,NoUIShown:b.NO_UI_ERROR,VersionUnsupported:b.UNSUPPORTED_VERSION,CallerNotVisible:b.CALLER_NOT_VISIBLE,CarrierBlocked:b.CARRIER_BLOCKED,OtherCarrierBlocked:b.OTHER_CARRIER_BLOCKED,ClientEncryptionError:b.CLIENT_ENCRYPTION_ERROR,InactiveTimeout:b.CALL_ENDED,Unknown:b.CALL_ENDED}),i=Object.freeze((g={},g[b.HANGUP_CALL]="HangupCall",g[b.IGNORE_CALL]="IgnoreCall",g[b.IN_ANOTHER_CALL]="InAnotherCall",g[b.ACCEPT_AFTER_HANGUP]="CallEndAcceptAfterHangUp",g[b.NO_ANSWER_TIMEOUT]="NoAnswerTimeout",g[b.INCOMING_TIMEOUT]="IncomingTimout",g[b.OTHER_INSTANCE_HANDLED]="OtherInstanceHandled",g[b.SIGNALING_MESSAGE_FAILED]="SignalingMessageFailed",g[b.CONNECTION_DROPPED]="ConnectionDropped",g[b.CLIENT_INTERRUPTED]="ClientInterrupted",g[b.WEBRTC_ERROR]="WebRTCError",g[b.CLIENT_ERROR]="ClientError",g[b.NO_PERMISSION]="NoPermission",g[b.OTHER_NOT_CAPABLE]="OtherNotCapable",g[b.NO_UI_ERROR]="NoUIShown",g[b.UNSUPPORTED_VERSION]="VersionUnsupported",g[b.CALLER_NOT_VISIBLE]="CallerNotVisible",g[b.CARRIER_BLOCKED]="CarrierBlocked",g[b.OTHER_CARRIER_BLOCKED]="OtherCarrierBlocked",g[b.CLIENT_ENCRYPTION_ERROR]="ClientEncryptionError",g)),j=Object.freeze((g={},g[f.ICE_FAILURE]=b.WEBRTC_ERROR,g[f.ICE_DISCONNECTED]=b.CONNECTION_DROPPED,g));e.exports={endCallToDismissReason:a,dismissToEndCallReason:c,mediaErrorToDismissReason:d,ZenonDismissReason:b}}),null);
__d("ZenonVCSTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip",MWS:"mws"});b=Object.freeze({LL_NONE:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5});e.exports={ZenonCallType:a,ZenonUploadLogLevel:b}}),null);
__d("ZenonCallSummary",["FBRTCExperiment","FBRTCLocalUploadLogLevel","SiteData","ZenonCallSummaryStore","ZenonDeviceInfoUtils","ZenonDismissReason","ZenonVCSTypes","gkx","performanceNow"],(function(a,b,c,d,e,f){"use strict";var g;b("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance;var h=b("ZenonVCSTypes").ZenonCallType,i=b("ZenonVCSTypes").ZenonUploadLogLevel,j={PRESSED_ANSWER:"p_a"};function k(a){if(a==="mw"){a=b("FBRTCExperiment").gen("rtc_www_zenon_platform_support");a=a.getBool("use_zenon_platform",!1,!1);if(a)return"ZenonPlatform"}a=b("gkx")("1154135");return a?"ZenonScotch":"Old Codebase"}var l=19,m=24,n={CALL_STARTED:"started",SENT_OFFER:"s_o",RECV_OFFER:"r_o",SENT_OFFER_ACK:"s_oack",RECV_OFFER_ACK:"r_oack",SENT_RETRIED_OFFER:"s_o2",RECV_RETRIED_OFFER:"r_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",RECV_RETRIED_OFFER_ACK:"r_oack2",SENT_PRANSWER:"s_pr",RECV_PRANSWER:"r_pr",NETWORK_READY:"network_ready",SENT_ANSWER:"s_a",RECV_ANSWER:"r_a",SENT_ANSWER_ACK:"s_aack",RECV_ANSWER_ACK:"r_aack",SENT_RETRIED_ANSWER:"s_a2",RECV_RETRIED_ANSWER:"r_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",RECV_RETRIED_ANSWER_ACK:"r_aack2",SENT_OK:"s_ok",RECV_OK:"r_ok",CALL_CONNECTED:"connected",CALL_ENDED:"ended",SENT_JOIN_REQUEST:"s_jreq",RECV_JOIN_RESPONSE:"r_jresp",PROC_JOIN_RESPONSE:"p_jresp",RECV_RING_REQUEST:"r_rreq",SENT_RING_RESPONSE:"s_rresp"},o={DEVICE_INFO:"device_info",INITIATED_BY_PAGE_ID:"initiated_by_page_id",INITIATED_BY_APP_ID:"initiated_by_app_id",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown",PEER_IS_MOBILE:"peer_is_mobile",RATING_SHOWN:"rating_shown",RATING:"rating5"};a=function(){function a(a){var c=a.peerID,d=a.callID,e=a.callTrigger,f=a.isCaller,i=a.uploadLogLevel,j=a.protocol;a=a.isVideo;this.$22=0;this.$23=0;this.$28={};this.$29={};this.$30={};this.$31={};this.$32={};this.$33={};this.$34={};this.$35={};this.$41={sender:{},receiver:{},video:{}};this.$43={};this.$1=c;this.$2=d;this.$4=f;this.$3=m;this.$7=k(j);this.$5=(c=i)!=null?c:b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel();this.$6=e;this.$25=new Date().valueOf();this.$8=j!=="p2p"?"mws":"p2p";this.$18=null;this.$17=null;this.$8==="p2p"?this.setCallType(a?h.DIRECT_VIDEO:h.VOIP):this.setCallType(h.MWS);this.$27=(g||(g=b("performanceNow")))();this.$26=0;this.$24=this.$27;this.$42=0;this.$43[o.DEVICE_INFO]=b("ZenonDeviceInfoUtils").getDeviceSoftwareInfo();this.$44()}a.fromJsonString=function(b){var c;try{b=JSON.parse(b)}catch(a){return null}if(b.version<l)return null;if(!Object.prototype.hasOwnProperty.call(b,"peerID")||!Object.prototype.hasOwnProperty.call(b,"callID")||!Object.prototype.hasOwnProperty.call(b,"isCaller")||!Object.prototype.hasOwnProperty.call(b,"startTime")||!Object.prototype.hasOwnProperty.call(b,"trigger")||!Object.prototype.hasOwnProperty.call(b,"signalingTime")||!Object.prototype.hasOwnProperty.call(b,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(b,"lastSerializedTime"))return null;var d=new a({peerID:b.peerID,callID:b.callID,isCaller:b.isCaller,protocol:b.activeConn,isVideo:b.callType===h.DIRECT_VIDEO});d.$3=b.version;d.$5=b.uploadLogLevel;d.$25=b.startTime;d.$6=b.trigger;d.$7=b.clientVersion;d.$28=b.signalingTime;d.$14=b.endCallReason;d.$15=b.endCallSubreason;d.$16=b.isRemoteEnded;d.$22=b.lastUpdatedTime;d.$23=b.lastSerializedTime;d.$10=b.joinWithSID;d.$18=(c=b.endIsConnected)!=null?c:null;d.$17=(c=b.pcIsConnected)!=null?c:null;b.conferenceName&&(d.$9=b.conferenceName);b.escP2PCallID&&(d.$11=b.escP2PCallID);b.activeConn&&(d.$8=b.activeConn);b.serverInfoData&&(d.$13=b.serverInfoData);b.localVideoDuration&&(d.$36=b.localVideoDuration);b.remoteVideoDuration&&(d.$37=b.remoteVideoDuration);b.unsetOnRetrieve&&(d.$21=b.unsetOnRetrieve);b.openCount&&(d.$42=b.openCount);b.extraInfo&&(d.$43=b.extraInfo);b.gen0IceSentCount&&(d.$32=b.gen0IceSentCount);b.gen0IceReceivedCount&&(d.$33=b.gen0IceReceivedCount);b.iceSentCount&&(d.$34=b.iceSentCount);b.iceReceivedCount&&(d.$35=b.iceReceivedCount);b.accumulatedCallTime&&(d.$26=b.accumulatedCallTime);b.escStateTimes&&(d.$29=b.escStateTimes);b.applicationEventTime&&(d.$30=b.applicationEventTime);b.videoEscTimes&&(d.$31=b.videoEscTimes);b.mediaStats&&(d.$41=b.mediaStats);b.connectionType&&(d.$19=b.connectionType);b.videoReceivedCodec!==null&&(d.$38=b.videoReceivedCodec);b.videoSentCodec!==null&&(d.$39=b.videoSentCodec);b.audioSentCodec!==null&&(d.$40=b.audioSentCodec);b.relayIP!==null&&b.relayIP!==void 0&&(d.$20=b.relayIP);return d};var c=a.prototype;c.toJsonString=function(){this.$23=new Date().valueOf();return JSON.stringify({version:this.$3,peerID:this.$1,callID:this.$2,isCaller:this.$4,uploadLogLevel:this.$5,callType:this.$12,conferenceName:this.$9,joinWithSID:this.$10,activeConn:this.$8,escP2PCallID:this.$11,serverInfoData:this.$13,localVideoDuration:this.$36,remoteVideoDuration:this.$37,startTime:this.$25,trigger:this.$6,signalingTime:this.$28,escStateTimes:this.$29,applicationEventTime:this.$30,videoEscTimes:this.$31,endCallReason:this.$14,endCallSubreason:this.$15,pcIsConnected:this.$17,endIsConnected:this.$18,isRemoteEnded:this.$16,lastUpdatedTime:this.$22,lastSerializedTime:this.$23,unsetOnRetrieve:this.$21,extraInfo:this.$43,gen0IceSentCount:this.$32,gen0IceReceivedCount:this.$33,iceSentCount:this.$34,iceReceivedCount:this.$35,connectionType:this.$19,mediaStats:this.$41,accumulatedCallTime:this.$45(),videoReceivedCodec:this.$38,videoSentCodec:this.$39,audioSentCodec:this.$40,relayIP:this.$20,clientVersion:this.$7})};c.unsetEndCallFields=function(){this.$14=null,this.$15=null,this.$16=null,delete this.$28[n.CALL_ENDED],this.$27=0,this.$21=null};c.isNull=function(){return this.$1==="0"&&this.$2==="0"&&!this.$4&&this.$6==="NULL_SUMMARY"};c.getExtraInfo=function(){return this.$43};c.getLastUpdatedTime=function(){return this.$22};c.save=function(a){a.storeCallSummary(this.$1,this.$2,this),this.$24=(g||(g=b("performanceNow")))()};c.onCallAccepted=function(a){this.$30[j.PRESSED_ANSWER]=this.$45(),this.$6=a,this.$44()};c.onCallConnected=function(){this.$46(n.CALL_CONNECTED),this.$44()};c.onCallEnded=function(a,b,c,d){this.$21=c,this.$14=a,this.$15=d,this.$16=b,this.$46(n.CALL_ENDED),this.$18===null&&(this.$18=this.$17),this.$44()};c.setPCIsConnected=function(a){this.$17=a};c.onInviteResponded=function(){var a=this.$8==="p2p"?n.SENT_OFFER_ACK:n.SENT_RING_RESPONSE;this.$46(a);this.$44()};c.onInviteReceived=function(){var a=this.$8==="p2p"?n.RECV_OFFER:n.RECV_RING_REQUEST;this.$46(a);this.$44()};c.onInviteSent=function(){this.$46(n.SENT_JOIN_REQUEST),this.$44()};c.onInviteResponseReceived=function(){this.$46(n.RECV_JOIN_RESPONSE),this.$44()};c.onInviteResponseProcessed=function(){this.$46(n.PROC_JOIN_RESPONSE),this.$44()};c.onMediaConnected=function(){this.$46(n.NETWORK_READY),this.$44()};c.setIsPeerMobile=function(a){this.$43[o.PEER_IS_MOBILE]=a?"1":"0",this.$44()};c.setCallType=function(a){this.$12=a,this.$44()};c.setConferenceName=function(a){this.$9=a,this.$44()};c.setConnectionType=function(a){this.$19=a,this.$44()};c.setInitByPageID=function(a){this.$43[o.INITIATED_BY_PAGE_ID]=a,this.$44()};c.setInitByAppID=function(a){a!=null&&(this.$43[o.INITIATED_BY_APP_ID]=a,this.$44())};c.setJoinWithSID=function(a){this.$10=a,this.$44()};c.setMediaStats=function(a){this.$41=a,this.$32&&(this.$41.sender.ice_g0=this.$32),this.$34&&(this.$41.sender.ice=this.$34),this.$33&&(this.$41.receiver.ice_g0=this.$33),this.$35&&(this.$41.receiver.ice=this.$35),this.$44()};c.setServerInfoData=function(a){this.$13=a,this.$44()};c.setRating=function(a){this.$43[o.RATING]=a,this.$44()};c.setFeedback=function(a){this.$43[o.SURVEY_DETAILS]=a,this.$44()};c.setSurveyChoice=function(a){this.$43[o.SURVEY_CHOICE]=a,this.$44()};c.$46=function(a){if(this.$28[a]!=null)return;this.$28[a]=this.$45()};c.$45=function(){var a=(g||(g=b("performanceNow")))()-this.$27;return Math.floor(this.$26+a)};c.$44=function(){this.$22=new Date().valueOf()};c.toString=function(){var a={core_metrics:this.$47(),time_series:null};return JSON.stringify(a)};c.$47=function(){return{ver:this.$3,log_level:this.$48(this.$5),caller:this.$4,call_type:this.$12,active_conn:this.$8,app_event_times:this.$30,conf_name:this.$9,join_with_sid:this.$10,esc_p2p_call_id:this.$11,esc_state_times:this.$29,vid_esc_times:this.$31,serv_info:this.$13,conn:this.$49(),peer_id:this.$1,open_count:this.$42,signaling:this.$50(),sender:this.$41.sender,receiver:this.$41.receiver,end:this.$51(),video:this.$41.video,push_phase:b("SiteData").push_phase,client_version:this.$7}};c.$48=function(a){switch(a){case i.LL_BASIC:return"basic";case i.LL_DEBUG:return"debug";case i.LL_WARNING:return"warning";case i.LL_INFO:return"info";case i.LL_VERBOSE:return"verbose";default:return""}};c.$49=function(){var a={},b=this.$41.sender,c=b.avgrtt,d=b.maxrtt;b=b.minrtt;c!=null&&(a.avgrtt=c,a.maxrtt=d,a.minrtt=b);this.$20!=null&&(a.relay_ip=this.$20);return a};c.$50=function(){var a={start_time:this.$25,time_from_start:this.$28};this.$6!=null&&(a.trigger=this.$6);var b=this.$52();b>0&&(a.duration=b);return a};c.$52=function(a){var b=this.$28[n.CALL_CONNECTED]||this.$28[n.NETWORK_READY];if(!b)return 0;a=this.$28[n.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$26||this.$45();return Math.max(0,a-b)};c.$51=function(){var a={};this.$14!=null&&(a.end_call_reason_string=b("ZenonDismissReason").dismissToEndCallReason(this.$14),this.$15!==null&&(a.end_call_subreason_string=this.$15),a.remote_ended=this.$16,a.end_ctd=this.$18);this.$19!=null&&(a.conn_type=this.$19);return a};return a}();e.exports=a}),null);
__d("ZenonCallSummaryStore",["CacheStorage","FBLogger","ZenonCallSummary","areEqual","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g,h="localstorage",i="RTC_CALL_SUMMARY_",j="summary",k=2e3,l=3;a=function(){function a(){this.$1=new(b("CacheStorage"))(h,i)}var c=a.prototype;c.getCallSummaries=function(){return this.$1.get(j)||{}};c.retrieveCallSummary=function(a,c){var d=this.getCallSummaries();d=d[a]?d[a][c]:null;if(d)return b("ZenonCallSummary").fromJsonString(d.__d);else return null};c.removeCallSummaries=function(a){this.$2(function(b){a.forEach(function(a){var c=a.peerID;a=a.callID;b[c]&&(b[c][a]&&(delete b[c][a],Object.entries(b[c]).length===0&&delete b[c]))});return b})};c.storeCallSummary=function(a,c,d){if(d.isNull()){b("FBLogger")("rtweb").mustfix("Storing invalid ZenonCallSummary!");return}this.$2(function(b){b[a]||(b[a]={});b[a][c]={__d:d.toJsonString(),__t:Date.now(),__z:!0};return b})};c.$2=function(a,c,d){var e=this;c===void 0&&(c=l);d===void 0&&(d=!1);var f=this.getCallSummaries(),h=this.getCallSummaries();f=a(f);var i=this.getCallSummaries();(g||(g=b("areEqual")))(h,i)?this.$1.set(j,f):c>0&&(d?b("setTimeout")(function(){e.$2(a,c-1,!0)},k):this.$2(a,c-1,!0))};return a}();c=new a();e.exports={ZenonCallSummaryStoreInstance:c}}),null);
__d("ZenonCallSummaryUploader",["ChannelClientID","MarauderLogger","ZenonCallSummary","ZenonCallSummaryStore"],(function(a,b,c,d,e,f){var g=b("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance,h=3*60*1e3,i="rtc_client_call_summary",j="webrtc";function k(a){var c=a.peerID,d=a.callID;a=a.callSummary;d=babelHelpers["extends"]({call_id:d,channel_session_id:b("ChannelClientID").getID(),content:a.toString(),peer_id:c,tag:"endcallstats"},a.getExtraInfo());b("MarauderLogger").log(i,j,d)}var l={logCallSummaries:function(){var a=l.getLoggableSummaries(),b=[];a.forEach(function(a){var c=a.peerID,d=a.callID;a=a.callSummary;k({peerID:c,callID:d,callSummary:a});b.push({peerID:c,callID:d})});g.removeCallSummaries(b)},getLoggableSummaries:function(){var a=g.getCallSummaries(),c=[];for(var d in a)for(var e in a[d]){var f=a[d][e];if(f.__z){var i=f.__t;if(Date.now()-i>h){i=b("ZenonCallSummary").fromJsonString(f.__d);i&&c.push({peerID:d,callID:e,callSummary:i})}}}return c}};e.exports=l}),null);
__d("FBRTCCallSummaryUploader",["Banzai","FBRTCCallSummary","FBRTCCallSummaryStore","ZenonCallSummaryUploader"],(function(a,b,c,d,e,f){a={init:function(){var a=b("FBRTCCallSummaryStore").getInstance();b("Banzai").subscribe(b("Banzai").SEND,function(){b("ZenonCallSummaryUploader").logCallSummaries(),b("FBRTCCallSummary").logSavedSummaries(a)})}};e.exports=a}),null);
__d("MNCommerceActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a={RECEIPT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},SHIPMENT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},DIALOG:{SHOW:null,HIDE:null},RETAIL_ITEM:{LOADED:null,LOAD_ERROR:null,RELOAD:null},PROMOTION_STATE:{LOADED:null,LOAD_ERROR:null,RELOAD:null},TRANSACTION_INVOICE:{LOADED:null,LOAD_ERROR:null,RELOAD:null},BOT_REVIEW_STATE:{LOADED:null,LOAD_ERROR:null,RELOAD:null}};c=b("keyMirrorRecursive")(a);e.exports=c}),null);
__d("MNCommerceDialogStateStore",["FluxStore","MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerDispatcher"))||this;c.$MNCommerceDialogStateStore1=null;c.$MNCommerceDialogStateStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){var c=a.type;switch(c){case b("MNCommerceActionTypes").DIALOG.SHOW:this.$MNCommerceDialogStateStore1=a.dialogContainer;this.$MNCommerceDialogStateStore2=a.state;this.__emitChange();break;case b("MNCommerceActionTypes").DIALOG.HIDE:this.$MNCommerceDialogStateStore1=null;this.$MNCommerceDialogStateStore2=null;this.__emitChange();break}};d.getDialogContainer=function(){return this.$MNCommerceDialogStateStore1};d.getState=function(){return this.$MNCommerceDialogStateStore2};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("MNCommerceDialogContainer.react",["MNCommerceDialogStateStore","PureStoreBasedStateMixin","React","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=b("createReactClass_DEPRECATED")({displayName:"MNCommerceDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("MNCommerceDialogStateStore"))],statics:{calculateState:function(){var a=b("MNCommerceDialogStateStore").getDialogContainer();return{dialogContainer:a}}},render:function(){var a=this.state.dialogContainer;return!a?null:g.jsx(a,{})}});e.exports=a}),null);
__d("P2PDialogStore",["EventEmitter","P2PActionConstants","P2PDispatcher"],(function(a,b,c,d,e,f){"use strict";var g={};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;b("P2PDispatcher").register(c.onEventDispatched.bind(babelHelpers.assertThisInitialized(c)));g={dialogClass:null,dialogProps:null};return c}var d=c.prototype;d.getState=function(){return g};d.onEventDispatched=function(a){var c=a.type;a=a.data;switch(c){case b("P2PActionConstants").DIALOG_SHOWN:g.dialogClass=a.dialogClass;g.dialogProps=a.dialogProps;this.emit("change");break;case b("P2PActionConstants").DIALOG_CLOSED:g.dialogClass=null;g.dialogProps=null;this.emit("change");break}};return c}(b("EventEmitter"));e.exports=new a()}),null);
__d("P2PDialogContainer.react",["P2PDialogStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=b("P2PDialogStore").getState(),d.onDialogStoreChange=function(){d.setState(b("P2PDialogStore").getState())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.dialogStoreSub=b("P2PDialogStore").addListener("change",this.onDialogStoreChange)};d.componentWillUnmount=function(){this.dialogStoreSub&&(this.dialogStoreSub.remove(),this.dialogStoreSub=null)};d.render=function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return g.createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))};return c}(g.Component);e.exports=a}),null);
__d("PagesPlatformActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BOOKING_REQUEST_ACCEPT_ERROR:"booking_request_accept_error",BOOKING_REQUEST_ACCEPT_INITIATED:"booking_request_accept_initiated",BOOKING_REQUEST_ACCEPTED:"booking_request_accepted",BOOKING_REQUEST_CREATED:"booking_request_created",BOOKING_REQUEST_DECLINE_ERROR:"booking_request_decline_error",BOOKING_REQUEST_DECLINE_INITIATED:"booking_request_decline_initiated",BOOKING_REQUEST_DECLINED:"booking_request_declined",BOOKING_REQUEST_RESCHEDULE_INITIATED:"booking_request_reschedule_initiated",BOOKING_REQUEST_RESCHEULED:"booking_request_reschedule",DIALOG_CLOSED:"dialog_closed",DIALOG_SHOWN:"dialog_shown",NEW_TIME_CHOSEN:"new_time_chosen"});e.exports=a}),null);
__d("PagesPlatformRequestDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("Dispatcher_DEPRECATED"))()}),null);
__d("PagesPlatformDialogStore",["EventEmitter","PagesPlatformActionConstants","PagesPlatformRequestDispatcher"],(function(a,b,c,d,e,f){"use strict";var g={};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;b("PagesPlatformRequestDispatcher").register(c.onEventDispatched.bind(babelHelpers.assertThisInitialized(c)));g={dialogClass:null,dialogProps:null};return c}var d=c.prototype;d.getState=function(){return g};d.onEventDispatched=function(a){var c=a.type;a=a.data;switch(c){case b("PagesPlatformActionConstants").DIALOG_SHOWN:g.dialogClass=a.dialogClass;g.dialogProps=a.dialogProps;this.emit("change");break;case b("PagesPlatformActionConstants").DIALOG_CLOSED:g.dialogClass=null;g.dialogProps=null;this.emit("change");break}};return c}(b("EventEmitter"));e.exports=new a()}),null);
__d("PagesPlatformDialogContainer.react",["PagesPlatformDialogStore","PureStoreBasedStateMixin","React","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=b("createReactClass_DEPRECATED")({displayName:"PagesPlatformDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("PagesPlatformDialogStore"))],statics:{calculateState:function(){return b("PagesPlatformDialogStore").getState()}},render:function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return g.createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))}});e.exports=a}),null);
__d("FBPaymentsDialogStore",["FBPaymentsDialogActions","FBPaymentsDispatcher","FluxStore"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("FBPaymentsDispatcher"))||this;c.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null};return c}var d=c.prototype;d.__onDispatch=function(a){var c=a.type;a=a.data;switch(c){case b("FBPaymentsDialogActions").types.SHOW_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:a.dialogClass,dialogProps:a.dialogProps};this.__emitChange();break;case b("FBPaymentsDialogActions").types.HIDE_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null};this.__emitChange();break}};d.getState=function(){return this.$FBPaymentsDialogStore1};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("FBPaymentsDialogContainer.react",["FBPaymentsDialogStore","FBPaymentsDispatcher","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(){return b("FBPaymentsDialogStore").getState()};c.getStores=function(){return[b("FBPaymentsDialogStore")]};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("FBPaymentsDispatcher").explicitlyRegisterStore(b("FBPaymentsDialogStore"))};d.render=function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return g.createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))};return c}(g.Component);e.exports=b("FluxContainer").create(a)}),null);
__d("SyncProtocolConstants",[],(function(a,b,c,d,e,f){a={IRIS_CURSOR_LIMIT:"IRIS_CURSOR_LIMIT",SNAPSHOT_FAILURE:"SNAPSHOT_FAILURE"};e.exports=a}),null);